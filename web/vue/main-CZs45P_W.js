function e(e){const t=/* @__PURE__ */Object.create(null);for(const n of e.split(","))t[n]=1;return e=>e in t}const t={},n=[],a=()=>{},l=()=>!1,s=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),o=e=>e.startsWith("onUpdate:"),i=Object.assign,r=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},u=Object.prototype.hasOwnProperty,c=(e,t)=>u.call(e,t),d=Array.isArray,v=e=>"[object Map]"===k(e),p=e=>"[object Set]"===k(e),f=e=>"[object Date]"===k(e),h=e=>"function"==typeof e,m=e=>"string"==typeof e,g=e=>"symbol"==typeof e,y=e=>null!==e&&"object"==typeof e,b=e=>(y(e)||h(e))&&h(e.then)&&h(e.catch),w=Object.prototype.toString,k=e=>w.call(e),_=e=>"[object Object]"===k(e),C=e=>m(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,x=/* @__PURE__ */e(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),S=e=>{const t=/* @__PURE__ */Object.create(null);return n=>t[n]||(t[n]=e(n))},I=/-\w/g,T=S(e=>e.replace(I,e=>e.slice(1).toUpperCase())),A=/\B([A-Z])/g,U=S(e=>e.replace(A,"-$1").toLowerCase()),M=S(e=>e.charAt(0).toUpperCase()+e.slice(1)),L=S(e=>e?`on${M(e)}`:""),F=(e,t)=>!Object.is(e,t),P=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},N=(e,t,n,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:n})},D=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let j;const O=()=>j||(j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function E(e){if(d(e)){const t={};for(let n=0;n<e.length;n++){const a=e[n],l=m(a)?$(a):E(a);if(l)for(const e in l)t[e]=l[e]}return t}if(m(e)||y(e))return e}const R=/;(?![^(]*\))/g,B=/:([^]+)/,V=/\/\*[^]*?\*\//g;function $(e){const t={};return e.replace(V,"").split(R).forEach(e=>{if(e){const n=e.split(B);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function W(e){let t="";if(m(e))t=e;else if(d(e))for(let n=0;n<e.length;n++){const a=W(e[n]);a&&(t+=a+" ")}else if(y(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const z=/* @__PURE__ */e("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function q(e){return!!e||""===e}function H(e,t){if(e===t)return!0;let n=f(e),a=f(t);if(n||a)return!(!n||!a)&&e.getTime()===t.getTime();if(n=g(e),a=g(t),n||a)return e===t;if(n=d(e),a=d(t),n||a)return!(!n||!a)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let a=0;n&&a<e.length;a++)n=H(e[a],t[a]);return n}(e,t);if(n=y(e),a=y(t),n||a){if(!n||!a)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const a=e.hasOwnProperty(n),l=t.hasOwnProperty(n);if(a&&!l||!a&&l||!H(e[n],t[n]))return!1}}return String(e)===String(t)}function G(e,t){return e.findIndex(e=>H(e,t))}const J=e=>!(!e||!0!==e.__v_isRef),K=e=>m(e)?e:null==e?"":d(e)||y(e)&&(e.toString===w||!h(e.toString))?J(e)?K(e.value):JSON.stringify(e,Y,2):String(e),Y=(e,t)=>J(t)?Y(e,t.value):v(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,n],a)=>(e[X(t,a)+" =>"]=n,e),{})}:p(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>X(e))}:g(t)?X(t):!y(t)||d(t)||_(t)?t:String(t),X=(e,t="")=>{var n;return g(e)?`Symbol(${null!=(n=e.description)?n:t})`:e};let Z,Q;class ee{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Z,!e&&Z&&(this.index=(Z.scopes||(Z.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let e,t;if(this._isPaused=!0,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){let e,t;if(this._isPaused=!1,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Z;try{return Z=this,e()}finally{Z=t}}}on(){1===++this._on&&(this.prevScope=Z,Z=this)}off(){this._on>0&&0===--this._on&&(Z=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){let t,n;for(this._active=!1,t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}}const te=/* @__PURE__ */new WeakSet;class ne{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Z&&Z.active&&Z.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,te.has(this)&&(te.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||oe(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,be(this),ue(this);const e=Q,t=he;Q=this,he=!0;try{return this.fn()}finally{ce(this),Q=e,he=t,this.flags&=-3}}stop(){if(1&this.flags){for(let e=this.deps;e;e=e.nextDep)pe(e);this.deps=this.depsTail=void 0,be(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?te.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){de(this)&&this.run()}get dirty(){return de(this)}}let ae,le,se=0;function oe(e,t=!1){if(e.flags|=8,t)return e.next=le,void(le=e);e.next=ae,ae=e}function ie(){se++}function re(){if(--se>0)return;if(le){let e=le;for(le=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;for(;ae;){let n=ae;for(ae=void 0;n;){const a=n.next;if(n.next=void 0,n.flags&=-9,1&n.flags)try{n.trigger()}catch(t){e||(e=t)}n=a}}if(e)throw e}function ue(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ce(e){let t,n=e.depsTail,a=n;for(;a;){const e=a.prevDep;-1===a.version?(a===n&&(n=e),pe(a),fe(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=e}e.deps=t,e.depsTail=n}function de(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ve(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ve(e){if(4&e.flags&&!(16&e.flags))return;if(e.flags&=-17,e.globalVersion===we)return;if(e.globalVersion=we,!e.isSSR&&128&e.flags&&(!e.deps&&!e._dirty||!de(e)))return;e.flags|=2;const t=e.dep,n=Q,a=he;Q=e,he=!0;try{ue(e);const n=e.fn(e._value);(0===t.version||F(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(l){throw t.version++,l}finally{Q=n,he=a,ce(e),e.flags&=-3}}function pe(e,t=!1){const{dep:n,prevSub:a,nextSub:l}=e;if(a&&(a.nextSub=l,e.prevSub=void 0),l&&(l.prevSub=a,e.nextSub=void 0),n.subs===e&&(n.subs=a,!a&&n.computed)){n.computed.flags&=-5;for(let e=n.computed.deps;e;e=e.nextDep)pe(e,!0)}t||--n.sc||!n.map||n.map.delete(n.key)}function fe(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let he=!0;const me=[];function ge(){me.push(he),he=!1}function ye(){const e=me.pop();he=void 0===e||e}function be(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const e=Q;Q=void 0;try{t()}finally{Q=e}}}let we=0;class ke{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class _e{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Q||!he||Q===this.computed)return;let t=this.activeLink;if(void 0===t||t.sub!==Q)t=this.activeLink=new ke(Q,this),Q.deps?(t.prevDep=Q.depsTail,Q.depsTail.nextDep=t,Q.depsTail=t):Q.deps=Q.depsTail=t,Ce(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){const e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=Q.depsTail,t.nextDep=void 0,Q.depsTail.nextDep=t,Q.depsTail=t,Q.deps===t&&(Q.deps=e)}return t}trigger(e){this.version++,we++,this.notify(e)}notify(e){ie();try{0;for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{re()}}}function Ce(e){if(e.dep.sc++,4&e.sub.flags){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)Ce(e)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const xe=/* @__PURE__ */new WeakMap,Se=/* @__PURE__ */Symbol(""),Ie=/* @__PURE__ */Symbol(""),Te=/* @__PURE__ */Symbol("");function Ae(e,t,n){if(he&&Q){let t=xe.get(e);t||xe.set(e,t=/* @__PURE__ */new Map);let a=t.get(n);a||(t.set(n,a=new _e),a.map=t,a.key=n),a.track()}}function Ue(e,t,n,a,l,s){const o=xe.get(e);if(!o)return void we++;const i=e=>{e&&e.trigger()};if(ie(),"clear"===t)o.forEach(i);else{const l=d(e),s=l&&C(n);if(l&&"length"===n){const e=Number(a);o.forEach((t,n)=>{("length"===n||n===Te||!g(n)&&n>=e)&&i(t)})}else switch((void 0!==n||o.has(void 0))&&i(o.get(n)),s&&i(o.get(Te)),t){case"add":l?s&&i(o.get("length")):(i(o.get(Se)),v(e)&&i(o.get(Ie)));break;case"delete":l||(i(o.get(Se)),v(e)&&i(o.get(Ie)));break;case"set":v(e)&&i(o.get(Se))}}re()}function Me(e){const t=ht(e);return t===e?t:(Ae(t,0,Te),pt(e)?t:t.map(mt))}function Le(e){return Ae(e=ht(e),0,Te),e}function Fe(e,t){return vt(e)?dt(e)?gt(mt(t)):gt(t):mt(t)}const Pe={__proto__:null,[Symbol.iterator](){return Ne(this,Symbol.iterator,e=>Fe(this,e))},concat(...e){return Me(this).concat(...e.map(e=>d(e)?Me(e):e))},entries(){return Ne(this,"entries",e=>(e[1]=Fe(this,e[1]),e))},every(e,t){return je(this,"every",e,t,void 0,arguments)},filter(e,t){return je(this,"filter",e,t,e=>e.map(e=>Fe(this,e)),arguments)},find(e,t){return je(this,"find",e,t,e=>Fe(this,e),arguments)},findIndex(e,t){return je(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return je(this,"findLast",e,t,e=>Fe(this,e),arguments)},findLastIndex(e,t){return je(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return je(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ee(this,"includes",e)},indexOf(...e){return Ee(this,"indexOf",e)},join(e){return Me(this).join(e)},lastIndexOf(...e){return Ee(this,"lastIndexOf",e)},map(e,t){return je(this,"map",e,t,void 0,arguments)},pop(){return Re(this,"pop")},push(...e){return Re(this,"push",e)},reduce(e,...t){return Oe(this,"reduce",e,t)},reduceRight(e,...t){return Oe(this,"reduceRight",e,t)},shift(){return Re(this,"shift")},some(e,t){return je(this,"some",e,t,void 0,arguments)},splice(...e){return Re(this,"splice",e)},toReversed(){return Me(this).toReversed()},toSorted(e){return Me(this).toSorted(e)},toSpliced(...e){return Me(this).toSpliced(...e)},unshift(...e){return Re(this,"unshift",e)},values(){return Ne(this,"values",e=>Fe(this,e))}};function Ne(e,t,n){const a=Le(e),l=a[t]();return a===e||pt(e)||(l._next=l.next,l.next=()=>{const e=l._next();return e.done||(e.value=n(e.value)),e}),l}const De=Array.prototype;function je(e,t,n,a,l,s){const o=Le(e),i=o!==e&&!pt(e),r=o[t];if(r!==De[t]){const t=r.apply(e,s);return i?mt(t):t}let u=n;o!==e&&(i?u=function(t,a){return n.call(this,Fe(e,t),a,e)}:n.length>2&&(u=function(t,a){return n.call(this,t,a,e)}));const c=r.call(o,u,a);return i&&l?l(c):c}function Oe(e,t,n,a){const l=Le(e);let s=n;return l!==e&&(pt(e)?n.length>3&&(s=function(t,a,l){return n.call(this,t,a,l,e)}):s=function(t,a,l){return n.call(this,t,Fe(e,a),l,e)}),l[t](s,...a)}function Ee(e,t,n){const a=ht(e);Ae(a,0,Te);const l=a[t](...n);return-1!==l&&!1!==l||!ft(n[0])?l:(n[0]=ht(n[0]),a[t](...n))}function Re(e,t,n=[]){ge(),ie();const a=ht(e)[t].apply(e,n);return re(),ye(),a}const Be=/* @__PURE__ */e("__proto__,__v_isRef,__isVue"),Ve=new Set(
/* @__PURE__ */Object.getOwnPropertyNames(Symbol).filter(e=>"arguments"!==e&&"caller"!==e).map(e=>Symbol[e]).filter(g));function $e(e){g(e)||(e=String(e));const t=ht(this);return Ae(t,0,e),t.hasOwnProperty(e)}class We{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if("__v_skip"===t)return e.__v_skip;const a=this._isReadonly,l=this._isShallow;if("__v_isReactive"===t)return!a;if("__v_isReadonly"===t)return a;if("__v_isShallow"===t)return l;if("__v_raw"===t)return n===(a?l?ot:st:l?lt:at).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const s=d(e);if(!a){let e;if(s&&(e=Pe[t]))return e;if("hasOwnProperty"===t)return $e}const o=Reflect.get(e,t,yt(e)?e:n);if(g(t)?Ve.has(t):Be(t))return o;if(a||Ae(e,0,t),l)return o;if(yt(o)){const e=s&&C(t)?o:o.value;return a&&y(e)?ut(e):e}return y(o)?a?ut(o):rt(o):o}}class ze extends We{constructor(e=!1){super(!1,e)}set(e,t,n,a){let l=e[t];const s=d(e)&&C(t);if(!this._isShallow){const e=vt(l);if(pt(n)||vt(n)||(l=ht(l),n=ht(n)),!s&&yt(l)&&!yt(n))return e||(l.value=n),!0}const o=s?Number(t)<e.length:c(e,t),i=Reflect.set(e,t,n,yt(e)?e:a);return e===ht(a)&&(o?F(n,l)&&Ue(e,"set",t,n):Ue(e,"add",t,n)),i}deleteProperty(e,t){const n=c(e,t);e[t];const a=Reflect.deleteProperty(e,t);return a&&n&&Ue(e,"delete",t,void 0),a}has(e,t){const n=Reflect.has(e,t);return g(t)&&Ve.has(t)||Ae(e,0,t),n}ownKeys(e){return Ae(e,0,d(e)?"length":Se),Reflect.ownKeys(e)}}class qe extends We{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const He=/* @__PURE__ */new ze,Ge=/* @__PURE__ */new qe,Je=/* @__PURE__ */new ze(!0),Ke=e=>e,Ye=e=>Reflect.getPrototypeOf(e);function Xe(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function Ze(e,t){const n={get(n){const a=this.__v_raw,l=ht(a),s=ht(n);e||(F(n,s)&&Ae(l,0,n),Ae(l,0,s));const{has:o}=Ye(l),i=t?Ke:e?gt:mt;return o.call(l,n)?i(a.get(n)):o.call(l,s)?i(a.get(s)):void(a!==l&&a.get(n))},get size(){const t=this.__v_raw;return!e&&Ae(ht(t),0,Se),t.size},has(t){const n=this.__v_raw,a=ht(n),l=ht(t);return e||(F(t,l)&&Ae(a,0,t),Ae(a,0,l)),t===l?n.has(t):n.has(t)||n.has(l)},forEach(n,a){const l=this,s=l.__v_raw,o=ht(s),i=t?Ke:e?gt:mt;return!e&&Ae(o,0,Se),s.forEach((e,t)=>n.call(a,i(e),i(t),l))}};i(n,e?{add:Xe("add"),set:Xe("set"),delete:Xe("delete"),clear:Xe("clear")}:{add(e){t||pt(e)||vt(e)||(e=ht(e));const n=ht(this);return Ye(n).has.call(n,e)||(n.add(e),Ue(n,"add",e,e)),this},set(e,n){t||pt(n)||vt(n)||(n=ht(n));const a=ht(this),{has:l,get:s}=Ye(a);let o=l.call(a,e);o||(e=ht(e),o=l.call(a,e));const i=s.call(a,e);return a.set(e,n),o?F(n,i)&&Ue(a,"set",e,n):Ue(a,"add",e,n),this},delete(e){const t=ht(this),{has:n,get:a}=Ye(t);let l=n.call(t,e);l||(e=ht(e),l=n.call(t,e)),a&&a.call(t,e);const s=t.delete(e);return l&&Ue(t,"delete",e,void 0),s},clear(){const e=ht(this),t=0!==e.size,n=e.clear();return t&&Ue(e,"clear",void 0,void 0),n}});return["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=function(e,t,n){return function(...a){const l=this.__v_raw,s=ht(l),o=v(s),i="entries"===e||e===Symbol.iterator&&o,r="keys"===e&&o,u=l[e](...a),c=n?Ke:t?gt:mt;return!t&&Ae(s,0,r?Ie:Se),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:i?[c(e[0]),c(e[1])]:c(e),done:t}},[Symbol.iterator](){return this}}}}(a,e,t)}),n}function Qe(e,t){const n=Ze(e,t);return(t,a,l)=>"__v_isReactive"===a?!e:"__v_isReadonly"===a?e:"__v_raw"===a?t:Reflect.get(c(n,a)&&a in t?n:t,a,l)}const et={get:/* @__PURE__ */Qe(!1,!1)},tt={get:/* @__PURE__ */Qe(!1,!0)},nt={get:/* @__PURE__ */Qe(!0,!1)},at=/* @__PURE__ */new WeakMap,lt=/* @__PURE__ */new WeakMap,st=/* @__PURE__ */new WeakMap,ot=/* @__PURE__ */new WeakMap;function it(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>k(e).slice(8,-1))(e))}function rt(e){return vt(e)?e:ct(e,!1,He,et,at)}function ut(e){return ct(e,!0,Ge,nt,st)}function ct(e,t,n,a,l){if(!y(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const s=it(e);if(0===s)return e;const o=l.get(e);if(o)return o;const i=new Proxy(e,2===s?a:n);return l.set(e,i),i}function dt(e){return vt(e)?dt(e.__v_raw):!(!e||!e.__v_isReactive)}function vt(e){return!(!e||!e.__v_isReadonly)}function pt(e){return!(!e||!e.__v_isShallow)}function ft(e){return!!e&&!!e.__v_raw}function ht(e){const t=e&&e.__v_raw;return t?ht(t):e}const mt=e=>y(e)?rt(e):e,gt=e=>y(e)?ut(e):e;function yt(e){return!!e&&!0===e.__v_isRef}function bt(e){return kt(e,!1)}function wt(e){return kt(e,!0)}function kt(e,t){return yt(e)?e:new _t(e,t)}class _t{constructor(e,t){this.dep=new _e,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:ht(e),this._value=t?e:mt(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this.__v_isShallow||pt(e)||vt(e);e=n?e:ht(e),F(e,t)&&(this._rawValue=e,this._value=n?e:mt(e),this.dep.trigger())}}function Ct(e){return yt(e)?e.value:e}const xt={get:(e,t,n)=>"__v_raw"===t?e:Ct(Reflect.get(e,t,n)),set:(e,t,n,a)=>{const l=e[t];return yt(l)&&!yt(n)?(l.value=n,!0):Reflect.set(e,t,n,a)}};function St(e){return dt(e)?e:new Proxy(e,xt)}class It{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new _e(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=we-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(8&this.flags)&&Q!==this)return oe(this,!0),!0}get value(){const e=this.dep.track();return ve(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}const Tt={},At=/* @__PURE__ */new WeakMap;let Ut;function Mt(e,n,l=t){const{immediate:s,deep:o,once:i,scheduler:u,augmentJob:c,call:v}=l,p=e=>o?e:pt(e)||!1===o||0===o?Lt(e,1):Lt(e);let f,m,g,y,b=!1,w=!1;if(yt(e)?(m=()=>e.value,b=pt(e)):dt(e)?(m=()=>p(e),b=!0):d(e)?(w=!0,b=e.some(e=>dt(e)||pt(e)),m=()=>e.map(e=>yt(e)?e.value:dt(e)?p(e):h(e)?v?v(e,2):e():void 0)):m=h(e)?n?v?()=>v(e,2):e:()=>{if(g){ge();try{g()}finally{ye()}}const t=Ut;Ut=f;try{return v?v(e,3,[y]):e(y)}finally{Ut=t}}:a,n&&o){const e=m,t=!0===o?1/0:o;m=()=>Lt(e(),t)}const k=Z,_=()=>{f.stop(),k&&k.active&&r(k.effects,f)};if(i&&n){const e=n;n=(...t)=>{e(...t),_()}}let C=w?new Array(e.length).fill(Tt):Tt;const x=e=>{if(1&f.flags&&(f.dirty||e))if(n){const e=f.run();if(o||b||(w?e.some((e,t)=>F(e,C[t])):F(e,C))){g&&g();const t=Ut;Ut=f;try{const t=[e,C===Tt?void 0:w&&C[0]===Tt?[]:C,y];C=e,v?v(n,3,t):n(...t)}finally{Ut=t}}}else f.run()};return c&&c(x),f=new ne(m),f.scheduler=u?()=>u(x,!1):x,y=e=>function(e,t=!1,n=Ut){if(n){let t=At.get(n);t||At.set(n,t=[]),t.push(e)}}(e,!1,f),g=f.onStop=()=>{const e=At.get(f);if(e){if(v)v(e,4);else for(const t of e)t();At.delete(f)}},n?s?x(!0):C=f.run():u?u(x.bind(null,!0),!0):f.run(),_.pause=f.pause.bind(f),_.resume=f.resume.bind(f),_.stop=_,_}function Lt(e,t=1/0,n){if(t<=0||!y(e)||e.__v_skip)return e;if(((n=n||/* @__PURE__ */new Map).get(e)||0)>=t)return e;if(n.set(e,t),t--,yt(e))Lt(e.value,t,n);else if(d(e))for(let a=0;a<e.length;a++)Lt(e[a],t,n);else if(p(e)||v(e))e.forEach(e=>{Lt(e,t,n)});else if(_(e)){for(const a in e)Lt(e[a],t,n);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&Lt(e[a],t,n)}return e}function Ft(e,t,n,a){try{return a?e(...a):e()}catch(l){Nt(l,t,n)}}function Pt(e,t,n,a){if(h(e)){const l=Ft(e,t,n,a);return l&&b(l)&&l.catch(e=>{Nt(e,t,n)}),l}if(d(e)){const l=[];for(let s=0;s<e.length;s++)l.push(Pt(e[s],t,n,a));return l}}function Nt(e,n,a,l=!0){n&&n.vnode;const{errorHandler:s,throwUnhandledErrorInProduction:o}=n&&n.appContext.config||t;if(n){let t=n.parent;const l=n.proxy,o=`https://vuejs.org/error-reference/#runtime-${a}`;for(;t;){const n=t.ec;if(n)for(let t=0;t<n.length;t++)if(!1===n[t](e,l,o))return;t=t.parent}if(s)return ge(),Ft(s,null,10,[e,l,o]),void ye()}!function(e,t,n,a=!0,l=!1){if(l)throw e;console.error(e)}(e,0,0,l,o)}const Dt=[];let jt=-1;const Ot=[];let Et=null,Rt=0;const Bt=/* @__PURE__ */Promise.resolve();let Vt=null;function $t(e){const t=Vt||Bt;return e?t.then(this?e.bind(this):e):t}function Wt(e){if(!(1&e.flags)){const t=Gt(e),n=Dt[Dt.length-1];!n||!(2&e.flags)&&t>=Gt(n)?Dt.push(e):Dt.splice(function(e){let t=jt+1,n=Dt.length;for(;t<n;){const a=t+n>>>1,l=Dt[a],s=Gt(l);s<e||s===e&&2&l.flags?t=a+1:n=a}return t}(t),0,e),e.flags|=1,zt()}}function zt(){Vt||(Vt=Bt.then(Jt))}function qt(e,t,n=jt+1){for(;n<Dt.length;n++){const t=Dt[n];if(t&&2&t.flags){if(e&&t.id!==e.uid)continue;Dt.splice(n,1),n--,4&t.flags&&(t.flags&=-2),t(),4&t.flags||(t.flags&=-2)}}}function Ht(e){if(Ot.length){const e=[...new Set(Ot)].sort((e,t)=>Gt(e)-Gt(t));if(Ot.length=0,Et)return void Et.push(...e);for(Et=e,Rt=0;Rt<Et.length;Rt++){const e=Et[Rt];4&e.flags&&(e.flags&=-2),8&e.flags||e(),e.flags&=-2}Et=null,Rt=0}}const Gt=e=>null==e.id?2&e.flags?-1:1/0:e.id;function Jt(e){try{for(jt=0;jt<Dt.length;jt++){const e=Dt[jt];!e||8&e.flags||(4&e.flags&&(e.flags&=-2),Ft(e,e.i,e.i?15:14),4&e.flags||(e.flags&=-2))}}finally{for(;jt<Dt.length;jt++){const e=Dt[jt];e&&(e.flags&=-2)}jt=-1,Dt.length=0,Ht(),Vt=null,(Dt.length||Ot.length)&&Jt()}}let Kt=null,Yt=null;function Xt(e){const t=Kt;return Kt=e,Yt=e&&e.type.__scopeId||null,t}function Zt(e,t=Kt,n){if(!t)return e;if(e._n)return e;const a=(...n)=>{a._d&&pl(-1);const l=Xt(t);let s;try{s=e(...n)}finally{Xt(l),a._d&&pl(1)}return s};return a._n=!0,a._c=!0,a._d=!0,a}function Qt(e,n){if(null===Kt)return e;const a=zl(Kt),l=e.dirs||(e.dirs=[]);for(let s=0;s<n.length;s++){let[e,o,i,r=t]=n[s];e&&(h(e)&&(e={mounted:e,updated:e}),e.deep&&Lt(o),l.push({dir:e,instance:a,value:o,oldValue:void 0,arg:i,modifiers:r}))}return e}function en(e,t,n,a){const l=e.dirs,s=t&&t.dirs;for(let o=0;o<l.length;o++){const i=l[o];s&&(i.oldValue=s[o].value);let r=i.dir[a];r&&(ge(),Pt(r,n,8,[e.el,i,e,t]),ye())}}function tn(e,t){if(Pl){let n=Pl.provides;const a=Pl.parent&&Pl.parent.provides;a===n&&(n=Pl.provides=Object.create(a)),n[e]=t}}function nn(e,t,n=!1){const a=Nl();if(a||Ia){let l=Ia?Ia._context.provides:a?null==a.parent||a.ce?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(l&&e in l)return l[e];if(arguments.length>1)return n&&h(t)?t.call(a&&a.proxy):t}}const an=/* @__PURE__ */Symbol.for("v-scx");function ln(e,t,n){return sn(e,t,n)}function sn(e,n,l=t){const{immediate:s,deep:o,flush:r,once:u}=l,c=i({},l),d=n&&s||!n&&"post"!==r;let v;if(Bl)if("sync"===r){const e=nn(an);v=e.__watcherHandles||(e.__watcherHandles=[])}else if(!d){const e=()=>{};return e.stop=a,e.resume=a,e.pause=a,e}const p=Pl;c.call=(e,t,n)=>Pt(e,p,t,n);let f=!1;"post"===r?c.scheduler=e=>{Ya(e,p&&p.suspense)}:"sync"!==r&&(f=!0,c.scheduler=(e,t)=>{t?e():Wt(e)}),c.augmentJob=e=>{n&&(e.flags|=4),f&&(e.flags|=2,p&&(e.id=p.uid,e.i=p))};const h=Mt(e,n,c);return Bl&&(v?v.push(h):d&&h()),h}function on(e,t,n){const a=this.proxy,l=m(e)?e.includes(".")?rn(a,e):()=>a[e]:e.bind(a,a);let s;h(t)?s=t:(s=t.handler,n=t);const o=Ol(this),i=sn(l,s.bind(a),n);return o(),i}function rn(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}const un=/* @__PURE__ */Symbol("_vte"),cn=e=>e.__isTeleport,dn=e=>e&&(e.disabled||""===e.disabled),vn=e=>e&&(e.defer||""===e.defer),pn=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,fn=e=>"function"==typeof MathMLElement&&e instanceof MathMLElement,hn=(e,t)=>{const n=e&&e.to;if(m(n)){if(t){return t(n)}return null}return n},mn={name:"Teleport",__isTeleport:!0,process(e,t,n,a,l,s,o,i,r,u){const{mc:c,pc:d,pbc:v,o:{insert:p,querySelector:f,createText:h,createComment:m}}=u,g=dn(t.props);let{shapeFlag:y,children:b,dynamicChildren:w}=t;if(null==e){const e=t.el=h(""),u=t.anchor=h("");p(e,n,a),p(u,n,a);const d=(e,t)=>{16&y&&c(b,e,t,l,s,o,i,r)},v=()=>{const e=t.target=hn(t.props,f),n=wn(e,t,h,p);e&&("svg"!==o&&pn(e)?o="svg":"mathml"!==o&&fn(e)&&(o="mathml"),l&&l.isCE&&(l.ce._teleportTargets||(l.ce._teleportTargets=/* @__PURE__ */new Set)).add(e),g||(d(e,n),bn(t,!1)))};g&&(d(n,u),bn(t,!0)),vn(t.props)?(t.el.__isMounted=!1,Ya(()=>{v(),delete t.el.__isMounted},s)):v()}else{if(vn(t.props)&&!1===e.el.__isMounted)return void Ya(()=>{mn.process(e,t,n,a,l,s,o,i,r,u)},s);t.el=e.el,t.targetStart=e.targetStart;const c=t.anchor=e.anchor,p=t.target=e.target,h=t.targetAnchor=e.targetAnchor,m=dn(e.props),y=m?n:p,b=m?c:h;if("svg"===o||pn(p)?o="svg":("mathml"===o||fn(p))&&(o="mathml"),w?(v(e.dynamicChildren,w,y,l,s,o,i),el(e,t,!0)):r||d(e,t,y,b,l,s,o,i,!1),g)m?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):gn(t,n,c,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=hn(t.props,f);e&&gn(t,e,null,u,0)}else m&&gn(t,p,h,u,1);bn(t,g)}},remove(e,t,n,{um:a,o:{remove:l}},s){const{shapeFlag:o,children:i,anchor:r,targetStart:u,targetAnchor:c,target:d,props:v}=e;if(d&&(l(u),l(c)),s&&l(r),16&o){const e=s||!dn(v);for(let l=0;l<i.length;l++){const s=i[l];a(s,t,n,e,!!s.dynamicChildren)}}},move:gn,hydrate:function(e,t,n,a,l,s,{o:{nextSibling:o,parentNode:i,querySelector:r,insert:u,createText:c}},d){function v(e,t,r,u){t.anchor=d(o(e),t,i(e),n,a,l,s),t.targetStart=r,t.targetAnchor=u}const p=t.target=hn(t.props,r),f=dn(t.props);if(p){const i=p._lpa||p.firstChild;if(16&t.shapeFlag)if(f)v(e,t,i,i&&o(i));else{t.anchor=o(e);let r=i;for(;r;){if(r&&8===r.nodeType)if("teleport start anchor"===r.data)t.targetStart=r;else if("teleport anchor"===r.data){t.targetAnchor=r,p._lpa=t.targetAnchor&&o(t.targetAnchor);break}r=o(r)}t.targetAnchor||wn(p,t,c,u),d(i&&o(i),t,p,n,a,l,s)}bn(t,f)}else f&&16&t.shapeFlag&&v(e,t,e,o(e));return t.anchor&&o(t.anchor)}};function gn(e,t,n,{o:{insert:a},m:l},s=2){0===s&&a(e.targetAnchor,t,n);const{el:o,anchor:i,shapeFlag:r,children:u,props:c}=e,d=2===s;if(d&&a(o,t,n),(!d||dn(c))&&16&r)for(let v=0;v<u.length;v++)l(u[v],t,n,2);d&&a(i,t,n)}const yn=mn;function bn(e,t){const n=e.ctx;if(n&&n.ut){let a,l;for(t?(a=e.el,l=e.anchor):(a=e.targetStart,l=e.targetAnchor);a&&a!==l;)1===a.nodeType&&a.setAttribute("data-v-owner",n.uid),a=a.nextSibling;n.ut()}}function wn(e,t,n,a){const l=t.targetStart=n(""),s=t.targetAnchor=n("");return l[un]=s,e&&(a(l,e),a(s,e)),s}const kn=/* @__PURE__ */Symbol("_leaveCb"),_n=/* @__PURE__ */Symbol("_enterCb");const Cn=[Function,Array],xn={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Cn,onEnter:Cn,onAfterEnter:Cn,onEnterCancelled:Cn,onBeforeLeave:Cn,onLeave:Cn,onAfterLeave:Cn,onLeaveCancelled:Cn,onBeforeAppear:Cn,onAppear:Cn,onAfterAppear:Cn,onAppearCancelled:Cn},Sn=e=>{const t=e.subTree;return t.component?Sn(t.component):t};function In(e){let t=e[0];if(e.length>1)for(const n of e)if(n.type!==il){t=n;break}return t}const Tn={name:"BaseTransition",props:xn,setup(e,{slots:t}){const n=Nl(),a=function(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:/* @__PURE__ */new Map};return Gn(()=>{e.isMounted=!0}),Yn(()=>{e.isUnmounting=!0}),e}();return()=>{const l=t.default&&Pn(t.default(),!0);if(!l||!l.length)return;const s=In(l),o=ht(e),{mode:i}=o;if(a.isLeaving)return Mn(s);const r=Ln(s);if(!r)return Mn(s);let u=Un(r,o,a,n,e=>u=e);r.type!==il&&Fn(r,u);let c=n.subTree&&Ln(n.subTree);if(c&&c.type!==il&&!yl(c,r)&&Sn(n).type!==il){let e=Un(c,o,a,n);if(Fn(c,e),"out-in"===i&&r.type!==il)return a.isLeaving=!0,e.afterLeave=()=>{a.isLeaving=!1,8&n.job.flags||n.update(),delete e.afterLeave,c=void 0},Mn(s);"in-out"===i&&r.type!==il?e.delayLeave=(e,t,n)=>{An(a,c)[String(c.key)]=c,e[kn]=()=>{t(),e[kn]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{n(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return s}}};function An(e,t){const{leavingVNodes:n}=e;let a=n.get(t.type);return a||(a=/* @__PURE__ */Object.create(null),n.set(t.type,a)),a}function Un(e,t,n,a,l){const{appear:s,mode:o,persisted:i=!1,onBeforeEnter:r,onEnter:u,onAfterEnter:c,onEnterCancelled:v,onBeforeLeave:p,onLeave:f,onAfterLeave:h,onLeaveCancelled:m,onBeforeAppear:g,onAppear:y,onAfterAppear:b,onAppearCancelled:w}=t,k=String(e.key),_=An(n,e),C=(e,t)=>{e&&Pt(e,a,9,t)},x=(e,t)=>{const n=t[1];C(e,t),d(e)?e.every(e=>e.length<=1)&&n():e.length<=1&&n()},S={mode:o,persisted:i,beforeEnter(t){let a=r;if(!n.isMounted){if(!s)return;a=g||r}t[kn]&&t[kn](!0);const l=_[k];l&&yl(e,l)&&l.el[kn]&&l.el[kn](),C(a,[t])},enter(e){let t=u,a=c,l=v;if(!n.isMounted){if(!s)return;t=y||u,a=b||c,l=w||v}let o=!1;const i=e[_n]=t=>{o||(o=!0,C(t?l:a,[e]),S.delayedLeave&&S.delayedLeave(),e[_n]=void 0)};t?x(t,[e,i]):i()},leave(t,a){const l=String(e.key);if(t[_n]&&t[_n](!0),n.isUnmounting)return a();C(p,[t]);let s=!1;const o=t[kn]=n=>{s||(s=!0,a(),C(n?m:h,[t]),t[kn]=void 0,_[l]===e&&delete _[l])};_[l]=e,f?x(f,[t,o]):o()},clone(e){const s=Un(e,t,n,a,l);return l&&l(s),s}};return S}function Mn(e){if(Rn(e))return(e=Cl(e)).children=null,e}function Ln(e){if(!Rn(e))return cn(e.type)&&e.children?In(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(16&t)return n[0];if(32&t&&h(n.default))return n.default()}}function Fn(e,t){6&e.shapeFlag&&e.component?(e.transition=t,Fn(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Pn(e,t=!1,n){let a=[],l=0;for(let s=0;s<e.length;s++){let o=e[s];const i=null==n?o.key:String(n)+String(null!=o.key?o.key:s);o.type===sl?(128&o.patchFlag&&l++,a=a.concat(Pn(o.children,t,i))):(t||o.type!==il)&&a.push(null!=i?Cl(o,{key:i}):o)}if(l>1)for(let s=0;s<a.length;s++)a[s].patchFlag=-2;return a}function Nn(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Dn=/* @__PURE__ */new WeakMap;function jn(e,n,a,s,o=!1){if(d(e))return void e.forEach((e,t)=>jn(e,n&&(d(n)?n[t]:n),a,s,o));if(En(s)&&!o)return void(512&s.shapeFlag&&s.type.__asyncResolved&&s.component.subTree.component&&jn(e,n,a,s.component.subTree));const i=4&s.shapeFlag?zl(s.component):s.el,u=o?null:i,{i:v,r:p}=e,f=n&&n.r,g=v.refs===t?v.refs={}:v.refs,y=v.setupState,b=ht(y),w=y===t?l:e=>c(b,e);if(null!=f&&f!==p)if(On(n),m(f))g[f]=null,w(f)&&(y[f]=null);else if(yt(f)){f.value=null;const e=n;e.k&&(g[e.k]=null)}if(h(p))Ft(p,v,12,[u,g]);else{const t=m(p),n=yt(p);if(t||n){const l=()=>{if(e.f){const n=t?w(p)?y[p]:g[p]:p.value;if(o)d(n)&&r(n,i);else if(d(n))n.includes(i)||n.push(i);else if(t)g[p]=[i],w(p)&&(y[p]=g[p]);else{const t=[i];p.value=t,e.k&&(g[e.k]=t)}}else t?(g[p]=u,w(p)&&(y[p]=u)):n&&(p.value=u,e.k&&(g[e.k]=u))};if(u){const t=()=>{l(),Dn.delete(e)};t.id=-1,Dn.set(e,t),Ya(t,a)}else On(e),l()}}}function On(e){const t=Dn.get(e);t&&(t.flags|=8,Dn.delete(e))}O().requestIdleCallback,O().cancelIdleCallback;const En=e=>!!e.type.__asyncLoader,Rn=e=>e.type.__isKeepAlive;function Bn(e,t){$n(e,"a",t)}function Vn(e,t){$n(e,"da",t)}function $n(e,t,n=Pl){const a=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(zn(t,a,n),n){let e=n.parent;for(;e&&e.parent;)Rn(e.parent.vnode)&&Wn(a,t,n,e),e=e.parent}}function Wn(e,t,n,a){const l=zn(t,e,a,!0);Xn(()=>{r(a[t],l)},n)}function zn(e,t,n=Pl,a=!1){if(n){const l=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{ge();const l=Ol(n),s=Pt(t,n,e,a);return l(),ye(),s});return a?l.unshift(s):l.push(s),s}}const qn=e=>(t,n=Pl)=>{Bl&&"sp"!==e||zn(e,(...e)=>t(...e),n)},Hn=qn("bm"),Gn=qn("m"),Jn=qn("bu"),Kn=qn("u"),Yn=qn("bum"),Xn=qn("um"),Zn=qn("sp"),Qn=qn("rtg"),ea=qn("rtc");function ta(e,t=Pl){zn("ec",e,t)}const na=/* @__PURE__ */Symbol.for("v-ndc");function aa(e,t,n,a){let l;const s=n,o=d(e);if(o||m(e)){let n=!1,a=!1;o&&dt(e)&&(n=!pt(e),a=vt(e),e=Le(e)),l=new Array(e.length);for(let o=0,i=e.length;o<i;o++)l[o]=t(n?a?gt(mt(e[o])):mt(e[o]):e[o],o,void 0,s)}else if("number"==typeof e){l=new Array(e);for(let n=0;n<e;n++)l[n]=t(n+1,n,void 0,s)}else if(y(e))if(e[Symbol.iterator])l=Array.from(e,(e,n)=>t(e,n,void 0,s));else{const n=Object.keys(e);l=new Array(n.length);for(let a=0,o=n.length;a<o;a++){const o=n[a];l[a]=t(e[o],o,a,s)}}else l=[];return l}function la(e,t,n={},a,l){if(Kt.ce||Kt.parent&&En(Kt.parent)&&Kt.parent.ce){const e=Object.keys(n).length>0;return dl(),ml(sl,null,[_l("slot",n,a)],e?-2:64)}let s=e[t];s&&s._c&&(s._d=!1),dl();const o=s&&sa(s(n)),i=n.key||o&&o.key,r=ml(sl,{key:(i&&!g(i)?i:`_${t}`)+(!o&&a?"_fb":"")},o||[],o&&1===e._?64:-2);return r.scopeId&&(r.slotScopeIds=[r.scopeId+"-s"]),s&&s._c&&(s._d=!0),r}function sa(e){return e.some(e=>!gl(e)||e.type!==il&&!(e.type===sl&&!sa(e.children)))?e:null}const oa=e=>e?Rl(e)?zl(e):oa(e.parent):null,ia=
/* @__PURE__ */i(/* @__PURE__ */Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>oa(e.parent),$root:e=>oa(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ha(e),$forceUpdate:e=>e.f||(e.f=()=>{Wt(e.update)}),$nextTick:e=>e.n||(e.n=$t.bind(e.proxy)),$watch:e=>on.bind(e)}),ra=(e,n)=>e!==t&&!e.__isScriptSetup&&c(e,n),ua={get({_:e},n){if("__v_skip"===n)return!0;const{ctx:a,setupState:l,data:s,props:o,accessCache:i,type:r,appContext:u}=e;if("$"!==n[0]){const e=i[n];if(void 0!==e)switch(e){case 1:return l[n];case 2:return s[n];case 4:return a[n];case 3:return o[n]}else{if(ra(l,n))return i[n]=1,l[n];if(s!==t&&c(s,n))return i[n]=2,s[n];if(c(o,n))return i[n]=3,o[n];if(a!==t&&c(a,n))return i[n]=4,a[n];da&&(i[n]=0)}}const d=ia[n];let v,p;return d?("$attrs"===n&&Ae(e.attrs,0,""),d(e)):(v=r.__cssModules)&&(v=v[n])?v:a!==t&&c(a,n)?(i[n]=4,a[n]):(p=u.config.globalProperties,c(p,n)?p[n]:void 0)},set({_:e},n,a){const{data:l,setupState:s,ctx:o}=e;return ra(s,n)?(s[n]=a,!0):l!==t&&c(l,n)?(l[n]=a,!0):!c(e.props,n)&&(("$"!==n[0]||!(n.slice(1)in e))&&(o[n]=a,!0))},has({_:{data:e,setupState:n,accessCache:a,ctx:l,appContext:s,props:o,type:i}},r){let u;return!!(a[r]||e!==t&&"$"!==r[0]&&c(e,r)||ra(n,r)||c(o,r)||c(l,r)||c(ia,r)||c(s.config.globalProperties,r)||(u=i.__cssModules)&&u[r])},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:c(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ca(e){return d(e)?e.reduce((e,t)=>(e[t]=null,e),{}):e}let da=!0;function va(e){const t=ha(e),n=e.proxy,l=e.ctx;da=!1,t.beforeCreate&&pa(t.beforeCreate,e,"bc");const{data:s,computed:o,methods:i,watch:r,provide:u,inject:c,created:v,beforeMount:p,mounted:f,beforeUpdate:m,updated:g,activated:b,deactivated:w,beforeDestroy:k,beforeUnmount:_,destroyed:C,unmounted:x,render:S,renderTracked:I,renderTriggered:T,errorCaptured:A,serverPrefetch:U,expose:M,inheritAttrs:L,components:F,directives:P,filters:N}=t;if(c&&function(e,t){d(e)&&(e=ba(e));for(const n in e){const a=e[n];let l;l=y(a)?"default"in a?nn(a.from||n,a.default,!0):nn(a.from||n):nn(a),yt(l)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e}):t[n]=l}}(c,l,null),i)for(const a in i){const e=i[a];h(e)&&(l[a]=e.bind(n))}if(s){const t=s.call(n,n);y(t)&&(e.data=rt(t))}if(da=!0,o)for(const d in o){const e=o[d],t=h(e)?e.bind(n,n):h(e.get)?e.get.bind(n,n):a,s=!h(e)&&h(e.set)?e.set.bind(n):a,i=ql({get:t,set:s});Object.defineProperty(l,d,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e})}if(r)for(const a in r)fa(r[a],l,n,a);if(u){const e=h(u)?u.call(n):u;Reflect.ownKeys(e).forEach(t=>{tn(t,e[t])})}function D(e,t){d(t)?t.forEach(t=>e(t.bind(n))):t&&e(t.bind(n))}if(v&&pa(v,e,"c"),D(Hn,p),D(Gn,f),D(Jn,m),D(Kn,g),D(Bn,b),D(Vn,w),D(ta,A),D(ea,I),D(Qn,T),D(Yn,_),D(Xn,x),D(Zn,U),d(M))if(M.length){const t=e.exposed||(e.exposed={});M.forEach(e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t,enumerable:!0})})}else e.exposed||(e.exposed={});S&&e.render===a&&(e.render=S),null!=L&&(e.inheritAttrs=L),F&&(e.components=F),P&&(e.directives=P),U&&Nn(e)}function pa(e,t,n){Pt(d(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,n)}function fa(e,t,n,a){let l=a.includes(".")?rn(n,a):()=>n[a];if(m(e)){const n=t[e];h(n)&&ln(l,n)}else if(h(e))ln(l,e.bind(n));else if(y(e))if(d(e))e.forEach(e=>fa(e,t,n,a));else{const a=h(e.handler)?e.handler.bind(n):t[e.handler];h(a)&&ln(l,a,e)}}function ha(e){const t=e.type,{mixins:n,extends:a}=t,{mixins:l,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,i=s.get(t);let r;return i?r=i:l.length||n||a?(r={},l.length&&l.forEach(e=>ma(r,e,o,!0)),ma(r,t,o)):r=t,y(t)&&s.set(t,r),r}function ma(e,t,n,a=!1){const{mixins:l,extends:s}=t;s&&ma(e,s,n,!0),l&&l.forEach(t=>ma(e,t,n,!0));for(const o in t)if(a&&"expose"===o);else{const a=ga[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const ga={data:ya,props:_a,emits:_a,methods:ka,computed:ka,beforeCreate:wa,created:wa,beforeMount:wa,mounted:wa,beforeUpdate:wa,updated:wa,beforeDestroy:wa,beforeUnmount:wa,destroyed:wa,unmounted:wa,activated:wa,deactivated:wa,errorCaptured:wa,serverPrefetch:wa,components:ka,directives:ka,watch:function(e,t){if(!e)return t;if(!t)return e;const n=i(/* @__PURE__ */Object.create(null),e);for(const a in t)n[a]=wa(e[a],t[a]);return n},provide:ya,inject:function(e,t){return ka(ba(e),ba(t))}};function ya(e,t){return t?e?function(){return i(h(e)?e.call(this,this):e,h(t)?t.call(this,this):t)}:t:e}function ba(e){if(d(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function wa(e,t){return e?[...new Set([].concat(e,t))]:t}function ka(e,t){return e?i(/* @__PURE__ */Object.create(null),e,t):t}function _a(e,t){return e?d(e)&&d(t)?[.../* @__PURE__ */new Set([...e,...t])]:i(
/* @__PURE__ */Object.create(null),ca(e),ca(null!=t?t:{})):t}function Ca(){return{app:null,config:{isNativeTag:l,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:/* @__PURE__ */Object.create(null),optionsCache:/* @__PURE__ */new WeakMap,propsCache:/* @__PURE__ */new WeakMap,emitsCache:/* @__PURE__ */new WeakMap}}let xa=0;function Sa(e,t){return function(t,n=null){h(t)||(t=i({},t)),null==n||y(n)||(n=null);const a=Ca(),l=/* @__PURE__ */new WeakSet,s=[];let o=!1;const r=a.app={_uid:xa++,_component:t,_props:n,_container:null,_context:a,_instance:null,version:Gl,get config(){return a.config},set config(e){},use:(e,...t)=>(l.has(e)||(e&&h(e.install)?(l.add(e),e.install(r,...t)):h(e)&&(l.add(e),e(r,...t))),r),mixin:e=>(a.mixins.includes(e)||a.mixins.push(e),r),component:(e,t)=>t?(a.components[e]=t,r):a.components[e],directive:(e,t)=>t?(a.directives[e]=t,r):a.directives[e],mount(l,s,i){if(!o){const s=r._ceVNode||_l(t,n);return s.appContext=a,!0===i?i="svg":!1===i&&(i=void 0),e(s,l,i),o=!0,r._container=l,l.__vue_app__=r,zl(s.component)}},onUnmount(e){s.push(e)},unmount(){o&&(Pt(s,r._instance,16),e(null,r._container),delete r._container.__vue_app__)},provide:(e,t)=>(a.provides[e]=t,r),runWithContext(e){const t=Ia;Ia=r;try{return e()}finally{Ia=t}}};return r}}let Ia=null;function Ta(e,n,...a){if(e.isUnmounted)return;const l=e.vnode.props||t;let s=a;const o=n.startsWith("update:"),i=o&&((e,t)=>"modelValue"===t||"model-value"===t?e.modelModifiers:e[`${t}Modifiers`]||e[`${T(t)}Modifiers`]||e[`${U(t)}Modifiers`])(l,n.slice(7));let r;i&&(i.trim&&(s=a.map(e=>m(e)?e.trim():e)),i.number&&(s=a.map(D)));let u=l[r=L(n)]||l[r=L(T(n))];!u&&o&&(u=l[r=L(U(n))]),u&&Pt(u,e,6,s);const c=l[r+"Once"];if(c){if(e.emitted){if(e.emitted[r])return}else e.emitted={};e.emitted[r]=!0,Pt(c,e,6,s)}}const Aa=/* @__PURE__ */new WeakMap;function Ua(e,t,n=!1){const a=n?Aa:t.emitsCache,l=a.get(e);if(void 0!==l)return l;const s=e.emits;let o={},r=!1;if(!h(e)){const a=e=>{const n=Ua(e,t,!0);n&&(r=!0,i(o,n))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return s||r?(d(s)?s.forEach(e=>o[e]=null):i(o,s),y(e)&&a.set(e,o),o):(y(e)&&a.set(e,null),null)}function Ma(e,t){return!(!e||!s(t))&&(t=t.slice(2).replace(/Once$/,""),c(e,t[0].toLowerCase()+t.slice(1))||c(e,U(t))||c(e,t))}function La(e){const{type:t,vnode:n,proxy:a,withProxy:l,propsOptions:[s],slots:i,attrs:r,emit:u,render:c,renderCache:d,props:v,data:p,setupState:f,ctx:h,inheritAttrs:m}=e,g=Xt(e);let y,b;try{if(4&n.shapeFlag){const e=l||a,t=e;y=Tl(c.call(t,e,d,v,f,p,h)),b=r}else{const e=t;0,y=Tl(e.length>1?e(v,{attrs:r,slots:i,emit:u}):e(v,null)),b=t.props?r:Fa(r)}}catch(k){ul.length=0,Nt(k,e,1),y=_l(il)}let w=y;if(b&&!1!==m){const e=Object.keys(b),{shapeFlag:t}=w;e.length&&7&t&&(s&&e.some(o)&&(b=Pa(b,s)),w=Cl(w,b,!1,!0))}return n.dirs&&(w=Cl(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&Fn(w,n.transition),y=w,Xt(g),y}const Fa=e=>{let t;for(const n in e)("class"===n||"style"===n||s(n))&&((t||(t={}))[n]=e[n]);return t},Pa=(e,t)=>{const n={};for(const a in e)o(a)&&a.slice(9)in t||(n[a]=e[a]);return n};function Na(e,t,n){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let l=0;l<a.length;l++){const s=a[l];if(t[s]!==e[s]&&!Ma(n,s))return!0}return!1}const Da={},ja=()=>Object.create(Da),Oa=e=>Object.getPrototypeOf(e)===Da;function Ea(e,t,n,a=!1){const l={},s=ja();e.propsDefaults=/* @__PURE__ */Object.create(null),Ra(e,t,l,s);for(const o in e.propsOptions[0])o in l||(l[o]=void 0);n?e.props=a?l:ct(l,!1,Je,tt,lt):e.type.props?e.props=l:e.props=s,e.attrs=s}function Ra(e,n,a,l){const[s,o]=e.propsOptions;let i,r=!1;if(n)for(let t in n){if(x(t))continue;const u=n[t];let d;s&&c(s,d=T(t))?o&&o.includes(d)?(i||(i={}))[d]=u:a[d]=u:Ma(e.emitsOptions,t)||t in l&&u===l[t]||(l[t]=u,r=!0)}if(o){const n=ht(a),l=i||t;for(let t=0;t<o.length;t++){const i=o[t];a[i]=Ba(s,n,i,l[i],e,!c(l,i))}}return r}function Ba(e,t,n,a,l,s){const o=e[n];if(null!=o){const e=c(o,"default");if(e&&void 0===a){const e=o.default;if(o.type!==Function&&!o.skipFactory&&h(e)){const{propsDefaults:s}=l;if(n in s)a=s[n];else{const o=Ol(l);a=s[n]=e.call(null,t),o()}}else a=e;l.ce&&l.ce._setProp(n,a)}o[0]&&(s&&!e?a=!1:!o[1]||""!==a&&a!==U(n)||(a=!0))}return a}const Va=/* @__PURE__ */new WeakMap;function $a(e,a,l=!1){const s=l?Va:a.propsCache,o=s.get(e);if(o)return o;const r=e.props,u={},v=[];let p=!1;if(!h(e)){const t=e=>{p=!0;const[t,n]=$a(e,a,!0);i(u,t),n&&v.push(...n)};!l&&a.mixins.length&&a.mixins.forEach(t),e.extends&&t(e.extends),e.mixins&&e.mixins.forEach(t)}if(!r&&!p)return y(e)&&s.set(e,n),n;if(d(r))for(let n=0;n<r.length;n++){const e=T(r[n]);Wa(e)&&(u[e]=t)}else if(r)for(const t in r){const e=T(t);if(Wa(e)){const n=r[t],a=u[e]=d(n)||h(n)?{type:n}:i({},n),l=a.type;let s=!1,o=!0;if(d(l))for(let e=0;e<l.length;++e){const t=l[e],n=h(t)&&t.name;if("Boolean"===n){s=!0;break}"String"===n&&(o=!1)}else s=h(l)&&"Boolean"===l.name;a[0]=s,a[1]=o,(s||c(a,"default"))&&v.push(e)}}const f=[u,v];return y(e)&&s.set(e,f),f}function Wa(e){return"$"!==e[0]&&!x(e)}const za=e=>"_"===e||"_ctx"===e||"$stable"===e,qa=e=>d(e)?e.map(Tl):[Tl(e)],Ha=(e,t,n)=>{if(t._n)return t;const a=Zt((...e)=>qa(t(...e)),n);return a._c=!1,a},Ga=(e,t,n)=>{const a=e._ctx;for(const l in e){if(za(l))continue;const n=e[l];if(h(n))t[l]=Ha(0,n,a);else if(null!=n){const e=qa(n);t[l]=()=>e}}},Ja=(e,t)=>{const n=qa(t);e.slots.default=()=>n},Ka=(e,t,n)=>{for(const a in t)!n&&za(a)||(e[a]=t[a])},Ya=function(e,t){t&&t.pendingBranch?d(e)?t.effects.push(...e):t.effects.push(e):(d(n=e)?Ot.push(...n):Et&&-1===n.id?Et.splice(Rt+1,0,n):1&n.flags||(Ot.push(n),n.flags|=1),zt());var n};function Xa(e){return function(e){O().__VUE__=!0;const{insert:l,remove:s,patchProp:o,createElement:i,createText:r,createComment:u,setText:d,setElementText:v,parentNode:p,nextSibling:f,setScopeId:h=a,insertStaticContent:m}=e,g=(e,t,n,a=null,l=null,s=null,o=void 0,i=null,r=!!t.dynamicChildren)=>{if(e===t)return;e&&!yl(e,t)&&(a=Z(e),G(e,l,s,!0),e=null),-2===t.patchFlag&&(r=!1,t.dynamicChildren=null);const{type:u,ref:c,shapeFlag:d}=t;switch(u){case ol:y(e,t,n,a);break;case il:w(e,t,n,a);break;case rl:null==e&&k(t,n,a,o);break;case sl:j(e,t,n,a,l,s,o,i,r);break;default:1&d?S(e,t,n,a,l,s,o,i,r):6&d?E(e,t,n,a,l,s,o,i,r):(64&d||128&d)&&u.process(e,t,n,a,l,s,o,i,r,ae)}null!=c&&l?jn(c,e&&e.ref,s,t||e,!t):null==c&&e&&null!=e.ref&&jn(e.ref,null,s,e,!0)},y=(e,t,n,a)=>{if(null==e)l(t.el=r(t.children),n,a);else{const n=t.el=e.el;t.children!==e.children&&d(n,t.children)}},w=(e,t,n,a)=>{null==e?l(t.el=u(t.children||""),n,a):t.el=e.el},k=(e,t,n,a)=>{[e.el,e.anchor]=m(e.children,t,n,a,e.el,e.anchor)},_=({el:e,anchor:t},n,a)=>{let s;for(;e&&e!==t;)s=f(e),l(e,n,a),e=s;l(t,n,a)},C=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=f(e),s(e),e=n;s(t)},S=(e,t,n,a,l,s,o,i,r)=>{if("svg"===t.type?o="svg":"math"===t.type&&(o="mathml"),null==e)I(t,n,a,l,s,o,i,r);else{const n=e.el&&e.el._isVueCE?e.el:null;try{n&&n._beginPatch(),L(e,t,l,s,o,i,r)}finally{n&&n._endPatch()}}},I=(e,t,n,a,s,r,u,c)=>{let d,p;const{props:f,shapeFlag:h,transition:m,dirs:g}=e;if(d=e.el=i(e.type,r,f&&f.is,f),8&h?v(d,e.children):16&h&&M(e.children,d,null,a,s,Za(e,r),u,c),g&&en(e,null,a,"created"),A(d,e,e.scopeId,u,a),f){for(const e in f)"value"===e||x(e)||o(d,e,null,f[e],r,a);"value"in f&&o(d,"value",null,f.value,r),(p=f.onVnodeBeforeMount)&&Ml(p,a,e)}g&&en(e,null,a,"beforeMount");const y=function(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}(s,m);y&&m.beforeEnter(d),l(d,t,n),((p=f&&f.onVnodeMounted)||y||g)&&Ya(()=>{p&&Ml(p,a,e),y&&m.enter(d),g&&en(e,null,a,"mounted")},s)},A=(e,t,n,a,l)=>{if(n&&h(e,n),a)for(let s=0;s<a.length;s++)h(e,a[s]);if(l){let n=l.subTree;if(t===n||ll(n.type)&&(n.ssContent===t||n.ssFallback===t)){const t=l.vnode;A(e,t,t.scopeId,t.slotScopeIds,l.parent)}}},M=(e,t,n,a,l,s,o,i,r=0)=>{for(let u=r;u<e.length;u++){const r=e[u]=i?Al(e[u]):Tl(e[u]);g(null,r,t,n,a,l,s,o,i)}},L=(e,n,a,l,s,i,r)=>{const u=n.el=e.el;let{patchFlag:c,dynamicChildren:d,dirs:p}=n;c|=16&e.patchFlag;const f=e.props||t,h=n.props||t;let m;if(a&&Qa(a,!1),(m=h.onVnodeBeforeUpdate)&&Ml(m,a,n,e),p&&en(n,e,a,"beforeUpdate"),a&&Qa(a,!0),(f.innerHTML&&null==h.innerHTML||f.textContent&&null==h.textContent)&&v(u,""),d?F(e.dynamicChildren,d,u,a,l,Za(n,s),i):r||W(e,n,u,null,a,l,Za(n,s),i,!1),c>0){if(16&c)D(u,f,h,a,s);else if(2&c&&f.class!==h.class&&o(u,"class",null,h.class,s),4&c&&o(u,"style",f.style,h.style,s),8&c){const e=n.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t],l=f[n],i=h[n];i===l&&"value"!==n||o(u,n,l,i,s,a)}}1&c&&e.children!==n.children&&v(u,n.children)}else r||null!=d||D(u,f,h,a,s);((m=h.onVnodeUpdated)||p)&&Ya(()=>{m&&Ml(m,a,n,e),p&&en(n,e,a,"updated")},l)},F=(e,t,n,a,l,s,o)=>{for(let i=0;i<t.length;i++){const r=e[i],u=t[i],c=r.el&&(r.type===sl||!yl(r,u)||198&r.shapeFlag)?p(r.el):n;g(r,u,c,null,a,l,s,o,!0)}},D=(e,n,a,l,s)=>{if(n!==a){if(n!==t)for(const t in n)x(t)||t in a||o(e,t,n[t],null,s,l);for(const t in a){if(x(t))continue;const i=a[t],r=n[t];i!==r&&"value"!==t&&o(e,t,r,i,s,l)}"value"in a&&o(e,"value",n.value,a.value,s)}},j=(e,t,n,a,s,o,i,u,c)=>{const d=t.el=e?e.el:r(""),v=t.anchor=e?e.anchor:r("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:h}=t;h&&(u=u?u.concat(h):h),null==e?(l(d,n,a),l(v,n,a),M(t.children||[],n,v,s,o,i,u,c)):p>0&&64&p&&f&&e.dynamicChildren&&e.dynamicChildren.length===f.length?(F(e.dynamicChildren,f,n,s,o,i,u),(null!=t.key||s&&t===s.subTree)&&el(e,t,!0)):W(e,t,n,v,s,o,i,u,c)},E=(e,t,n,a,l,s,o,i,r)=>{t.slotScopeIds=i,null==e?512&t.shapeFlag?l.ctx.activate(t,n,a,o,r):R(t,n,a,l,s,o,r):B(e,t,r)},R=(e,n,a,l,s,o,i)=>{const r=e.component=function(e,n,a){const l=e.type,s=(n?n.appContext:e.appContext)||Ll,o={uid:Fl++,vnode:e,type:l,parent:n,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ee(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(s.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$a(l,s),emitsOptions:Ua(l,s),emit:null,emitted:null,propsDefaults:t,inheritAttrs:l.inheritAttrs,ctx:t,data:t,props:t,attrs:t,slots:t,refs:t,setupState:t,setupContext:null,suspense:a,suspenseId:a?a.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};o.ctx={_:o},o.root=n?n.root:o,o.emit=Ta.bind(null,o),e.ce&&e.ce(o);return o}(e,l,s);if(Rn(e)&&(r.ctx.renderer=ae),function(e,t=!1,n=!1){t&&jl(t);const{props:a,children:l}=e.vnode,s=Rl(e);Ea(e,a,s,t),((e,t,n)=>{const a=e.slots=ja();if(32&e.vnode.shapeFlag){const e=t._;e?(Ka(a,t,n),n&&N(a,"_",e,!0)):Ga(t,a)}else t&&Ja(e,t)})(e,l,n||t);const o=s?function(e,t){const n=e.type;e.accessCache=/* @__PURE__ */Object.create(null),e.proxy=new Proxy(e.ctx,ua);const{setup:a}=n;if(a){ge();const n=e.setupContext=a.length>1?function(e){const t=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,Wl),slots:e.slots,emit:e.emit,expose:t}}(e):null,l=Ol(e),s=Ft(a,e,0,[e.props,n]),o=b(s);if(ye(),l(),!o&&!e.sp||En(e)||Nn(e),o){if(s.then(El,El),t)return s.then(t=>{Vl(e,t)}).catch(t=>{Nt(t,e,0)});e.asyncDep=s}else Vl(e,s)}else $l(e)}(e,t):void 0;t&&jl(!1)}(r,!1,i),r.asyncDep){if(s&&s.registerDep(r,V,i),!e.el){const t=r.subTree=_l(il);w(null,t,n,a),e.placeholder=t.el}}else V(r,e,n,a,s,o,i)},B=(e,t,n)=>{const a=t.component=e.component;if(function(e,t,n){const{props:a,children:l,component:s}=e,{props:o,children:i,patchFlag:r}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&r>=0))return!(!l&&!i||i&&i.$stable)||a!==o&&(a?!o||Na(a,o,u):!!o);if(1024&r)return!0;if(16&r)return a?Na(a,o,u):!!o;if(8&r){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(o[n]!==a[n]&&!Ma(u,n))return!0}}return!1}(e,t,n)){if(a.asyncDep&&!a.asyncResolved)return void $(a,t,n);a.next=t,a.update()}else t.el=e.el,a.vnode=t},V=(e,t,n,a,l,s,o)=>{const i=()=>{if(e.isMounted){let{next:t,bu:n,u:a,parent:r,vnode:u}=e;{const n=tl(e);if(n)return t&&(t.el=u.el,$(e,t,o)),void n.asyncDep.then(()=>{e.isUnmounted||i()})}let c,d=t;Qa(e,!1),t?(t.el=u.el,$(e,t,o)):t=u,n&&P(n),(c=t.props&&t.props.onVnodeBeforeUpdate)&&Ml(c,r,t,u),Qa(e,!0);const v=La(e),f=e.subTree;e.subTree=v,g(f,v,p(f.el),Z(f),e,l,s),t.el=v.el,null===d&&function({vnode:e,parent:t},n){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a!==e)break;(e=t.vnode).el=n,t=t.parent}}(e,v.el),a&&Ya(a,l),(c=t.props&&t.props.onVnodeUpdated)&&Ya(()=>Ml(c,r,t,u),l)}else{let o;const{el:i,props:r}=t,{bm:u,m:c,parent:d,root:v,type:p}=e,f=En(t);Qa(e,!1),u&&P(u),!f&&(o=r&&r.onVnodeBeforeMount)&&Ml(o,d,t),Qa(e,!0);{v.ce&&!1!==v.ce._def.shadowRoot&&v.ce._injectChildStyle(p);const o=e.subTree=La(e);g(null,o,n,a,e,l,s),t.el=o.el}if(c&&Ya(c,l),!f&&(o=r&&r.onVnodeMounted)){const e=t;Ya(()=>Ml(o,d,e),l)}(256&t.shapeFlag||d&&En(d.vnode)&&256&d.vnode.shapeFlag)&&e.a&&Ya(e.a,l),e.isMounted=!0,t=n=a=null}};e.scope.on();const r=e.effect=new ne(i);e.scope.off();const u=e.update=r.run.bind(r),c=e.job=r.runIfDirty.bind(r);c.i=e,c.id=e.uid,r.scheduler=()=>Wt(c),Qa(e,!0),u()},$=(e,n,a)=>{n.component=e;const l=e.vnode.props;e.vnode=n,e.next=null,function(e,t,n,a){const{props:l,attrs:s,vnode:{patchFlag:o}}=e,i=ht(l),[r]=e.propsOptions;let u=!1;if(!(a||o>0)||16&o){let a;Ra(e,t,l,s)&&(u=!0);for(const s in i)t&&(c(t,s)||(a=U(s))!==s&&c(t,a))||(r?!n||void 0===n[s]&&void 0===n[a]||(l[s]=Ba(r,i,s,void 0,e,!0)):delete l[s]);if(s!==i)for(const e in s)t&&c(t,e)||(delete s[e],u=!0)}else if(8&o){const n=e.vnode.dynamicProps;for(let a=0;a<n.length;a++){let o=n[a];if(Ma(e.emitsOptions,o))continue;const d=t[o];if(r)if(c(s,o))d!==s[o]&&(s[o]=d,u=!0);else{const t=T(o);l[t]=Ba(r,i,t,d,e,!1)}else d!==s[o]&&(s[o]=d,u=!0)}}u&&Ue(e.attrs,"set","")}(e,n.props,l,a),((e,n,a)=>{const{vnode:l,slots:s}=e;let o=!0,i=t;if(32&l.shapeFlag){const e=n._;e?a&&1===e?o=!1:Ka(s,n,a):(o=!n.$stable,Ga(n,s)),i=n}else n&&(Ja(e,n),i={default:1});if(o)for(const t in s)za(t)||null!=i[t]||delete s[t]})(e,n.children,a),ge(),qt(e),ye()},W=(e,t,n,a,l,s,o,i,r=!1)=>{const u=e&&e.children,c=e?e.shapeFlag:0,d=t.children,{patchFlag:p,shapeFlag:f}=t;if(p>0){if(128&p)return void q(u,d,n,a,l,s,o,i,r);if(256&p)return void z(u,d,n,a,l,s,o,i,r)}8&f?(16&c&&X(u,l,s),d!==u&&v(n,d)):16&c?16&f?q(u,d,n,a,l,s,o,i,r):X(u,l,s,!0):(8&c&&v(n,""),16&f&&M(d,n,a,l,s,o,i,r))},z=(e,t,a,l,s,o,i,r,u)=>{t=t||n;const c=(e=e||n).length,d=t.length,v=Math.min(c,d);let p;for(p=0;p<v;p++){const n=t[p]=u?Al(t[p]):Tl(t[p]);g(e[p],n,a,null,s,o,i,r,u)}c>d?X(e,s,o,!0,!1,v):M(t,a,l,s,o,i,r,u,v)},q=(e,t,a,l,s,o,i,r,u)=>{let c=0;const d=t.length;let v=e.length-1,p=d-1;for(;c<=v&&c<=p;){const n=e[c],l=t[c]=u?Al(t[c]):Tl(t[c]);if(!yl(n,l))break;g(n,l,a,null,s,o,i,r,u),c++}for(;c<=v&&c<=p;){const n=e[v],l=t[p]=u?Al(t[p]):Tl(t[p]);if(!yl(n,l))break;g(n,l,a,null,s,o,i,r,u),v--,p--}if(c>v){if(c<=p){const e=p+1,n=e<d?t[e].el:l;for(;c<=p;)g(null,t[c]=u?Al(t[c]):Tl(t[c]),a,n,s,o,i,r,u),c++}}else if(c>p)for(;c<=v;)G(e[c],s,o,!0),c++;else{const f=c,h=c,m=/* @__PURE__ */new Map;for(c=h;c<=p;c++){const e=t[c]=u?Al(t[c]):Tl(t[c]);null!=e.key&&m.set(e.key,c)}let y,b=0;const w=p-h+1;let k=!1,_=0;const C=new Array(w);for(c=0;c<w;c++)C[c]=0;for(c=f;c<=v;c++){const n=e[c];if(b>=w){G(n,s,o,!0);continue}let l;if(null!=n.key)l=m.get(n.key);else for(y=h;y<=p;y++)if(0===C[y-h]&&yl(n,t[y])){l=y;break}void 0===l?G(n,s,o,!0):(C[l-h]=c+1,l>=_?_=l:k=!0,g(n,t[l],a,null,s,o,i,r,u),b++)}const x=k?function(e){const t=e.slice(),n=[0];let a,l,s,o,i;const r=e.length;for(a=0;a<r;a++){const r=e[a];if(0!==r){if(l=n[n.length-1],e[l]<r){t[a]=l,n.push(a);continue}for(s=0,o=n.length-1;s<o;)i=s+o>>1,e[n[i]]<r?s=i+1:o=i;r<e[n[s]]&&(s>0&&(t[a]=n[s-1]),n[s]=a)}}s=n.length,o=n[s-1];for(;s-- >0;)n[s]=o,o=t[o];return n}(C):n;for(y=x.length-1,c=w-1;c>=0;c--){const e=h+c,n=t[e],v=t[e+1],p=e+1<d?v.el||al(v):l;0===C[c]?g(null,n,a,p,s,o,i,r,u):k&&(y<0||c!==x[y]?H(n,a,p,2):y--)}}},H=(e,t,n,a,o=null)=>{const{el:i,type:r,transition:u,children:c,shapeFlag:d}=e;if(6&d)return void H(e.component.subTree,t,n,a);if(128&d)return void e.suspense.move(t,n,a);if(64&d)return void r.move(e,t,n,ae);if(r===sl){l(i,t,n);for(let e=0;e<c.length;e++)H(c[e],t,n,a);return void l(e.anchor,t,n)}if(r===rl)return void _(e,t,n);if(2!==a&&1&d&&u)if(0===a)u.beforeEnter(i),l(i,t,n),Ya(()=>u.enter(i),o);else{const{leave:a,delayLeave:o,afterLeave:r}=u,c=()=>{e.ctx.isUnmounted?s(i):l(i,t,n)},d=()=>{i._isLeaving&&i[kn](!0),a(i,()=>{c(),r&&r()})};o?o(i,c,d):d()}else l(i,t,n)},G=(e,t,n,a=!1,l=!1)=>{const{type:s,props:o,ref:i,children:r,dynamicChildren:u,shapeFlag:c,patchFlag:d,dirs:v,cacheIndex:p}=e;if(-2===d&&(l=!1),null!=i&&(ge(),jn(i,null,n,e,!0),ye()),null!=p&&(t.renderCache[p]=void 0),256&c)return void t.ctx.deactivate(e);const f=1&c&&v,h=!En(e);let m;if(h&&(m=o&&o.onVnodeBeforeUnmount)&&Ml(m,t,e),6&c)Y(e.component,n,a);else{if(128&c)return void e.suspense.unmount(n,a);f&&en(e,null,t,"beforeUnmount"),64&c?e.type.remove(e,t,n,ae,a):u&&!u.hasOnce&&(s!==sl||d>0&&64&d)?X(u,t,n,!1,!0):(s===sl&&384&d||!l&&16&c)&&X(r,t,n),a&&J(e)}(h&&(m=o&&o.onVnodeUnmounted)||f)&&Ya(()=>{m&&Ml(m,t,e),f&&en(e,null,t,"unmounted")},n)},J=e=>{const{type:t,el:n,anchor:a,transition:l}=e;if(t===sl)return void K(n,a);if(t===rl)return void C(e);const o=()=>{s(n),l&&!l.persisted&&l.afterLeave&&l.afterLeave()};if(1&e.shapeFlag&&l&&!l.persisted){const{leave:t,delayLeave:a}=l,s=()=>t(n,o);a?a(e.el,o,s):s()}else o()},K=(e,t)=>{let n;for(;e!==t;)n=f(e),s(e),e=n;s(t)},Y=(e,t,n)=>{const{bum:a,scope:l,job:s,subTree:o,um:i,m:r,a:u}=e;nl(r),nl(u),a&&P(a),l.stop(),s&&(s.flags|=8,G(o,e,t,n)),i&&Ya(i,t),Ya(()=>{e.isUnmounted=!0},t)},X=(e,t,n,a=!1,l=!1,s=0)=>{for(let o=s;o<e.length;o++)G(e[o],t,n,a,l)},Z=e=>{if(6&e.shapeFlag)return Z(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();const t=f(e.anchor||e.el),n=t&&t[un];return n?f(n):t};let Q=!1;const te=(e,t,n)=>{let a;null==e?t._vnode&&(G(t._vnode,null,null,!0),a=t._vnode.component):g(t._vnode||null,e,t,null,null,null,n),t._vnode=e,Q||(Q=!0,qt(a),Ht(),Q=!1)},ae={p:g,um:G,m:H,r:J,mt:R,mc:M,pc:W,pbc:F,n:Z,o:e};let le;return{render:te,hydrate:le,createApp:Sa(te)}}(e)}function Za({type:e,props:t},n){return"svg"===n&&"foreignObject"===e||"mathml"===n&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Qa({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function el(e,t,n=!1){const a=e.children,l=t.children;if(d(a)&&d(l))for(let s=0;s<a.length;s++){const t=a[s];let o=l[s];1&o.shapeFlag&&!o.dynamicChildren&&((o.patchFlag<=0||32===o.patchFlag)&&(o=l[s]=Al(l[s]),o.el=t.el),n||-2===o.patchFlag||el(t,o)),o.type===ol&&(-1!==o.patchFlag?o.el=t.el:o.__elIndex=s+(e.type===sl?1:0)),o.type!==il||o.el||(o.el=t.el)}}function tl(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:tl(t)}function nl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function al(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?al(t.subTree):null}const ll=e=>e.__isSuspense;const sl=/* @__PURE__ */Symbol.for("v-fgt"),ol=/* @__PURE__ */Symbol.for("v-txt"),il=/* @__PURE__ */Symbol.for("v-cmt"),rl=/* @__PURE__ */Symbol.for("v-stc"),ul=[];let cl=null;function dl(e=!1){ul.push(cl=e?null:[])}let vl=1;function pl(e,t=!1){vl+=e,e<0&&cl&&t&&(cl.hasOnce=!0)}function fl(e){return e.dynamicChildren=vl>0?cl||n:null,ul.pop(),cl=ul[ul.length-1]||null,vl>0&&cl&&cl.push(e),e}function hl(e,t,n,a,l,s){return fl(kl(e,t,n,a,l,s,!0))}function ml(e,t,n,a,l){return fl(_l(e,t,n,a,l,!0))}function gl(e){return!!e&&!0===e.__v_isVNode}function yl(e,t){return e.type===t.type&&e.key===t.key}const bl=({key:e})=>null!=e?e:null,wl=({ref:e,ref_key:t,ref_for:n})=>("number"==typeof e&&(e=""+e),null!=e?m(e)||yt(e)||h(e)?{i:Kt,r:e,k:t,f:!!n}:e:null);function kl(e,t=null,n=null,a=0,l=null,s=(e===sl?0:1),o=!1,i=!1){const r={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&bl(t),ref:t&&wl(t),scopeId:Yt,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:a,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:Kt};return i?(Ul(r,n),128&s&&e.normalize(r)):n&&(r.shapeFlag|=m(n)?8:16),vl>0&&!o&&cl&&(r.patchFlag>0||6&s)&&32!==r.patchFlag&&cl.push(r),r}const _l=function(e,t=null,n=null,a=0,l=null,s=!1){e&&e!==na||(e=il);if(gl(e)){const a=Cl(e,t,!0);return n&&Ul(a,n),vl>0&&!s&&cl&&(6&a.shapeFlag?cl[cl.indexOf(e)]=a:cl.push(a)),a.patchFlag=-2,a}o=e,h(o)&&"__vccOpts"in o&&(e=e.__vccOpts);var o;if(t){t=function(e){return e?ft(e)||Oa(e)?i({},e):e:null}(t);let{class:e,style:n}=t;e&&!m(e)&&(t.class=W(e)),y(n)&&(ft(n)&&!d(n)&&(n=i({},n)),t.style=E(n))}const r=m(e)?1:ll(e)?128:cn(e)?64:y(e)?4:h(e)?2:0;return kl(e,t,n,a,l,r,s,!0)};function Cl(e,t,n=!1,a=!1){const{props:l,ref:o,patchFlag:i,children:r,transition:u}=e,c=t?function(...e){const t={};for(let n=0;n<e.length;n++){const a=e[n];for(const e in a)if("class"===e)t.class!==a.class&&(t.class=W([t.class,a.class]));else if("style"===e)t.style=E([t.style,a.style]);else if(s(e)){const n=t[e],l=a[e];!l||n===l||d(n)&&n.includes(l)||(t[e]=n?[].concat(n,l):l)}else""!==e&&(t[e]=a[e])}return t}(l||{},t):l,v={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&bl(c),ref:t&&t.ref?n&&o?d(o)?o.concat(wl(t)):[o,wl(t)]:wl(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==sl?-1===i?16:16|i:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Cl(e.ssContent),ssFallback:e.ssFallback&&Cl(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&a&&Fn(v,u.clone(v)),v}function xl(e=" ",t=0){return _l(ol,null,e,t)}function Sl(e,t){const n=_l(rl,null,e);return n.staticCount=t,n}function Il(e="",t=!1){return t?(dl(),ml(il,null,e)):_l(il,null,e)}function Tl(e){return null==e||"boolean"==typeof e?_l(il):d(e)?_l(sl,null,e.slice()):gl(e)?Al(e):_l(ol,null,String(e))}function Al(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Cl(e)}function Ul(e,t){let n=0;const{shapeFlag:a}=e;if(null==t)t=null;else if(d(t))n=16;else if("object"==typeof t){if(65&a){const n=t.default;return void(n&&(n._c&&(n._d=!1),Ul(e,n()),n._c&&(n._d=!0)))}{n=32;const a=t._;a||Oa(t)?3===a&&Kt&&(1===Kt.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=Kt}}else h(t)?(t={default:t,_ctx:Kt},n=32):(t=String(t),64&a?(n=16,t=[xl(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ml(e,t,n,a=null){Pt(e,t,7,[n,a])}const Ll=Ca();let Fl=0;let Pl=null;const Nl=()=>Pl||Kt;let Dl,jl;{const e=O(),t=(t,n)=>{let a;return(a=e[t])||(a=e[t]=[]),a.push(n),e=>{a.length>1?a.forEach(t=>t(e)):a[0](e)}};Dl=t("__VUE_INSTANCE_SETTERS__",e=>Pl=e),jl=t("__VUE_SSR_SETTERS__",e=>Bl=e)}const Ol=e=>{const t=Pl;return Dl(e),e.scope.on(),()=>{e.scope.off(),Dl(t)}},El=()=>{Pl&&Pl.scope.off(),Dl(null)};function Rl(e){return 4&e.vnode.shapeFlag}let Bl=!1;function Vl(e,t,n){h(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:y(t)&&(e.setupState=St(t)),$l(e)}function $l(e,t,n){const l=e.type;e.render||(e.render=l.render||a);{const t=Ol(e);ge();try{va(e)}finally{ye(),t()}}}const Wl={get:(e,t)=>(Ae(e,0,""),e[t])};function zl(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(St((t=e.exposed,!c(t,"__v_skip")&&Object.isExtensible(t)&&N(t,"__v_skip",!0),t)),{get:(t,n)=>n in t?t[n]:n in ia?ia[n](e):void 0,has:(e,t)=>t in e||t in ia})):e.proxy;var t}const ql=(e,t)=>{const n=function(e,t,n=!1){let a,l;return h(e)?a=e:(a=e.get,l=e.set),new It(a,l,n)}(e,0,Bl);return n};function Hl(e,t,n){try{pl(-1);const a=arguments.length;return 2===a?y(t)&&!d(t)?gl(t)?_l(e,null,[t]):_l(e,t):_l(e,null,t):(a>3?n=Array.prototype.slice.call(arguments,2):3===a&&gl(n)&&(n=[n]),_l(e,t,n))}finally{pl(1)}}const Gl="3.5.26";let Jl;const Kl="undefined"!=typeof window&&window.trustedTypes;if(Kl)try{Jl=/* @__PURE__ */Kl.createPolicy("vue",{createHTML:e=>e})}catch(Nf){}const Yl=Jl?e=>Jl.createHTML(e):e=>e,Xl="undefined"!=typeof document?document:null,Zl=Xl&&/* @__PURE__ */Xl.createElement("template"),Ql={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,a)=>{const l="svg"===t?Xl.createElementNS("http://www.w3.org/2000/svg",e):"mathml"===t?Xl.createElementNS("http://www.w3.org/1998/Math/MathML",e):n?Xl.createElement(e,{is:n}):Xl.createElement(e);return"select"===e&&a&&null!=a.multiple&&l.setAttribute("multiple",a.multiple),l},createText:e=>Xl.createTextNode(e),createComment:e=>Xl.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Xl.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,a,l,s){const o=n?n.previousSibling:t.lastChild;if(l&&(l===s||l.nextSibling))for(;t.insertBefore(l.cloneNode(!0),n),l!==s&&(l=l.nextSibling););else{Zl.innerHTML=Yl("svg"===a?`<svg>${e}</svg>`:"mathml"===a?`<math>${e}</math>`:e);const l=Zl.content;if("svg"===a||"mathml"===a){const e=l.firstChild;for(;e.firstChild;)l.appendChild(e.firstChild);l.removeChild(e)}t.insertBefore(l,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},es="transition",ts="animation",ns=/* @__PURE__ */Symbol("_vtc"),as={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ls=/* @__PURE__ */i({},xn,as),ss=/* @__PURE__ */(e=>(e.displayName="Transition",e.props=ls,e))((e,{slots:t})=>Hl(Tn,function(e){const t={};for(const i in e)i in as||(t[i]=e[i]);if(!1===e.css)return t;const{name:n="v",type:a,duration:l,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:r=`${n}-enter-to`,appearFromClass:u=s,appearActiveClass:c=o,appearToClass:d=r,leaveFromClass:v=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,h=function(e){if(null==e)return null;if(y(e))return[rs(e.enter),rs(e.leave)];{const t=rs(e);return[t,t]}}(l),m=h&&h[0],g=h&&h[1],{onBeforeEnter:b,onEnter:w,onEnterCancelled:k,onLeave:_,onLeaveCancelled:C,onBeforeAppear:x=b,onAppear:S=w,onAppearCancelled:I=k}=t,T=(e,t,n,a)=>{e._enterCancelled=a,cs(e,t?d:r),cs(e,t?c:o),n&&n()},A=(e,t)=>{e._isLeaving=!1,cs(e,v),cs(e,f),cs(e,p),t&&t()},U=e=>(t,n)=>{const l=e?S:w,o=()=>T(t,e,n);os(l,[t,o]),ds(()=>{cs(t,e?u:s),us(t,e?d:r),is(l)||ps(t,a,m,o)})};return i(t,{onBeforeEnter(e){os(b,[e]),us(e,s),us(e,o)},onBeforeAppear(e){os(x,[e]),us(e,u),us(e,c)},onEnter:U(!1),onAppear:U(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>A(e,t);us(e,v),e._enterCancelled?(us(e,p),ms(e)):(ms(e),us(e,p)),ds(()=>{e._isLeaving&&(cs(e,v),us(e,f),is(_)||ps(e,a,g,n))}),os(_,[e,n])},onEnterCancelled(e){T(e,!1,void 0,!0),os(k,[e])},onAppearCancelled(e){T(e,!0,void 0,!0),os(I,[e])},onLeaveCancelled(e){A(e),os(C,[e])}})}(e),t)),os=(e,t=[])=>{d(e)?e.forEach(e=>e(...t)):e&&e(...t)},is=e=>!!e&&(d(e)?e.some(e=>e.length>1):e.length>1);function rs(e){const t=(e=>{const t=m(e)?Number(e):NaN;return isNaN(t)?e:t})(e);return t}function us(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.add(t)),(e[ns]||(e[ns]=/* @__PURE__ */new Set)).add(t)}function cs(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.remove(t));const n=e[ns];n&&(n.delete(t),n.size||(e[ns]=void 0))}function ds(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let vs=0;function ps(e,t,n,a){const l=e._endId=++vs,s=()=>{l===e._endId&&a()};if(null!=n)return setTimeout(s,n);const{type:o,timeout:i,propCount:r}=function(e,t){const n=window.getComputedStyle(e),a=e=>(n[e]||"").split(", "),l=a(`${es}Delay`),s=a(`${es}Duration`),o=fs(l,s),i=a(`${ts}Delay`),r=a(`${ts}Duration`),u=fs(i,r);let c=null,d=0,v=0;t===es?o>0&&(c=es,d=o,v=s.length):t===ts?u>0&&(c=ts,d=u,v=r.length):(d=Math.max(o,u),c=d>0?o>u?es:ts:null,v=c?c===es?s.length:r.length:0);const p=c===es&&/\b(?:transform|all)(?:,|$)/.test(a(`${es}Property`).toString());return{type:c,timeout:d,propCount:v,hasTransform:p}}(e,t);if(!o)return a();const u=o+"end";let c=0;const d=()=>{e.removeEventListener(u,v),s()},v=t=>{t.target===e&&++c>=r&&d()};setTimeout(()=>{c<r&&d()},i+1),e.addEventListener(u,v)}function fs(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((t,n)=>hs(t)+hs(e[n])))}function hs(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}function ms(e){return(e?e.ownerDocument:document).body.offsetHeight}const gs=/* @__PURE__ */Symbol("_vod"),ys=/* @__PURE__ */Symbol("_vsh"),bs={name:"show",beforeMount(e,{value:t},{transition:n}){e[gs]="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):ws(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:a}){!t!=!n&&(a?t?(a.beforeEnter(e),ws(e,!0),a.enter(e)):a.leave(e,()=>{ws(e,!1)}):ws(e,t))},beforeUnmount(e,{value:t}){ws(e,t)}};function ws(e,t){e.style.display=t?e[gs]:"none",e[ys]=!t}const ks=/* @__PURE__ */Symbol(""),_s=/(?:^|;)\s*display\s*:/;const Cs=/\s*!important$/;function xs(e,t,n){if(d(n))n.forEach(n=>xs(e,t,n));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const a=function(e,t){const n=Is[t];if(n)return n;let a=T(t);if("filter"!==a&&a in e)return Is[t]=a;a=M(a);for(let l=0;l<Ss.length;l++){const n=Ss[l]+a;if(n in e)return Is[t]=n}return t}(e,t);Cs.test(n)?e.setProperty(U(a),n.replace(Cs,""),"important"):e[a]=n}}const Ss=["Webkit","Moz","ms"],Is={};const Ts="http://www.w3.org/1999/xlink";function As(e,t,n,a,l,s=z(t)){a&&t.startsWith("xlink:")?null==n?e.removeAttributeNS(Ts,t.slice(6,t.length)):e.setAttributeNS(Ts,t,n):null==n||s&&!q(n)?e.removeAttribute(t):e.setAttribute(t,s?"":g(n)?String(n):n)}function Us(e,t,n,a,l){if("innerHTML"===t||"textContent"===t)return void(null!=n&&(e[t]="innerHTML"===t?Yl(n):n));const s=e.tagName;if("value"===t&&"PROGRESS"!==s&&!s.includes("-")){const a="OPTION"===s?e.getAttribute("value")||"":e.value,l=null==n?"checkbox"===e.type?"on":"":String(n);return a===l&&"_value"in e||(e.value=l),null==n&&e.removeAttribute(t),void(e._value=n)}let o=!1;if(""===n||null==n){const a=typeof e[t];"boolean"===a?n=q(n):null==n&&"string"===a?(n="",o=!0):"number"===a&&(n=0,o=!0)}try{e[t]=n}catch(Nf){}o&&e.removeAttribute(l||t)}function Ms(e,t,n,a){e.addEventListener(t,n,a)}const Ls=/* @__PURE__ */Symbol("_vei");function Fs(e,t,n,a,l=null){const s=e[Ls]||(e[Ls]={}),o=s[t];if(a&&o)o.value=a;else{const[n,i]=function(e){let t;if(Ps.test(e)){let n;for(t={};n=e.match(Ps);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):U(e.slice(2));return[n,t]}(t);if(a){const o=s[t]=function(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();Pt(function(e,t){if(d(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e&&e(t))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=js(),n}(a,l);Ms(e,n,o,i)}else o&&(!function(e,t,n,a){e.removeEventListener(t,n,a)}(e,n,o,i),s[t]=void 0)}}const Ps=/(?:Once|Passive|Capture)$/;let Ns=0;const Ds=/* @__PURE__ */Promise.resolve(),js=()=>Ns||(Ds.then(()=>Ns=0),Ns=Date.now());const Os=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123;const Es=e=>{const t=e.props["onUpdate:modelValue"]||!1;return d(t)?e=>P(t,e):t};function Rs(e){e.target.composing=!0}function Bs(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Vs=/* @__PURE__ */Symbol("_assign");function $s(e,t,n){return t&&(e=e.trim()),n&&(e=D(e)),e}const Ws={created(e,{modifiers:{lazy:t,trim:n,number:a}},l){e[Vs]=Es(l);const s=a||l.props&&"number"===l.props.type;Ms(e,t?"change":"input",t=>{t.target.composing||e[Vs]($s(e.value,n,s))}),(n||s)&&Ms(e,"change",()=>{e.value=$s(e.value,n,s)}),t||(Ms(e,"compositionstart",Rs),Ms(e,"compositionend",Bs),Ms(e,"change",Bs))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:a,trim:l,number:s}},o){if(e[Vs]=Es(o),e.composing)return;const i=null==t?"":t;if((!s&&"number"!==e.type||/^0\d/.test(e.value)?e.value:D(e.value))!==i){if(document.activeElement===e&&"range"!==e.type){if(a&&t===n)return;if(l&&e.value.trim()===i)return}e.value=i}}},zs={deep:!0,created(e,t,n){e[Vs]=Es(n),Ms(e,"change",()=>{const t=e._modelValue,n=Ks(e),a=e.checked,l=e[Vs];if(d(t)){const e=G(t,n),s=-1!==e;if(a&&!s)l(t.concat(n));else if(!a&&s){const n=[...t];n.splice(e,1),l(n)}}else if(p(t)){const e=new Set(t);a?e.add(n):e.delete(n),l(e)}else l(Ys(e,a))})},mounted:qs,beforeUpdate(e,t,n){e[Vs]=Es(n),qs(e,t,n)}};function qs(e,{value:t,oldValue:n},a){let l;if(e._modelValue=t,d(t))l=G(t,a.props.value)>-1;else if(p(t))l=t.has(a.props.value);else{if(t===n)return;l=H(t,Ys(e,!0))}e.checked!==l&&(e.checked=l)}const Hs={created(e,{value:t},n){e.checked=H(t,n.props.value),e[Vs]=Es(n),Ms(e,"change",()=>{e[Vs](Ks(e))})},beforeUpdate(e,{value:t,oldValue:n},a){e[Vs]=Es(a),t!==n&&(e.checked=H(t,a.props.value))}},Gs={deep:!0,created(e,{value:t,modifiers:{number:n}},a){const l=p(t);Ms(e,"change",()=>{const t=Array.prototype.filter.call(e.options,e=>e.selected).map(e=>n?D(Ks(e)):Ks(e));e[Vs](e.multiple?l?new Set(t):t:t[0]),e._assigning=!0,$t(()=>{e._assigning=!1})}),e[Vs]=Es(a)},mounted(e,{value:t}){Js(e,t)},beforeUpdate(e,t,n){e[Vs]=Es(n)},updated(e,{value:t}){e._assigning||Js(e,t)}};function Js(e,t){const n=e.multiple,a=d(t);if(!n||a||p(t)){for(let l=0,s=e.options.length;l<s;l++){const s=e.options[l],o=Ks(s);if(n)if(a){const e=typeof o;s.selected="string"===e||"number"===e?t.some(e=>String(e)===String(o)):G(t,o)>-1}else s.selected=t.has(o);else if(H(Ks(s),t))return void(e.selectedIndex!==l&&(e.selectedIndex=l))}n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function Ks(e){return"_value"in e?e._value:e.value}function Ys(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Xs={created(e,t,n){Zs(e,t,n,null,"created")},mounted(e,t,n){Zs(e,t,n,null,"mounted")},beforeUpdate(e,t,n,a){Zs(e,t,n,a,"beforeUpdate")},updated(e,t,n,a){Zs(e,t,n,a,"updated")}};function Zs(e,t,n,a,l){const s=function(e,t){switch(e){case"SELECT":return Gs;case"TEXTAREA":return Ws;default:switch(t){case"checkbox":return zs;case"radio":return Hs;default:return Ws}}}(e.tagName,n.props&&n.props.type)[l];s&&s(e,t,n,a)}const Qs=["ctrl","shift","alt","meta"],eo={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>Qs.some(n=>e[`${n}Key`]&&!t.includes(n))},to=(e,t)=>{const n=e._withMods||(e._withMods={}),a=t.join(".");return n[a]||(n[a]=(n,...a)=>{for(let e=0;e<t.length;e++){const a=eo[t[e]];if(a&&a(n,t))return}return e(n,...a)})},no={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ao=(e,t)=>{const n=e._withKeys||(e._withKeys={}),a=t.join(".");return n[a]||(n[a]=n=>{if(!("key"in n))return;const a=U(n.key);return t.some(e=>e===a||no[e]===a)?e(n):void 0})},lo=/* @__PURE__ */i({patchProp:(e,t,n,a,l,i)=>{const r="svg"===l;"class"===t?function(e,t,n){const a=e[ns];a&&(t=(t?[t,...a]:[...a]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,a,r):"style"===t?function(e,t,n){const a=e.style,l=m(n);let s=!1;if(n&&!l){if(t)if(m(t))for(const e of t.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==n[t]&&xs(a,t,"")}else for(const e in t)null==n[e]&&xs(a,e,"");for(const e in n)"display"===e&&(s=!0),xs(a,e,n[e])}else if(l){if(t!==n){const e=a[ks];e&&(n+=";"+e),a.cssText=n,s=_s.test(n)}}else t&&e.removeAttribute("style");gs in e&&(e[gs]=s?a.display:"",e[ys]&&(a.display="none"))}(e,n,a):s(t)?o(t)||Fs(e,t,0,a,i):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,a){if(a)return"innerHTML"===t||"textContent"===t||!!(t in e&&Os(t)&&h(n));if("spellcheck"===t||"draggable"===t||"translate"===t||"autocorrect"===t)return!1;if("sandbox"===t&&"IFRAME"===e.tagName)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}if(Os(t)&&m(n))return!1;return t in e}(e,t,a,r))?(Us(e,t,a),e.tagName.includes("-")||"value"!==t&&"checked"!==t&&"selected"!==t||As(e,t,a,r,0,"value"!==t)):!e._isVueCE||!/[A-Z]/.test(t)&&m(a)?("true-value"===t?e._trueValue=a:"false-value"===t&&(e._falseValue=a),As(e,t,a,r)):Us(e,T(t),a,0,t)}},Ql);let so;const oo=(...e)=>{const t=(so||(so=Xa(lo))).createApp(...e),{mount:n}=t;return t.mount=e=>{const a=function(e){if(m(e)){return document.querySelector(e)}return e}(e);if(!a)return;const l=t._component;h(l)||l.render||l.template||(l.template=a.innerHTML),1===a.nodeType&&(a.textContent="");const s=n(a,!1,function(e){if(e instanceof SVGElement)return"svg";if("function"==typeof MathMLElement&&e instanceof MathMLElement)return"mathml"}(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),s},t};function io(){const e=803,t=795,n=798,a=807,l=814,s=685,o={};o[d(794,800,800)]=function(e,t){return e>t},o[d(e,t,n)]=c(-735,-748,-745,-741);const i=o,r=import.meta.url,u=new URL(r)[c(-749,-754,-758,-748)].split("/");function c(e,t,n,a){return po(a- -865)}function d(e,t,n,a){return po(n-s)}const v=u[d(0,0,805)]("vue");if(i[c(0,0,0,-750)](v,0)){if(i[d(0,0,798)]===d(0,0,809)){return u[d(0,0,a)](0,v)[d(0,0,l)]("/")}return _0x2edc0a()+"/"+(_0x4f6362[c(0,0,0,-733)]("/")?_0x4958f5[d(0,0,807)](1):_0x7f164e)}return new URL(c(0,0,0,-744),r).pathname[c(0,0,0,-747)](/\/$/,"")}!function(){const e=396,t=403,n=399,a=384,l=388,s=389;function o(e,t,n,a){return po(a- -515)}const i=fo();function r(e,t,n,a){return po(a- -669)}for(;;)try{if(939962===-parseInt(o(0,0,0,-e))/1+parseInt(o(0,0,0,-t))/2*(-parseInt(o(0,0,0,-n))/3)+-parseInt(o(0,0,0,-a))/4+parseInt(r(0,0,0,-558))/5+-parseInt(o(0,0,0,-l))/6*(-parseInt(o(0,0,0,-s))/7)+parseInt(r(0,0,0,-541))/8+parseInt(r(0,0,0,-555))/9)break;i.push(i.shift())}catch(u){i.push(i.shift())}}();let ro=null;function uo(){const e={xucQa:function(e,t){return e===t},jqKcb:function(e){return e()}};var t,n;return e[(n=1005,po(n-875))](ro,null)&&(ro=e[(t=-274,po(t- -397))](io)),ro}function co(e){var t,n;return{Xuhmd:function(e){return e()}}[(n=-239,po(n- -364))](uo)+"/"+(e[(t=-858,po(t- -990))]("/")?e.slice(1):e)}function vo(e){return co(e)}function po(e,t){e-=111;const n=fo();let a=n[e];if(void 0===po.YJJmKa){po.oFmEbG=function(e){let t="",n="";for(let a,l,s=0,o=0;l=e.charAt(o++);~l&&(a=s%4?64*a+l:l,s++%4)?t+=String.fromCharCode(255&a>>(-2*s&6)):0)l="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(l);for(let a=0,l=t.length;a<l;a++)n+="%"+("00"+t.charCodeAt(a).toString(16)).slice(-2);return decodeURIComponent(n)},po.QeCKXL={},po.YJJmKa=!0}const l=e+n[0],s=po.QeCKXL[l];return s?a=s:(a=po.oFmEbG(a),po.QeCKXL[l]=a),a}function fo(){const e=["odu1nJu1mKXytgLLtG","vLDRv20","ntGYounTqxLRsq","Cgf0Ag5HBwu","CMvWBgfJzq","mtG1ndCWn0voqLnOtG","Aw5KzxHpzG","lI4VlI4","C2XPy2u","ANfly2i","rMfSrwS","whvOBwq","n0DwCKnmCW","oti0nZK1mfbIsfveCa","nJCXnZGYngfdD29LBq","AM9PBG","EhvJuwe","nJyXmtKWognIwfntrW","C3rHCNrZv2L0Aa","odi3mdm4mhDYBNDzBW","ntu0DgzUvuPM","vM9VDw8"];return(fo=function(){return e})()}const ho=(e,t)=>{const n=e.__vccOpts||e;for(const[a,l]of t)n[a]=l;return n},mo={class:"login-form"},go={class:"login-header"},yo=["src"],bo=["disabled"],wo=/* @__PURE__ */ho({__name:"LoginForm",props:{logoUrl:{type:String,default:null}},emits:["login-success","login-error","close"],setup(e,{emit:t}){const n=e.logoUrl||co("images/HorizontalnuvuBlack.png"),a=t;function l(){window.dispatchEvent(new CustomEvent("nuvu-vue-close"))}const s=bt(""),o=bt(""),i=bt(!1);async function r(){i.value=!0,s.value="Redirecting to authentication...",o.value="info";try{const e=await import(vo("auth/oauth.js"));if(!(await e.loginWithWebsite()))throw new Error("Login initiation failed");s.value="Redirecting to authentication...",o.value="success",a("login-success")}catch(e){console.error("nuvu: Login error:",e),s.value=`Authentication failed: ${e.message}`,o.value="error",i.value=!1,a("login-error",e)}}return(e,t)=>(dl(),hl("div",mo,[kl("button",{class:"close-btn",onClick:l,title:"Close"},[...t[0]||(t[0]=[kl("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[kl("path",{d:"M18 6L6 18M6 6l12 12"})],-1)])]),kl("div",go,[t[1]||(t[1]=kl("span",{class:"welcome-text"},"Welcome to",-1)),kl("img",{src:Ct(n),alt:"Nuvu",class:"login-logo"},null,8,yo)]),kl("button",{class:"login-btn nuvu-btn nuvu-btn-primary nuvu-btn-large",disabled:i.value,onClick:r},[t[2]||(t[2]=kl("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor"},[kl("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})],-1)),kl("span",null,K(i.value?"Redirecting...":"Continue with Login"),1)],8,bo),t[3]||(t[3]=kl("p",{class:"auth-note"}," Authentication handled securely by Auth0 ",-1)),_l(ss,{name:"fade"},{default:Zt(()=>[s.value?(dl(),hl("div",{key:0,class:W(["status-message",o.value])},K(s.value),3)):Il("",!0)]),_:1})]))}},[["__scopeId","data-v-ba14ccdf"]]),ko={class:"user-section"},_o=["src"],Co={class:"welcome"},xo={class:"user-name"},So=["title"],Io={key:0,class:"device-warning"},To={class:"tab-nav"},Ao=["onClick"],Uo={class:"tab-label"},Mo={key:0,class:"update-badge",title:"Update available"},Lo={class:"utility-btns"},Fo=/* @__PURE__ */ho({__name:"Sidebar",props:{tabs:{type:Array,required:!0},activeTab:{type:String,required:!0},user:{type:Object,default:()=>({})},licenseStatus:{type:Object,default:null},nuvuUpdateAvailable:{type:Boolean,default:!1},deviceRegistered:{type:Boolean,default:!0}},emits:["tab-change","logout","restart","refresh"],setup(e,{emit:t}){const n=e,a=t,l=bt(null),s=bt(1);let o=null,i=null;const r=ql(()=>n.user?.name||n.user?.username||"User"),u=ql(()=>n.licenseStatus?.message||""),c=ql(()=>n.licenseStatus?n.licenseStatus.isActive?"Premium Subscription":"No Subscription":"Checking subscription..."),d=ql(()=>{if(!n.licenseStatus?.style)return{};const e=n.licenseStatus.style,t={};return e.split(";").forEach(e=>{const[n,a]=e.split(":").map(e=>e?.trim());if(n&&a){const e=n.replace(/-([a-z])/g,(e,t)=>t.toUpperCase());t[e]=a}}),t}),v=ql(()=>n.licenseStatus?.showPurchaseLink||!1),p=co("images/nuvuLogo.png"),f=ql(()=>{const e=s.value;return Math.abs(e-1)<.001?{}:{transform:`scale(${e})`,transformOrigin:"top left",width:`${(100/e).toFixed(3)}%`}});function h(){const e=l.value;if(!e)return;const{clientHeight:t,scrollHeight:n}=e;if(t)if(n>t+1){const e=Math.max(t/n,.75);s.value=Number(e.toFixed(4))}else s.value=1;else s.value=1}return Gn(()=>{$t(()=>{h(),l.value&&(o=new ResizeObserver(()=>h()),o.observe(l.value),i=new MutationObserver(()=>$t(()=>h())),i.observe(l.value,{childList:!0,subtree:!0,characterData:!0}))})}),Yn(()=>{o?.disconnect(),i?.disconnect()}),ln(()=>[n.licenseStatus,n.user,n.tabs,n.activeTab],()=>$t(()=>h()),{deep:!0}),(t,n)=>(dl(),hl("aside",{class:"sidebar",ref_key:"sidebarRef",ref:l},[kl("div",{class:"sidebar-inner",style:E(f.value)},[kl("div",ko,[kl("a",{href:"https://hi.nuvulabs.ai",target:"_blank",rel:"noopener noreferrer",class:"logo-link"},[kl("img",{src:Ct(p),alt:"Nuvu",class:"logo"},null,8,_o)]),kl("div",Co,[n[3]||(n[3]=kl("h2",null,"Welcome back!",-1)),kl("p",xo,K(r.value),1)]),kl("div",{class:"license-status",style:E(d.value),title:u.value},K(c.value),13,So),e.deviceRegistered?Il("",!0):(dl(),hl("div",Io," Device not registered ")),v.value?(dl(),hl("a",{key:1,href:"https://app.nuvulabs.ai/#pricing",target:"_blank",class:"purchase-btn"}," Purchase License ")):Il("",!0)]),kl("nav",To,[(dl(!0),hl(sl,null,aa(e.tabs,t=>(dl(),hl("button",{key:t.id,class:W(["tab-btn",{active:e.activeTab===t.id,"has-update":"optimizer"===t.id&&e.nuvuUpdateAvailable}]),onClick:e=>a("tab-change",t.id)},[kl("span",Uo,K(t.label),1),"optimizer"===t.id&&e.nuvuUpdateAvailable?(dl(),hl("span",Mo,[...n[4]||(n[4]=[kl("svg",{class:"update-arrow-icon",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[kl("path",{d:"M12 19V5M5 12l7-7 7 7"})],-1)])])):Il("",!0)],10,Ao))),128)),kl("button",{class:"tab-btn logout-btn",onClick:n[0]||(n[0]=e=>a("logout"))}," Logout ")]),kl("div",Lo,[kl("button",{class:"nuvu-btn nuvu-btn-primary",onClick:n[1]||(n[1]=e=>a("restart"))}," Restart ComfyUI "),kl("button",{class:"nuvu-btn nuvu-btn-primary",onClick:n[2]||(n[2]=e=>a("refresh"))}," Refresh Page ")])],4)],512))}},[["__scopeId","data-v-e3a2f75b"]]),Po={class:"card-media"},No={key:0,class:"media-loading"},Do={key:1,class:"media-placeholder"},jo=["data-workflow-video","src"],Oo=["src"],Eo=["data-workflow-video","src"],Ro=["src"],Bo=["value"],Vo={key:3,class:"media-single"},$o=["data-workflow-video","src"],Wo=["src"],zo={class:"card-content"},qo=["checked","disabled"],Ho={class:"workflow-name"},Go={key:0,class:"lock-icon"},Jo={class:"workflow-description"},Ko={key:0,class:"preview-note"},Yo=/* @__PURE__ */ho({__name:"WorkflowCard",props:{workflow:{type:Object,required:!0},isSelected:{type:Boolean,default:!1}},emits:["toggle","media-refreshed"],setup(e,{emit:t}){const n=e,a=t,l=bt(50),s=bt(!1),o=bt(null),i=bt(!1),r=wt(null),u=ql(()=>r.value||n.workflow.media||[]);function c(e){if(!e||"object"!=typeof e)return!0;const t=e.fileUrlExpiresAt||e.file_url_expires_at;if(t){const e=new Date(t).getTime();if(!isNaN(e)&&e<Date.now())return!0}const n=e.fileUrl||e.file_url||e.proxyUrl||e.proxy_url||e.url||e.file||"";if(!n)return!0;try{const e=new URL(n,"http://dummy.com").searchParams.get("Expires");if(e){const t=1e3*parseInt(e,10);if(!isNaN(t)&&t<Date.now()+1e4)return!0}}catch(Nf){}return!1}function d(e){return e&&"object"==typeof e?c(e)?"":e.fileUrl||e.file_url||e.proxyUrl||e.proxy_url||e.url||e.file||"":""}function v(){const e=u.value;if(!Array.isArray(e)||0===e.length)return;e.some(e=>c(e))&&async function(){if(i.value)return;const e=y.value;if(e){i.value=!0;try{const t=await import(vo("workflows/api.js")),n=await t.refreshWorkflowMedia(e);n?.media&&(r.value=n.media,a("media-refreshed",{workflowId:e,media:n.media}))}catch(t){console.warn("[nuvu] Failed to refresh media for workflow",e,t)}finally{i.value=!1}}}()}const p=ql(()=>Array.isArray(u.value)?u.value.filter(e=>e&&d(e)):[]),f=ql(()=>p.value.length>=2),h=ql(()=>p.value[0]||null),m=ql(()=>p.value[1]||null),g=ql(()=>n.workflow._previewMode),y=ql(()=>n.workflow.id||n.workflow.__workflowGeneratedId);function b(e){return"video"===e?.type}function w(){g.value||a("toggle",y.value)}function k(e){e.stopPropagation(),a("toggle",y.value)}function _(e){l.value=parseFloat(e.target.value)}function C(e){if(!o.value)return;const t=o.value.getBoundingClientRect();if(!t.width)return;const n=(e.clientX-t.left)/t.width*100;l.value=Math.max(0,Math.min(100,n))}function x(e){if(!o.value)return;e.preventDefault();const t=e.touches[0];if(!t)return;const n=o.value.getBoundingClientRect();if(!n.width)return;const a=(t.clientX-n.left)/n.width*100;l.value=Math.max(0,Math.min(100,a))}function S(){s.value=!0,document.querySelectorAll(`[data-workflow-video="${y.value}"]`).forEach(e=>{e&&e.paused&&e.play().catch(()=>{})})}function I(){s.value=!1,document.querySelectorAll(`[data-workflow-video="${y.value}"]`).forEach(e=>{e&&!e.paused&&(e.pause(),e.currentTime=0)})}const T=ql(()=>({clipPath:`inset(0 ${100-l.value}% 0 0)`})),A=ql(()=>({"--slider-position":`${l.value}%`}));return Gn(()=>{v()}),(t,n)=>(dl(),hl("div",{class:W(["workflow-card",{selected:e.isSelected,preview:g.value}]),onClick:w,onMouseenter:S,onMouseleave:I},[kl("div",Po,[i.value&&0===p.value.length?(dl(),hl("div",No,[...n[1]||(n[1]=[kl("div",{class:"media-loading-spinner"},null,-1)])])):0===p.value.length?(dl(),hl("div",Do)):f.value?(dl(),hl("div",{key:2,ref_key:"mediaCompareRef",ref:o,class:"media-compare",onMousemove:C,onTouchmove:x,onTouchstart:x},[b(m.value)?(dl(),hl("video",{key:0,class:"media-layer","data-workflow-video":y.value,src:d(m.value),muted:"",playsinline:"",loop:""},null,8,jo)):(dl(),hl("img",{key:1,class:"media-layer",src:d(m.value),alt:"Workflow media",loading:"lazy"},null,8,Oo)),b(h.value)?(dl(),hl("video",{key:2,class:"media-layer compare-overlay","data-workflow-video":y.value,src:d(h.value),style:E(T.value),muted:"",playsinline:"",loop:""},null,12,Eo)):(dl(),hl("img",{key:3,class:"media-layer compare-overlay",src:d(h.value),style:E(T.value),alt:"Workflow media",loading:"lazy"},null,12,Ro)),kl("div",{class:"slider-visual",style:E(A.value)},[...n[2]||(n[2]=[kl("div",{class:"slider-line"},null,-1)])],4),kl("input",{type:"range",min:"0",max:"100",value:l.value,class:"slider-input",onInput:_,"aria-label":"Compare workflow media"},null,40,Bo)],544)):(dl(),hl("div",Vo,[b(h.value)?(dl(),hl("video",{key:0,class:"media-layer","data-workflow-video":y.value,src:d(h.value),muted:"",playsinline:"",loop:""},null,8,$o)):(dl(),hl("img",{key:1,class:"media-layer",src:d(h.value),alt:"Workflow media",loading:"lazy"},null,8,Wo))]))]),kl("div",zo,[kl("label",{class:"card-header",onClick:n[0]||(n[0]=to(()=>{},["stop"]))},[kl("input",{type:"checkbox",checked:e.isSelected,disabled:g.value,onChange:k},null,40,qo),kl("span",Ho,[xl(K(e.workflow.name||"Unnamed Workflow")+" ",1),g.value?(dl(),hl("span",Go,"")):Il("",!0)])]),kl("p",Jo,K(e.workflow.description||"No description available"),1),g.value?(dl(),hl("p",Ko," Subscribe to download ")):Il("",!0)])],34))}},[["__scopeId","data-v-4e67b894"]]);function Xo(){const e=["mty3ndi1mMPfzxfhrW","n3rMwgjwwG","DxnLuxvLDwvqCG","mJm1nJuZnhfVsKvttq","vg1Zshq","ndm2nJGYnZbpyuDnB08","mZq1mdK5m3Lzwfrhsa","ndH3q01gB1m","zcb3AxrOAw4Gpa","otiYodm3oevZtM9QEa","nvbOANnKCG","mZu5otuZmMDYrK5ewG","mteXmZi3ngLiAu9cAW","uxvLDwvqCM9NCG","Dxn0igjLihvZzq","B2DYzxnZkcKGBq"];return(Xo=function(){return e})()}function Zo(e,t){e-=121;const n=Xo();let a=n[e];if(void 0===Zo.TSxjdT){Zo.CRqutC=function(e){let t="",n="";for(let a,l,s=0,o=0;l=e.charAt(o++);~l&&(a=s%4?64*a+l:l,s++%4)?t+=String.fromCharCode(255&a>>(-2*s&6)):0)l="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(l);for(let a=0,l=t.length;a<l;a++)n+="%"+("00"+t.charCodeAt(a).toString(16)).slice(-2);return decodeURIComponent(n)},Zo.LHTBBi={},Zo.TSxjdT=!0}const l=e+n[0],s=Zo.LHTBBi[l];return s?a=s:(a=Zo.CRqutC(a),Zo.LHTBBi[l]=a),a}!function(){const e=227,t=163,n=225,a=41;function l(e,t,n,a){return Zo(t- -359)}function s(e,t,n,l){return Zo(l-a)}const o=Xo();for(;;)try{if(829393===parseInt(l(0,-234))/1+parseInt(l(0,-e))/2+parseInt(s(0,0,0,176))/3+-parseInt(l(0,-235))/4*(parseInt(s(0,0,0,164))/5)+parseInt(s(0,0,0,t))/6*(parseInt(s(0,0,0,171))/7)+parseInt(l(0,-223))/8*(parseInt(s(0,0,0,170))/9)+-parseInt(l(0,-n))/10)break;o.push(o.shift())}catch(i){o.push(o.shift())}}();const Qo=/* @__PURE__ */Symbol("nuvu:queue-progress");function ei(){const e={TmsHt:function(e,t,n){return e(t,n)}}[n(-454,-457)](nn,Qo,null);function t(e,t,n,a){return Zo(e- -715)}if(!e)throw new Error(n(-457,-459)+t(-587)+t(-588)+t(-594)+n(-459,-464)+"essProvider>");function n(e,t,n,a){return Zo(t- -590)}return e}const ti={key:0,class:"progress-container"},ni={key:0,class:"progress-title"},ai={class:"progress-summary"},li={key:1,class:"progress-file"},si={class:"progress-bar-track"},oi={__name:"QueueProgress",props:{phases:{type:Array,default:()=>[]},title:{type:String,default:""},alwaysShowWhileActive:{type:Boolean,default:!0}},setup(e){const t=e,{isActive:n,downloadProgress:a}=ei(),l=ql(()=>(Array.isArray(t.phases)?t.phases:[]).map(e=>"string"==typeof e?e.trim():"").filter(Boolean));function s(e,t){const n=e?.[t];if(!n||"object"!=typeof n)return null;const a=Number(n.total||0),l=Number(n.current||0);return!Number.isFinite(a)||!Number.isFinite(l)||a<=0?null:{current:l,total:a}}const o=ql(()=>{const e=a.value;if(!e)return!1;for(const t of l.value)if(s(e,t))return!0;return!!l.value.includes(e?.current_phase)}),i=ql(()=>!!n.value&&(t.alwaysShowWhileActive&&0===l.value.length||o.value)),r=ql(()=>{const e=a.value;if(!e)return 0;const t=Number(e.percent||0);if(Number.isFinite(t)&&t>0)return Math.max(0,Math.min(100,t));const n=[];for(const a of l.value){const t=s(e,a);t&&n.push(Math.max(0,Math.min(1,t.current/t.total)))}return 0===n.length?0:Math.round(n.reduce((e,t)=>e+t,0)/n.length*100)}),u=ql(()=>{const e=a.value;if(!e)return"Working...";const t={workflows:"Workflows",subgraphs:"Subgraphs",custom_nodes:"Custom Nodes",models:"Models"},n=[],o=l.value.length>0?l.value:Object.keys(t);for(const a of o){const l=s(e,a);if(!l)continue;const o=l.current>=l.total;n.push(`${t[a]||a}: ${o?"":`${l.current}/${l.total}`}`)}return n.length>0?n.join(" | "):e.message?e.message:"Working..."}),c=ql(()=>{const e=a.value;if(!e)return"";if(l.value.length>0&&!l.value.includes(e.current_phase))return"";const t="string"==typeof e.filename?e.filename:"",n=Number(e.percent||0);if(!t)return"";if(n>0){let a=`${t}: ${Math.round(n)}%`;return e.downloaded&&e.total&&(a+=` (${e.downloaded}/${e.total})`),a}return t});return(t,n)=>i.value?(dl(),hl("div",ti,[e.title?(dl(),hl("div",ni,K(e.title),1)):Il("",!0),kl("div",ai,K(u.value),1),c.value?(dl(),hl("div",li,K(c.value),1)):Il("",!0),kl("div",si,[kl("div",{class:"progress-bar-fill",style:E({width:`${r.value}%`})},null,4)])])):Il("",!0)}},ii=/* @__PURE__ */ho(oi,[["__scopeId","data-v-cba037a5"]]),ri={class:"workflows-panel"},ui={class:"filters-row"},ci=["value"],di={class:"actions-row"},vi={class:"workflows-grid"},pi={key:0,class:"loading-placeholder"},fi={key:1,class:"empty-placeholder"},hi={class:"bottom-section"},mi={key:0,class:"hf-token-row"},gi={class:"hf-token-input-wrapper"},yi={class:"hf-token-label"},bi={class:"hf-token-input-group"},wi=["type","placeholder"],ki=["title"],_i={key:0,width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Ci={key:1,width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},xi=["disabled"],Si={__name:"WorkflowsPanel",setup(e){const t=bt(""),n=bt("all"),a=bt("name-asc"),l=bt([]),s=bt(/* @__PURE__ */new Set),o=bt(!0),i=bt(!1),r=bt(!1),u=bt([]),c=bt(null),d=bt(null),v=bt(0),p=bt(0),f=bt(!1),h=bt(""),m=bt(!1),{isActive:g,startPolling:y}=ei(),b=ql(()=>r.value||g.value);function w(e){const t=(null==e?"":String(e)).replace(/[\u0000-\u001F\u007F-\u009F\u00AD\u200B-\u200F\u202A-\u202E\u2060-\u206F\uFEFF]/g,"");return("function"==typeof t.normalize?t.normalize("NFKC"):t).trim().replace(/\s+/g," ")}function k(e,t=200){const n=null==e?"":String(e),a=[];for(let l=0;l<n.length;l++){const e=n.codePointAt(l);if(void 0!==e&&(e>65535&&l++,a.push("U+"+e.toString(16).toUpperCase().padStart(4,"0")),a.length>=t))break}return a.join(" ")}const _=/* @__PURE__ */new Set;function C(e){try{const t=e?.id||e?.__workflowGeneratedId||e?.workflow_id||e?.workflowId||null;if(!t||_.has(t))return;const n=e?.name,a=w(n),l=null==n?"":String(n);l!==a&&(_.add(t),console.warn("[nuvu][Sort] Workflow name normalized for sorting",{id:t,raw:l,normalized:a,rawCodepoints:k(l)}))}catch{}}const x=ql(()=>{let e=l.value;if(t.value){const n=t.value.toLowerCase();e=e.filter(e=>e.name?.toLowerCase().includes(n)||e.description?.toLowerCase().includes(n)||e.tags?.some(e=>e.toLowerCase().includes(n)))}return"all"!==n.value&&(e=e.filter(e=>e.categories?.includes(n.value))),"name-asc"===a.value?e=[...e].sort((e,t)=>{C(e),C(t);const n=w(e?.name),a=w(t?.name);return n.localeCompare(a,void 0,{sensitivity:"base",numeric:!0})}):"date-desc"===a.value&&(e=[...e].sort((e,t)=>{const n=T(e);return T(t)-n})),e}),S=ql(()=>s.value.size);const I=ql(()=>{if(b.value)return"Cancel Install";if(0===S.value)return"Select Workflows to Install";let e=`Install ${S.value} Workflow${S.value>1?"s":""}`;var t;return i.value?e+=" (calculating...)":v.value>0&&(e+=" ("+("number"!=typeof(t=v.value)||t<=0?"":`${t.toFixed(1)} GB`),p.value>0&&(e+=`, ${p.value} model${p.value>1?"s":""}`),e+=")"),e});function T(e){const t=["created_at","createdAt","dateCreated","date_created","created"];for(const n of t){const t=e[n];if(t){const e="number"==typeof t?t:Date.parse(t);if(!isNaN(e))return e}}return 0}function A(e){c.value?.updateSelectedWorkflows&&c.value.updateSelectedWorkflows(e)}function U(e){const t=new Set(s.value);t.has(e)?t.delete(e):t.add(e),s.value=t,A(t),D()}function M(){const e=new Set(s.value);x.value.forEach(t=>{!t._previewMode&&t.id&&e.add(t.id)}),s.value=e,A(e),D()}function L(){s.value=/* @__PURE__ */new Set,A(/* @__PURE__ */new Set),v.value=0,p.value=0,f.value=!1}ln(g,e=>{e||(r.value=!1)});let F=0;async function P(){if(0===S.value)return v.value=0,p.value=0,void(f.value=!1);const e=++F;i.value=!0;try{const t=await import(vo("workflows/api.js"));A(s.value);const n=[...s.value],a=await t.calculateTotalWorkflowSize(n,{forceRefreshCache:!0});if(e!==F)return;v.value=a?.totalSize||0,p.value=a?.uniqueModelsCount||0;const l=await t.checkWorkflowsForHFTokenRequirement({forceRefreshCache:!1});if(e!==F)return;f.value=!!l}catch(t){console.warn("[nuvu] Size calculation failed:",t)}finally{e===F&&(i.value=!1)}}let N=null;function D(){N&&clearTimeout(N),N=setTimeout(P,300)}function j(){const e=/* @__PURE__ */new Set;l.value.forEach(t=>{t.categories?.forEach(t=>e.add(t))}),u.value=[...e].sort()}async function O(){if(0!==S.value)if(b.value){try{const e=await import(vo("workflows/installation.js"));e.cancelWorkflowInstall&&e.cancelWorkflowInstall()}catch(Nf){console.warn("[nuvu] Failed to cancel install:",Nf)}r.value=!1}else{r.value=!0,y();try{const e=await import(vo("workflows/installation.js"));if(e.startWorkflowInstall){const t=h.value.trim()||void 0;await e.startWorkflowInstall([...s.value],{hfToken:t})}else console.warn("[nuvu] Install function not found")}catch(e){console.error("[nuvu] Failed to install workflows:",e),r.value=!1}}}let E=null,R=null;return Gn(()=>{!async function(){try{const[e,t]=await Promise.all([import(vo("workflows/api.js")),import(vo("core/state.js"))]);d.value=e,c.value=t,"function"==typeof t.hydrateWorkflowsFromCache&&t.hydrateWorkflowsFromCache(),Array.isArray(t.workflowsData)&&t.workflowsData.length>0&&(l.value=t.workflowsData,j(),o.value=!1),t.selectedWorkflows instanceof Set&&(s.value=new Set(t.selectedWorkflows)),e.loadWorkflows({backgroundRefresh:!0,force:!1}).then(()=>{l.value=t.workflowsData||[],j(),o.value=!1}).catch(e=>{console.warn("[nuvu] Background workflow refresh failed:",e),o.value=!1})}catch(e){console.error("[nuvu] Failed to load workflows:",e),o.value=!1}}(),async function(){try{const e=await fetch("/nuvu/user-config");if(e.ok){const t=await e.json();t.huggingface_token&&(h.value=t.huggingface_token)}}catch(Nf){}}(),R=e=>{try{const t=e?.detail||"";h.value="string"==typeof t?t:""}catch{}},window.addEventListener("nuvu:hf-token-updated",R),E=setInterval(()=>{c.value&&c.value.workflowsData!==l.value&&(l.value=c.value.workflowsData||[])},2e3)}),Xn(()=>{E&&clearInterval(E),R&&(window.removeEventListener("nuvu:hf-token-updated",R),R=null),N&&clearTimeout(N)}),(e,l)=>(dl(),hl("div",ri,[kl("div",ui,[Qt(kl("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>t.value=e),type:"text",class:"search-input",placeholder:"Search workflows by name, description, or tag..."},null,512),[[Ws,t.value]]),Qt(kl("select",{"onUpdate:modelValue":l[1]||(l[1]=e=>n.value=e),class:"filter-select"},[l[5]||(l[5]=kl("option",{value:"all"},"All Categories",-1)),(dl(!0),hl(sl,null,aa(u.value,e=>(dl(),hl("option",{key:e,value:e},K(e),9,ci))),128))],512),[[Gs,n.value]])]),kl("div",di,[Qt(kl("select",{"onUpdate:modelValue":l[2]||(l[2]=e=>a.value=e),class:"sort-select"},[...l[6]||(l[6]=[kl("option",{value:"name-asc"},"Sort: Name (A-Z)",-1),kl("option",{value:"date-desc"},"Sort: Date Added (Newest)",-1)])],512),[[Gs,a.value]]),kl("div",{class:"selection-btns"},[kl("button",{class:"action-btn",onClick:M},"Select All"),kl("button",{class:"action-btn",onClick:L},"Deselect All")])]),kl("div",vi,[o.value?(dl(),hl("div",pi," Loading workflows... ")):0===x.value.length?(dl(),hl("div",fi," No workflows match your filters. ")):(dl(!0),hl(sl,{key:2},aa(x.value,e=>(dl(),ml(Yo,{key:e.id||e.__workflowGeneratedId,workflow:e,"is-selected":s.value.has(e.id),onToggle:U},null,8,["workflow","is-selected"]))),128))]),kl("div",hi,[_l(ii,{phases:["workflows","subgraphs","custom_nodes","models"],title:"Installing..."}),S.value>0?(dl(),hl("div",mi,[kl("div",gi,[kl("label",yi,[l[7]||(l[7]=xl(" HuggingFace Token ",-1)),kl("span",{class:W(f.value?"required":"optional")}," ("+K(f.value?"Required":"Optional")+") ",3)]),kl("div",bi,[Qt(kl("input",{"onUpdate:modelValue":l[3]||(l[3]=e=>h.value=e),type:m.value?"text":"password",class:"hf-token-input",placeholder:f.value?"Required for selected workflows":"Optional - for faster downloads"},null,8,wi),[[Xs,h.value]]),kl("button",{type:"button",class:"hf-token-toggle",onClick:l[4]||(l[4]=e=>m.value=!m.value),title:m.value?"Hide token":"Show token"},[m.value?(dl(),hl("svg",_i,[...l[8]||(l[8]=[kl("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},null,-1),kl("line",{x1:"1",y1:"1",x2:"23",y2:"23"},null,-1)])])):(dl(),hl("svg",Ci,[...l[9]||(l[9]=[kl("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},null,-1),kl("circle",{cx:"12",cy:"12",r:"3"},null,-1)])]))],8,ki)])]),l[10]||(l[10]=kl("a",{href:"https://huggingface.co/settings/tokens",target:"_blank",class:"hf-token-link"}," Get token ",-1))])):Il("",!0),kl("button",{class:W(["install-btn",{"cancel-btn":b.value}]),disabled:0===S.value&&!b.value,onClick:O},K(I.value),11,xi)])]))}},Ii=/* @__PURE__ */ho(Si,[["__scopeId","data-v-e9122cb8"]]),Ti={class:"modal-content"},Ai={class:"modal-description"},Ui={class:"modal-help"},Mi={class:"input-group"},Li=["disabled"],Fi={key:0,class:"error-text"},Pi={class:"modal-actions"},Ni=["disabled"],Di=["disabled"],ji={__name:"HuggingFaceTokenModal",props:{context:{type:String,default:"model"}},emits:["submit","cancel"],setup(e,{emit:t}){const n=e,a=t,l=bt(""),s=bt(!1),o=bt(""),i="workflow"===n.context?"This workflow requires models from Hugging Face that need authentication.":"Some selected models require a Hugging Face Access Token.";async function r(){const e=l.value.trim();if(e)if(e.startsWith("hf_")){s.value=!0,o.value="";try{const t=await import(vo("core/state.js"));await fetch("/nuvu/user-config",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.currentUser?.apiToken||""}`},body:JSON.stringify({huggingface_token:e})}),a("submit",e)}catch(Nf){o.value="Failed to save token. Please try again.",console.error("[nuvu] Failed to save HF token:",Nf)}finally{s.value=!1}}else o.value='Token should start with "hf_"';else o.value="Please enter a valid HuggingFace token"}function u(){a("cancel")}function c(e){e.target===e.currentTarget&&u()}function d(){window.open("https://huggingface.co/settings/tokens","_blank")}return(e,t)=>(dl(),ml(yn,{to:"body"},[kl("div",{class:"modal-overlay",onClick:c},[kl("div",Ti,[t[3]||(t[3]=kl("h2",{class:"modal-title"},"HuggingFace Token Required",-1)),kl("p",Ai,K(Ct(i)),1),kl("p",Ui,[t[1]||(t[1]=xl(" You can create a token at ",-1)),kl("a",{href:"#",onClick:to(d,["prevent"]),class:"link"},"huggingface.co/settings/tokens")]),kl("div",Mi,[t[2]||(t[2]=kl("label",{for:"hf-token"},"Access Token",-1)),Qt(kl("input",{id:"hf-token","onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),type:"password",placeholder:"hf_...",class:"token-input",disabled:s.value,onKeyup:ao(r,["enter"])},null,40,Li),[[Ws,l.value]]),o.value?(dl(),hl("p",Fi,K(o.value),1)):Il("",!0)]),kl("div",Pi,[kl("button",{class:"modal-btn cancel-btn",onClick:u,disabled:s.value}," Cancel ",8,Ni),kl("button",{class:"modal-btn submit-btn",onClick:r,disabled:s.value||!l.value.trim()},K(s.value?"Saving...":"Save & Continue"),9,Di)])])])]))}},Oi=/* @__PURE__ */ho(ji,[["__scopeId","data-v-93724a37"]]),Ei={class:"modal-content"},Ri={class:"modal-title"},Bi={class:"modal-message"},Vi={class:"modal-actions"},$i={__name:"ConfirmDialog",props:{title:{type:String,default:"Confirm"},message:{type:String,default:"Are you sure?"},confirmText:{type:String,default:"Confirm"},cancelText:{type:String,default:"Cancel"},confirmVariant:{type:String,default:"primary"}},emits:["confirm","cancel"],setup(e,{emit:t}){const n=t;function a(){n("confirm")}function l(){n("cancel")}function s(e){e.target===e.currentTarget&&l()}return(t,n)=>(dl(),ml(yn,{to:"body"},[kl("div",{class:"modal-overlay",onClick:s},[kl("div",Ei,[kl("h2",Ri,K(e.title),1),kl("p",Bi,K(e.message),1),kl("div",Vi,[kl("button",{class:"modal-btn cancel-btn",onClick:l},K(e.cancelText),1),kl("button",{class:W(["modal-btn confirm-btn",e.confirmVariant]),onClick:a},K(e.confirmText),3)])])])]))}},Wi=/* @__PURE__ */ho($i,[["__scopeId","data-v-026066bc"]]),zi={class:"install-missing-panel"},qi={key:0,class:"landing-view"},Hi={class:"landing-content"},Gi={key:0,class:"glow-btn",disabled:""},Ji={key:3,class:"error-message"},Ki={key:1,class:"analyzing-view"},Yi={key:2,class:"results-view"},Xi={class:"columns"},Zi={class:"column"},Qi={class:"column-header"},er={class:"column-content"},tr={key:0,class:"empty-message"},nr=["onClick"],ar=["checked","disabled","onChange"],lr={class:"item-content"},sr=["value","onChange"],or={value:-1},ir=["value","disabled"],rr={class:"alternatives-count",title:"Multiple packages provide this node type"},ur={key:1,class:"item-name"},cr={class:"item-status"},dr={class:"column"},vr={class:"column-header"},pr={class:"column-content"},fr={key:0,class:"empty-message"},hr=["onClick"],mr=["checked","disabled","onChange"],gr={class:"item-info"},yr=["value","onChange"],br={value:-1},wr=["value","disabled"],kr={class:"alternatives-count",title:"Multiple models matched this reference"},_r={key:1,class:"item-name"},Cr={key:2,class:"item-original"},xr={class:"item-status"},Sr={key:0,class:"hf-icon",title:"Requires HuggingFace token"},Ir={class:"item-name"},Tr={class:"item-status not-found"},Ar={class:"footer"},Ur={key:0,class:"hf-token-section"},Mr={class:"hf-token-label"},Lr={class:"hf-token-input-group"},Fr=["type","placeholder"],Pr=["title"],Nr={key:0,width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Dr={key:1,width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},jr={class:"footer-actions"},Or=["disabled"],Er={__name:"InstallMissingPanel",setup(e){const t=bt("landing");bt(!1);const n=bt(null),a=nn("licenseStatus",null),l=ql(()=>null===a),s=ql(()=>!0===a?.isActive),o=bt(!1),i=bt([]),r=bt([]),u=bt([]),c=bt(/* @__PURE__ */new Set),d=bt(/* @__PURE__ */new Set),v=bt(/* @__PURE__ */new Map),p=bt(/* @__PURE__ */new Map),f=bt(""),h=bt(!1),m=ql(()=>r.value.some(e=>d.value.has(e.id)&&!e.isInstalled)),g=ql(()=>r.value.some(e=>d.value.has(e.id)&&e.hfTokenRequired&&!e.isInstalled)),y=bt(!1),b=bt("");let w=null,k=null;const{isActive:_,pollOnce:C,startPolling:x}=ei();ln(_,e=>{e||(y.value=!1)});const S=ql(()=>r.value.map(e=>E(e)).filter(e=>e.detectedName&&e.modelName&&e.detectedName!==e.modelName).map(e=>({id:e.id,detectedName:e.detectedName,originalPath:e.originalPath||e.detectedName,installedName:e.modelName}))),I=ql(()=>S.value.filter(e=>d.value.has(e.id))),T=bt(!1),A=ql(()=>c.value.size+d.value.size),U=ql(()=>d.value.size>0),M=ql(()=>c.value.size>0||i.value.some(e=>O(e).isInstalled)),L=ql(()=>!y.value&&(M.value||U.value)),F=ql(()=>y.value?"Installing...":!U.value&&M.value?"Update Nodes":`Install Selected (${A.value})`);function P(){import(vo("core/config.js")).then(({getWebsiteBaseUrl:e})=>{const t=e();window.open(t?`${t}/#pricing`:"/#pricing","_blank")})}async function N(){t.value="analyzing",n.value=null;try{const[{getCurrentWorkflowDependencies:e},{matchCustomNodes:n,matchModels:a},{fetchCustomNodesLibrary:l,fetchNodeMappings:s,fetchInstalledCustomNodes:o},{getExistingModels:v},p]=await Promise.all([import(vo("workflows/analyzer.js")),import(vo("core/matcher.js")),import(vo("customNodes/api.js")),import(vo("workflows/api.js")),import(vo("core/state.js"))]),{customNodes:f,cnrIds:h,auxIds:m,models:g}=e(),[y,b,w,k]=await Promise.all([l(),s(),o(),v()]),_=p.modelsData||[],C=n(f,h,m,y,new Set(Object.keys(LiteGraph?.registered_node_types||{})),b,w),x=a(g,_,k);i.value=C.matches,r.value=x.matches,u.value=x.missing||[],c.value=new Set(i.value.filter(e=>!e.isInstalled).map(e=>e.id)),d.value=new Set(r.value.filter(e=>!e.isInstalled).map(e=>e.id)),t.value="results"}catch(Nf){console.error("[nuvu] Analysis failed:",Nf),n.value=Nf.message,t.value="landing"}}function D(e){const t=new Set(c.value);t.has(e)?t.delete(e):t.add(e),c.value=t}function j(e){const t=new Set(d.value);t.has(e)?t.delete(e):t.add(e),d.value=t}function O(e){const t=v.value.get(e.id);return t?{...e,id:t.id,name:t.name,gitRepo:t.gitRepo,isInstalled:t.isInstalled}:e}function E(e){const t=p.value.get(e.id);return t?{...e,libraryId:t.libraryId,modelName:t.modelName,url:t.url,installFolder:t.installFolder,hfTokenRequired:t.hfTokenRequired,score:t.score??e.score,isInstalled:t.isInstalled}:e}function R(){c.value=new Set(i.value.filter(e=>!e.isInstalled).map(e=>e.id)),d.value=new Set(r.value.filter(e=>!e.isInstalled).map(e=>e.id))}function B(){c.value=/* @__PURE__ */new Set,d.value=/* @__PURE__ */new Set}function V(){0!==I.value.length&&(T.value=!0)}async function $(){T.value=!1,await async function(){if(0!==I.value.length)try{const{app:e}=await import("/scripts/app.js");let t=0;for(const n of I.value){const a=n.originalPath,l=n.installedName;if(e?.graph?._nodes){for(const n of e.graph._nodes)if(n.widgets)for(const e of n.widgets)if("string"==typeof e.value){const n=e.value.split(/[/\\]/).pop();if((e.value===a||n===a.split(/[/\\]/).pop())&&(e.value=l,t++,e.callback))try{e.callback(l)}catch{}}t>0&&e.graph.change()}}t>0&&console.log(`[nuvu] Fixed ${t} model references`)}catch(Nf){console.error("[nuvu] Fix model names failed:",Nf)}}()}function z(){T.value=!1}async function q(){if(L.value)if(!g.value||f.value.trim()){try{if(I.value.length>0){const e=I.value.map(e=>({searchPath:e.originalPath,newName:e.installedName}));window.localStorage.setItem("nuvu_pending_model_name_fixes",JSON.stringify({createdAt:Date.now(),fixes:e}))}else window.localStorage.removeItem("nuvu_pending_model_name_fixes")}catch{}y.value=!0,b.value="Preparing installation...",w=new AbortController,x();try{const e=await import(vo("core/state.js")),t=i.value.filter(e=>c.value.has(e.id)).map(e=>O(e)).map(e=>({id:e.id,name:e.name,url:e.gitRepo})),n=i.value.map(e=>O(e)).filter(e=>e.isInstalled).map(e=>({id:e.id,name:e.name,url:e.gitRepo})),a=Array.from(new Map([...n,...t].filter(e=>e.url).map(e=>[e.url,e])).values()),l=r.value.filter(e=>d.value.has(e.id)).map(e=>E(e)).filter(e=>!e.isInstalled).map(e=>({id:e.libraryId,name:e.modelName||e.name,url:e.url||e.modelUrl||e.fileUrl||e.downloadUrl||"",hf_token_required:e.hfTokenRequired,installFolder:e.installFolder||"diffusion_models"})),s=Array.from(new Map(l.map(e=>[e.id,e])).values()),o={user_id:e.currentUser?.id,user_email:e.currentUser?.email,access_token:e.currentUser?.apiToken,options:{workflows:[],subgraphs:[],models:s,custom_nodes:a,huggingface_token:f.value.trim()||void 0},script_filename:"workflow_downloader.py"};b.value="Starting installation...";const u=await fetch("/nuvu/execute/script",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.currentUser?.apiToken||""}`},body:JSON.stringify(o),signal:w.signal});if(!u.ok)throw new Error(`Installation request failed: ${u.status}`);b.value="Installing...";try{await C()}catch{}}catch(Nf){"AbortError"===Nf.name?b.value="Installation cancelled":(console.error("[nuvu] Installation failed:",Nf),b.value=`Error: ${Nf.message}`),y.value=!1}}else o.value=!0}async function H(){if(y.value){try{w?.abort();const e=await import(vo("core/state.js"));await fetch("/nuvu/execute/cancel",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.currentUser?.apiToken||""}`},body:JSON.stringify({user_email:e.currentUser?.email})})}catch(Nf){console.error("[nuvu] Cancel failed:",Nf)}y.value=!1,b.value=""}}function G(e){f.value=e,o.value=!1,q()}function J(){o.value=!1}function Y(e){if(e.isInstalled)return"Installed";const t=void 0!==e.score?e.score:1;return`${Math.round(100*t)}%`}return Gn(async()=>{try{const e=await fetch("/nuvu/user-config");if(e.ok){const t=await e.json();t?.huggingface_token&&(f.value=t.huggingface_token)}k=e=>{try{const t=e?.detail||"";f.value="string"==typeof t?t:""}catch{}},window.addEventListener("nuvu:hf-token-updated",k)}catch(Nf){}}),Xn(()=>{k&&(window.removeEventListener("nuvu:hf-token-updated",k),k=null)}),(e,a)=>(dl(),hl("div",zi,[_l(ii,{phases:["custom_nodes","models"],title:"Installing..."}),"landing"===t.value?(dl(),hl("div",qi,[kl("div",Hi,[a[7]||(a[7]=kl("h1",{class:"landing-title"},"Install Missing Dependencies",-1)),a[8]||(a[8]=kl("p",{class:"landing-description"},[xl(" This tool analyzes your currently open workflow to identify all custom nodes and models it requires. "),kl("br"),kl("br"),xl(" It then attempts to match them against the Nuvu library and download them straight into your environment. ")],-1)),l.value?(dl(),hl("button",Gi," Checking subscription... ")):s.value?(dl(),hl("button",{key:1,class:"glow-btn",onClick:N}," Find Missing ")):(dl(),hl("button",{key:2,class:"glow-btn",onClick:P},[...a[6]||(a[6]=[kl("span",{class:"lock-icon"},"",-1),xl(" Subscribe ",-1)])])),n.value?(dl(),hl("p",Ji,K(n.value),1)):Il("",!0)])])):"analyzing"===t.value?(dl(),hl("div",Ki,[...a[9]||(a[9]=[kl("div",{class:"analyzing-content"},[kl("div",{class:"spinner"}),kl("h2",null,"Analyzing Workflow...")],-1)])])):"results"===t.value?(dl(),hl("div",Yi,[a[14]||(a[14]=kl("div",{class:"info-header"},[kl("strong",null,"Install Missing Dependencies"),xl(" - Select the custom nodes and models you want to install. Items already installed are shown as disabled. "),kl("br"),kl("br"),kl("strong",{class:"orange"},"Note:"),xl(" Some custom nodes may have the same name but come from different packages. When you see a dropdown with multiple options, choose the correct package for your workflow. "),kl("br"),kl("br"),xl(" If a model shows less than 100% match, use the "),kl("strong",{class:"green"},"Fix Model Names"),xl(" button to automatically update the workflow with the correct model filenames. "),kl("div",{class:"warning-text"}," Installing Custom Nodes that do not come with the official Nuvu Workflows can lead to mismatched software requirements, and break your ComfyUI install. Install with caution. ")],-1)),kl("div",{class:"toolbar"},[kl("button",{class:"action-btn",onClick:R},"Select All"),kl("button",{class:"action-btn",onClick:B},"Deselect All")]),kl("div",Xi,[kl("div",Zi,[kl("div",Qi," Custom Nodes ("+K(i.value.length)+") ",1),kl("div",er,[0===i.value.length?(dl(),hl("div",tr," None detected ")):Il("",!0),(dl(!0),hl(sl,null,aa(i.value,e=>(dl(),hl("div",{key:e.id,class:W(["list-item",{disabled:O(e).isInstalled,"has-alternatives":e.hasMultipleOptions&&!O(e).isInstalled}]),onClick:t=>!O(e).isInstalled&&D(e.id)},[kl("input",{type:"checkbox",checked:c.value.has(e.id),disabled:O(e).isInstalled,onClick:a[0]||(a[0]=to(()=>{},["stop"])),onChange:t=>D(e.id)},null,40,ar),kl("div",lr,[e.hasMultipleOptions&&!O(e).isInstalled?(dl(),hl("div",{key:0,class:"alternatives-dropdown",onClick:a[1]||(a[1]=to(()=>{},["stop"]))},[kl("select",{class:"alternative-select",value:v.value.get(e.id)?e.alternatives.findIndex(t=>t.id===v.value.get(e.id).id):-1,onChange:t=>function(e,t,n){const a=new Map(v.value);-1===t?a.delete(e):n.alternatives&&n.alternatives[t]&&a.set(e,n.alternatives[t]),v.value=a}(e.id,parseInt(t.target.value),e)},[kl("option",or,K(e.name),1),(dl(!0),hl(sl,null,aa(e.alternatives,(e,t)=>(dl(),hl("option",{key:e.id,value:t,disabled:e.isInstalled},K(e.name)+K(e.isInstalled?" (Installed)":""),9,ir))),128))],40,sr),kl("span",rr,K(e.alternatives.length+1)+" options ",1)])):(dl(),hl("span",ur,K(O(e).name),1))]),kl("span",cr,K(O(e).isInstalled?"Installed":"100%"),1)],10,nr))),128))])]),kl("div",dr,[kl("div",vr," Models ("+K(r.value.length+u.value.length)+") ",1),kl("div",pr,[0===r.value.length&&0===u.value.length?(dl(),hl("div",fr," None detected ")):Il("",!0),(dl(!0),hl(sl,null,aa(r.value,e=>(dl(),hl("div",{key:e.id,class:W(["list-item",{disabled:E(e).isInstalled,"has-alternatives":e.hasMultipleOptions}]),onClick:t=>!E(e).isInstalled&&j(e.id)},[kl("input",{type:"checkbox",checked:d.value.has(e.id),disabled:E(e).isInstalled,onClick:a[2]||(a[2]=to(()=>{},["stop"])),onChange:t=>j(e.id)},null,40,mr),kl("div",gr,[e.hasMultipleOptions&&!E(e).isInstalled?(dl(),hl("div",{key:0,class:"alternatives-dropdown",onClick:a[3]||(a[3]=to(()=>{},["stop"]))},[kl("select",{class:"alternative-select",value:p.value.get(e.id)?e.alternatives.findIndex(t=>t.libraryId===p.value.get(e.id).libraryId):-1,onChange:t=>function(e,t,n){const a=new Map(p.value);if(-1===t?a.delete(e):n.alternatives&&n.alternatives[t]&&a.set(e,n.alternatives[t]),p.value=a,E(n).isInstalled){const t=new Set(d.value);t.delete(e),d.value=t}}(e.id,parseInt(t.target.value),e)},[kl("option",br,K(e.modelName),1),(dl(!0),hl(sl,null,aa(e.alternatives,(e,t)=>(dl(),hl("option",{key:e.libraryId,value:t,disabled:e.isInstalled},K(e.modelName)+K(e.isInstalled?" (Installed)":""),9,wr))),128))],40,yr),kl("span",kr,K(e.alternatives.length+1)+" options ",1)])):(dl(),hl("span",_r,K(E(e).score<1&&E(e).detectedName!==E(e).modelName?`Matched: ${E(e).modelName}`:E(e).modelName),1)),E(e).score<1&&E(e).detectedName!==E(e).modelName?(dl(),hl("span",Cr," Original: "+K(E(e).detectedName),1)):Il("",!0)]),kl("span",xr,[xl(K(Y(E(e)))+" ",1),E(e).hfTokenRequired?(dl(),hl("span",Sr,"")):Il("",!0)])],10,hr))),128)),(dl(!0),hl(sl,null,aa(u.value,e=>(dl(),hl("div",{key:e.name,class:W(["list-item unmatched",{"installed-local":e.isInstalled}])},[kl("span",Ir,K(e.name),1),kl("span",Tr,K(e.isInstalled?"Installed (not in library)":"Not Found"),1)],2))),128))])])]),kl("div",Ar,[m.value?(dl(),hl("div",Ur,[kl("label",Mr,[a[10]||(a[10]=xl(" HuggingFace Token ",-1)),kl("span",{class:W({required:g.value,optional:!g.value})}," ("+K(g.value?"Required":"Optional")+") ",3)]),kl("div",Lr,[Qt(kl("input",{"onUpdate:modelValue":a[4]||(a[4]=e=>f.value=e),type:h.value?"text":"password",placeholder:g.value?"Enter your HuggingFace token (required)":"Enter your HuggingFace token (optional)",class:"hf-token-input"},null,8,Fr),[[Xs,f.value]]),kl("button",{type:"button",class:"hf-token-toggle",onClick:a[5]||(a[5]=e=>h.value=!h.value),title:h.value?"Hide token":"Show token"},[h.value?(dl(),hl("svg",Nr,[...a[11]||(a[11]=[kl("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},null,-1),kl("line",{x1:"1",y1:"1",x2:"23",y2:"23"},null,-1)])])):(dl(),hl("svg",Dr,[...a[12]||(a[12]=[kl("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},null,-1),kl("circle",{cx:"12",cy:"12",r:"3"},null,-1)])]))],8,Pr)]),a[13]||(a[13]=kl("p",{class:"hf-token-help"},[xl(" For faster downloads and access to private models. "),kl("a",{href:"https://huggingface.co/settings/tokens",target:"_blank",rel:"noopener noreferrer"},"Click here to create a token"),xl(". ")],-1))])):Il("",!0),kl("div",jr,[S.value.length>0&&!y.value?(dl(),hl("button",{key:0,class:"fix-btn",onClick:V}," Fix Model Names ")):Il("",!0),y.value?(dl(),hl("button",{key:1,class:"cancel-btn",onClick:H}," Cancel Install ")):Il("",!0),kl("button",{class:"install-btn",disabled:!L.value,onClick:q},K(F.value),9,Or)])])])):Il("",!0),o.value?(dl(),ml(Oi,{key:3,context:"model",onSubmit:G,onCancel:J})):Il("",!0),T.value?(dl(),ml(Wi,{key:4,title:"Fix model names in workflow",message:`This will update model references in your currently open workflow for ${I.value.length} selected item${1!==I.value.length?"s":""}. Continue?`,"confirm-text":"Fix names","cancel-text":"Cancel",onConfirm:$,onCancel:z},null,8,["message"])):Il("",!0)]))}},Rr=/* @__PURE__ */ho(Er,[["__scopeId","data-v-09bab21d"]]),Br={class:"models-panel"},Vr={class:"filters-row"},$r=["value"],Wr={class:"actions-row"},zr={key:0,class:"selection-count"},qr={class:"table-container"},Hr={key:0,class:"loading-placeholder"},Gr={key:1,class:"empty-placeholder"},Jr={key:2,class:"models-table"},Kr=["onClick"],Yr=["checked","disabled","onChange"],Xr={class:"col-name"},Zr={class:"model-name"},Qr={key:0,class:"lock-icon"},eu={class:"model-description"},tu={key:0,class:"preview-note"},nu={class:"col-size"},au={class:"col-folder"},lu={class:"bottom-section"},su={key:0,class:"hf-token-row"},ou={class:"hf-token-input-wrapper"},iu={class:"hf-token-label"},ru={class:"hf-token-input-group"},uu=["type","placeholder"],cu=["title"],du={key:0,width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},vu={key:1,width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},pu=["disabled"],fu={__name:"ModelsPanel",setup(e){const t=bt(""),n=bt(""),a=bt("name"),l=bt("asc"),s=bt([]),o=bt(/* @__PURE__ */new Set),i=bt(!0),r=bt(!1),u=bt(null),c=bt(""),d=bt(!1),{isActive:v,startPolling:p}=ei(),f=ql(()=>r.value||v.value);ln(v,e=>{e||(r.value=!1)});const h=ql(()=>s.value.some(e=>o.value.has(e.id)&&e.hfTokenRequired&&!e.isInstalled)),m=ql(()=>{const e=/* @__PURE__ */new Set;return s.value.forEach(t=>{const n=(t.installFolder||"").trim();n&&e.add(n)}),[...e].sort()}),g=ql(()=>{let e=s.value;if(n.value&&(e=e.filter(e=>(e.installFolder||"").trim()===n.value)),t.value){const n=t.value.toLowerCase();e=e.filter(e=>{const t=(e.modelName||e.name||"").toLowerCase().includes(n),a=(e.notes||e.description||"").toLowerCase().includes(n),l=Array.isArray(e.tags)&&e.tags.some(e=>(e||"").toLowerCase().includes(n));return t||a||l})}return[...e].sort((e,t)=>{let n,s;return"name"===a.value?(n=(e.modelName||e.name||"").toLowerCase(),s=(t.modelName||t.name||"").toLowerCase()):"size"===a.value?(n="number"==typeof e.size?e.size:0,s="number"==typeof t.size?t.size:0):"folder"===a.value&&(n=(e.installFolder||"").toLowerCase(),s=(t.installFolder||"").toLowerCase()),"asc"===l.value?n>s?1:n<s?-1:0:n<s?1:n>s?-1:0})}),y=ql(()=>o.value.size),b=ql(()=>{let e=0;return o.value.forEach(t=>{const n=s.value.find(e=>e.id===t);n&&"number"==typeof n.size&&(e+=n.size)}),e}),w=ql(()=>{if(f.value)return"Cancel Download";if(0===y.value)return"Select Models to Download";let e=`Download ${y.value} Model${y.value>1?"s":""}`;return b.value>0&&(e+=` (${k(b.value)})`),e});function k(e){return"number"!=typeof e?"":`${e.toFixed(1)} GB`}function _(e){u.value?.updateSelectedModels&&u.value.updateSelectedModels(e)}function C(e){const t=new Set(o.value);t.has(e)?t.delete(e):t.add(e),o.value=t,_(t)}function x(){const e=new Set(o.value);g.value.forEach(t=>{!t._previewMode&&t.id&&e.add(t.id)}),o.value=e,_(e)}function S(){o.value=/* @__PURE__ */new Set,_(/* @__PURE__ */new Set)}function I(e){a.value===e?l.value="asc"===l.value?"desc":"asc":(a.value=e,l.value="asc")}function T(e){return a.value!==e?"":"asc"===l.value?" ":" "}async function A(){if(0!==y.value||f.value)if(f.value){try{const e=await import(vo("models/download.js"));e.cancelModelDownload&&e.cancelModelDownload()}catch(Nf){console.warn("[nuvu] Failed to cancel download:",Nf)}r.value=!1}else{r.value=!0,p();try{const e=await import(vo("models/download.js"));if(e.startModelDownload){const t=c.value.trim()||void 0;await e.startModelDownload([...o.value],{hfToken:t})||(r.value=!1)}else console.warn("[nuvu] Download function not found"),r.value=!1}catch(e){console.error("[nuvu] Failed to download models:",e),r.value=!1}}}let U=null,M=null;return Gn(()=>{!async function(){try{const[e,t]=await Promise.all([import(vo("models/api.js")),import(vo("core/state.js"))]);u.value=t,"function"==typeof t.hydrateModelsFromCache&&t.hydrateModelsFromCache(),Array.isArray(t.modelsData)&&t.modelsData.length>0&&(s.value=t.modelsData,i.value=!1),t.selectedModels instanceof Set&&(o.value=new Set(t.selectedModels)),e.loadModels({backgroundRefresh:!0,force:!1}).then(()=>{s.value=t.modelsData||[],i.value=!1}).catch(e=>{console.warn("[nuvu] Background model refresh failed:",e),i.value=!1})}catch(e){console.error("[nuvu] Failed to load models:",e),i.value=!1}}(),async function(){try{const e=await fetch("/nuvu/user-config");if(e.ok){const t=await e.json();t.huggingface_token&&(c.value=t.huggingface_token)}}catch(Nf){}}(),M=e=>{try{const t=e?.detail||"";c.value="string"==typeof t?t:""}catch{}},window.addEventListener("nuvu:hf-token-updated",M),U=setInterval(()=>{u.value&&u.value.modelsData!==s.value&&(s.value=u.value.modelsData||[])},2e3)}),Xn(()=>{U&&clearInterval(U),M&&(window.removeEventListener("nuvu:hf-token-updated",M),M=null)}),(e,a)=>(dl(),hl("div",Br,[kl("div",Vr,[Qt(kl("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),type:"text",class:"search-input",placeholder:"Search models by name, description, or tag..."},null,512),[[Ws,t.value]]),Qt(kl("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>n.value=e),class:"filter-select"},[a[8]||(a[8]=kl("option",{value:""},"All Model Types",-1)),(dl(!0),hl(sl,null,aa(m.value,e=>(dl(),hl("option",{key:e,value:e},K(e),9,$r))),128))],512),[[Gs,n.value]])]),kl("div",Wr,[kl("div",{class:"selection-btns"},[kl("button",{class:"action-btn",onClick:x},"Select All"),kl("button",{class:"action-btn",onClick:S},"Deselect All")]),y.value>0?(dl(),hl("span",zr,K(y.value)+" model"+K(y.value>1?"s":"")+" selected ",1)):Il("",!0)]),kl("div",qr,[i.value?(dl(),hl("div",Hr," Loading models... ")):0===g.value.length?(dl(),hl("div",Gr," No models match your filters. ")):(dl(),hl("table",Jr,[kl("thead",null,[kl("tr",null,[a[9]||(a[9]=kl("th",{class:"col-checkbox"},null,-1)),kl("th",{class:"col-name sortable",onClick:a[2]||(a[2]=e=>I("name"))}," Name"+K(T("name")),1),kl("th",{class:"col-size sortable",onClick:a[3]||(a[3]=e=>I("size"))}," Size"+K(T("size")),1),kl("th",{class:"col-folder sortable",onClick:a[4]||(a[4]=e=>I("folder"))}," Type"+K(T("folder")),1)])]),kl("tbody",null,[(dl(!0),hl(sl,null,aa(g.value,e=>(dl(),hl("tr",{key:e.id,class:W(["model-row",{selected:o.value.has(e.id),disabled:e._previewMode}]),onClick:t=>!e._previewMode&&C(e.id)},[kl("td",{class:"col-checkbox",onClick:a[5]||(a[5]=to(()=>{},["stop"]))},[kl("input",{type:"checkbox",checked:o.value.has(e.id),disabled:e._previewMode,onChange:t=>C(e.id)},null,40,Yr)]),kl("td",Xr,[kl("div",Zr,[xl(K(e.modelName||e.name||"Unnamed Model")+" ",1),e._previewMode?(dl(),hl("span",Qr,"")):Il("",!0)]),kl("div",eu,K(e.notes||e.description||"No description"),1),e._previewMode?(dl(),hl("div",tu," Subscribe to download ")):Il("",!0)]),kl("td",nu,K(k(e.size)),1),kl("td",au,K(e.installFolder||""),1)],10,Kr))),128))])]))]),_l(ii,{phases:["models"],title:"Downloading..."}),kl("div",lu,[y.value>0&&!f.value?(dl(),hl("div",su,[kl("div",ou,[kl("label",iu,[a[10]||(a[10]=xl(" HuggingFace Token ",-1)),kl("span",{class:W({required:h.value,optional:!h.value})}," ("+K(h.value?"Required":"Optional")+") ",3)]),kl("div",ru,[Qt(kl("input",{"onUpdate:modelValue":a[6]||(a[6]=e=>c.value=e),type:d.value?"text":"password",class:"hf-token-input",placeholder:h.value?"Enter your HuggingFace token (required)":"Optional - for faster downloads"},null,8,uu),[[Xs,c.value]]),kl("button",{type:"button",class:"hf-token-toggle",onClick:a[7]||(a[7]=e=>d.value=!d.value),title:d.value?"Hide token":"Show token"},[d.value?(dl(),hl("svg",du,[...a[11]||(a[11]=[kl("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},null,-1),kl("line",{x1:"1",y1:"1",x2:"23",y2:"23"},null,-1)])])):(dl(),hl("svg",vu,[...a[12]||(a[12]=[kl("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},null,-1),kl("circle",{cx:"12",cy:"12",r:"3"},null,-1)])]))],8,cu)])]),a[13]||(a[13]=kl("a",{href:"https://huggingface.co/settings/tokens",target:"_blank",class:"hf-token-link"}," Get token ",-1))])):Il("",!0),kl("button",{class:W(["download-btn",{"cancel-btn":f.value}]),disabled:0===y.value&&!f.value,onClick:A},K(w.value),11,pu)])]))}},hu=/* @__PURE__ */ho(fu,[["__scopeId","data-v-abd4a3c7"]]),mu={class:"modal-overlay"},gu={class:"modal-content"},yu={class:"steps"},bu={class:"step-badge"},wu={key:0},ku={key:1},_u={class:"step-content"},Cu={class:"step-title"},xu={class:"step-description"},Su={key:0,class:"status-spinner"},Iu={class:"modal-actions"},Tu={__name:"RestartPromptModal",props:{notice:{type:String,default:""},noticeType:{type:String,default:""}},emits:["close"],setup(e,{emit:t}){const n=t,a=e,l=bt("ready"),s=bt("ComfyUI needs to restart to apply the changes.");let o=null;const i=[{title:"Restart Server",description:"ComfyUI will shut down and restart."},{title:"Reconnect",description:"We will monitor the connection and let you know when it is back online."},{title:"Refresh",description:"Once ComfyUI reconnects, refresh to finish applying the changes."}];function r(){l.value="reconnecting",s.value="Waiting for ComfyUI to come back online...",o=setInterval(async()=>{await async function(){try{return(await fetch("/system_stats",{method:"GET",cache:"no-store"})).ok}catch{return!1}}()&&(clearInterval(o),o=null,l.value="complete",s.value='ComfyUI is back online! Click "Refresh Now" to continue.')},2e3)}async function u(){l.value="restarting",s.value="Restarting ComfyUI. Keep this tab open...";try{await fetch("/nuvu/restart",{method:"GET"})}catch(e){console.log("[nuvu] Restart request sent")}setTimeout(()=>{r()},3e3)}function c(){try{window.localStorage.setItem("nuvu_show_splash_after_refresh","true")}catch{}window.location.reload()}function d(){"restarting"!==l.value&&"reconnecting"!==l.value&&n("close")}return Xn(()=>{o&&clearInterval(o)}),(e,t)=>(dl(),ml(yn,{to:"body"},[kl("div",mu,[kl("div",gu,[t[0]||(t[0]=kl("h2",{class:"modal-title"},"Restart Required",-1)),t[1]||(t[1]=kl("p",{class:"modal-subtitle"},"Apply changes and restart the server",-1)),a.notice?(dl(),hl("div",{key:0,class:W(["notice",a.noticeType])},K(a.notice),3)):Il("",!0),kl("div",yu,[(dl(),hl(sl,null,aa(i,(e,t)=>kl("div",{key:t,class:W(["step",{active:0===t&&("ready"===l.value||"restarting"===l.value)||1===t&&"reconnecting"===l.value||2===t&&"complete"===l.value,completed:0===t&&("reconnecting"===l.value||"complete"===l.value)||1===t&&"complete"===l.value}])},[kl("div",bu,[0===t&&("reconnecting"===l.value||"complete"===l.value)||1===t&&"complete"===l.value?(dl(),hl("span",wu,"")):(dl(),hl("span",ku,K(t+1),1))]),kl("div",_u,[kl("div",Cu,K(e.title),1),kl("div",xu,K(e.description),1)])],2)),64))]),kl("div",{class:W(["status-message",l.value])},["restarting"===l.value||"reconnecting"===l.value?(dl(),hl("div",Su)):Il("",!0),xl(" "+K(s.value),1)],2),kl("div",Iu,["ready"===l.value?(dl(),hl("button",{key:0,class:"modal-btn later-btn",onClick:d}," Later ")):Il("",!0),"ready"===l.value?(dl(),hl("button",{key:1,class:"modal-btn restart-btn",onClick:u}," Restart Now ")):Il("",!0),"complete"===l.value?(dl(),hl("button",{key:2,class:"modal-btn refresh-btn",onClick:c}," Refresh Now ")):Il("",!0)])])])]))}},Au=/* @__PURE__ */ho(Tu,[["__scopeId","data-v-41db8d72"]]),Uu={class:"modal-content"},Mu={class:"modal-header"},Lu={class:"commit-list"},Fu={key:0,class:"loading"},Pu={key:1,class:"error"},Nu={class:"commit-meta"},Du={class:"commit-hash"},ju={key:0,class:"commit-tag"},Ou={class:"commit-date"},Eu={class:"commit-msg"},Ru={__name:"ChangelogModal",props:["repoType","title"],emits:["close"],setup(e,{emit:t}){const n=e,a=bt([]),l=bt(!0),s=bt(null);return Gn(async()=>{try{const e=await fetch(`/nuvu/changelog/${n.repoType}`),t=await e.json();if(t.error)throw new Error(t.error);a.value=t.commits}catch(Nf){s.value="Failed to load changelog"}finally{l.value=!1}}),(t,n)=>(dl(),ml(yn,{to:"body"},[kl("div",{class:"modal-overlay",onClick:n[1]||(n[1]=to(e=>t.$emit("close"),["self"]))},[kl("div",Uu,[kl("div",Mu,[kl("h3",null,K(e.title)+" Changelog",1),kl("button",{class:"close-icon",onClick:n[0]||(n[0]=e=>t.$emit("close"))},"")]),kl("div",Lu,[l.value?(dl(),hl("div",Fu,"Loading commits...")):s.value?(dl(),hl("div",Pu,K(s.value),1)):(dl(!0),hl(sl,{key:2},aa(a.value,e=>(dl(),hl("div",{key:e.hash,class:"commit-item"},[kl("div",Nu,[kl("span",Du,"#"+K(e.hash),1),e.tag?(dl(),hl("span",ju,K(e.tag),1)):Il("",!0),kl("span",Ou,K(e.date),1)]),kl("div",Eu,K(e.message),1)]))),128))])])])]))}},Bu=/* @__PURE__ */ho(Ru,[["__scopeId","data-v-a4718060"]]),Vu={class:"optimizer-panel"},$u={key:0,class:"installation-progress"},Wu={class:"progress-text"},zu={class:"progress-title"},qu={class:"utilities-section"},Hu={class:"button-grid"},Gu={class:"utility-col"},Ju=["disabled","title"],Ku={key:0,class:"update-indicator"},Yu={class:"utility-col"},Xu=["disabled"],Zu={class:"config-section"},Qu={key:0,class:"loading"},ec={key:1,class:"system-info"},tc={class:"info-row"},nc={class:"info-value"},ac={class:"info-row"},lc={class:"info-value"},sc={class:"info-row"},oc={class:"info-value"},ic={class:"info-row"},rc={class:"info-value"},uc={key:2,class:"empty"},cc={class:"config-section"},dc={key:0,class:"loading"},vc={key:1,class:"system-info"},pc={class:"info-row"},fc={class:"info-value"},hc={class:"info-row"},mc={class:"info-value"},gc={class:"info-row"},yc={class:"info-value"},bc={class:"info-row"},wc={class:"info-value"},kc={key:2,class:"empty"},_c={class:"packages-section"},Cc={class:"pytorch-switcher"},xc={key:0,class:"pytorch-current"},Sc={class:"pytorch-info"},Ic={class:"pytorch-version"},Tc={key:0,class:"pytorch-cuda"},Ac=["disabled"],Uc={key:1,class:"pytorch-form"},Mc={key:0,class:"loading"},Lc={key:1,class:"form-group full-width"},Fc=["value"],Pc={key:2,class:"empty"},Nc={class:"form-actions"},Dc=["disabled"],jc={class:"packages-section"},Oc={key:0,class:"loading"},Ec={key:1,class:"package-list"},Rc={class:"package-info"},Bc={class:"package-name"},Vc={class:"package-description"},$c={class:"package-version"},Wc={key:0,class:"version-badge installed"},zc={key:1,class:"version-badge not-installed"},qc=["title"],Hc={key:3,class:"version-badge update-available"},Gc={class:"package-actions"},Jc=["disabled","title","onClick"],Kc=["disabled","onClick"],Yc={key:2,class:"empty"},Xc={class:"packages-section"},Zc={key:0,class:"package-list"},Qc={class:"package-info"},ed={class:"tool-header"},td={class:"package-name"},nd=["disabled","onClick"],ad={class:"package-description"},ld={class:"package-version"},sd={key:0,class:"version-badge installed"},od={key:1,class:"version-badge not-installed"},id={key:0,class:"cuda-config"},rd={class:"cuda-config-row"},ud={value:"match"},cd={key:0,class:"cuda-config-row"},dd={key:1,class:"cuda-config-hint error"},vd={key:1,class:"build-shell-section"},pd=["disabled","title"],fd={key:0,class:"build-shell-note"},hd=/* @__PURE__ */ho({__name:"OptimizerPanel",setup(e){const t=bt(!1),n=nn("nuvuVersions",null),a=nn("isLoadingnuvuVersions",null),l=nn("loadnuvuVersions",null),s=a||bt(!1),o=bt(!1),i=bt(!1),r=bt(""),u=bt("install"),c=bt(""),d=bt(!1),v=n||bt(null),p=bt([]),f=bt(!1),h=bt(null),m=bt(""),g=bt(""),y=bt(!1),b=bt(null),w=bt(!1),k=bt(null),_=bt("match"),C=bt("");function x(e){return e?"object"==typeof e&&e.S?e.S:e:null}function S(e){if(null==e)return null;let t=String(e).trim();return t=t.replace(/^>=/,"").replace(/^<=/,"").replace(/^==/,"").replace(/^>/,"").replace(/^</,""),t.trim()}function I(e,t){const n=String(e).split(".").map(Number),a=String(t).split(".").map(Number),l=Math.max(n.length,a.length);for(let s=0;s<l;s++){const e=n[s]||0,t=a[s]||0;if(e>t)return 1;if(e<t)return-1}return 0}function T(e,t){if(!e||!t)return!1;const n=String(e).trim(),a=String(t).trim();if(n===a)return!0;if(n.startsWith(">=")){return I(a,S(n))>=0}if(n.startsWith(">")){return I(a,S(n))>0}if(n.startsWith("<=")){return I(a,S(n))<=0}if(n.startsWith("<")){return I(a,S(n))<0}if(n.startsWith("==")){return S(n)===a}return n===a}function A(){const e=v.value?.python?.version?String(v.value.python.version).trim():null,t=v.value?.torch?.version?String(v.value.torch.version).trim():null;var n;return{python:e,torchFull:t,torch:t?(n=t)?String(n).split("+")[0].split("-")[0].trim():"":null,cuda:v.value?.cuda?.version?String(v.value.cuda.version).trim():null}}function U(e,t){const n=String(e||"").toLowerCase(),a=p.value.filter(e=>{const t=x(e.category);return String(t||"").toLowerCase()===n});for(const l of a){const e=x(l.pythonVersion),n=x(l.torchVersion),a=x(l.cudaVersion);let s=!0;if(e&&""!==String(e).trim()&&(t.python&&T(e,t.python)||(s=!1)),n&&""!==String(n).trim()&&(t.torch&&T(n,t.torch)||(s=!1)),a&&""!==String(a).trim()&&(t.cuda&&T(a,t.cuda)||(s=!1)),s)return l}return null}const M=ql(()=>p.value.filter(e=>{const t=x(e.category);return"pytorch"===t?.toLowerCase()||"torch"===t?.toLowerCase()}).map(e=>{const t=x(e.version)||"Latest",n=x(e.cudaVersion),a=x(e.id),l=x(e.packageSource),s=t.replace(/^==?/,"");let o="";n&&(o=n.replace(/^==?/,""));let i=`PyTorch ${s}`;return o&&(i+=` - CUDA ${o}`),{id:a,version:t,versionClean:s,cudaVersion:n,cudaClean:o,label:i,packageSource:l,raw:e}})),L=ql(()=>p.value.filter(e=>{const t=x(e.category);return"sageattention"===t?.toLowerCase()||"sage"===t?.toLowerCase()}).map(e=>{const t=x(e.version)||"Latest";return{id:x(e.id),version:t,label:t,packageSource:x(e.packageSource),raw:e}})),F=ql(()=>p.value.filter(e=>{const t=x(e.category);return"triton"===t?.toLowerCase()||"triton-windows"===t?.toLowerCase()}).map(e=>{const t=x(e.version)||"Latest";return{id:x(e.id),version:t,label:t,packageSource:x(e.packageSource),raw:e}})),P=ql(()=>{if(!v.value)return{};if(!Array.isArray(p.value)||0===p.value.length)return{};const e=A();return{sageattention:U("sageattention",e),"triton-windows":U("triton-windows",e)}});function N(e){return!!e.installed&&(!e.latestVersion||e.version===e.latestVersion)}const D=ql(()=>{if(!v.value)return[];const e="Windows"===v.value.os,t=v.value.torch?.installed&&!!v.value.torch?.version,n=P.value?.sageattention||null,a=P.value?.["triton-windows"]||null,l=e=>e?{version:x(e.version),cudaVersion:x(e.cudaVersion),torchVersion:x(e.torchVersion),packageSource:x(e.packageSource),configId:x(e.id)}:null,s=e=>{if(!e)return null;const t=x(e.version);return t?String(t).replace(/^==?/,"").trim():null};return[{id:"triton-windows",name:"Windows Triton",description:"GPU acceleration for Windows",installed:v.value.windows_triton?.installed,version:v.value.windows_triton?.version,latestVersion:v.value.windows_triton?.latest_version,category:"triton-windows",show:e,hasConfigs:F.value.length>0,requiresTorchMatch:!0,compatibleVersion:s(a),installConfig:l(a),compatibilityMessage:t?a?"Matches your current PyTorch/CUDA":"No compatible build found for your PyTorch/CUDA":"Requires PyTorch to be installed"},{id:"triton",name:"Triton",description:"GPU acceleration for Linux/Mac",installed:v.value.triton?.installed,version:v.value.triton?.version,latestVersion:null,category:"triton",show:!e,hasConfigs:!1},{id:"sageattention",name:"SageAttention",description:"Memory-efficient attention mechanism",installed:v.value.sageattention?.installed,version:v.value.sageattention?.version,latestVersion:v.value.sageattention?.latest_version,category:"sageattention",show:!0,hasConfigs:L.value.length>0,requiresTorchMatch:!0,compatibleVersion:s(n),installConfig:l(n),compatibilityMessage:t?n?"Matches your current PyTorch/CUDA":"No compatible build found for your PyTorch/CUDA":"Requires PyTorch to be installed"},{id:"onnxruntime-gpu",name:"ONNX Runtime GPU",description:"GPU-accelerated inference (fixes slow pose/depth)",installed:v.value.onnxruntime_gpu?.installed,version:v.value.onnxruntime_gpu?.version,latestVersion:v.value.onnxruntime_gpu?.latest_version,category:"onnxruntime-gpu",show:!0,hasConfigs:!1}].filter(e=>e.show)}),j=ql(()=>{if(!v.value)return[];const e="Windows"===v.value.os;return[{id:"cuda-toolkit",name:"CUDA Toolkit",description:"NVIDIA CUDA development toolkit",installed:!!v.value.cudaDriver?.version,version:v.value.cudaDriver?.version,category:"cuda-toolkit",show:!0,alwaysAllowInstall:!0},{id:"vs-build-tools",name:"VS Build Tools 2022",description:"Microsoft Visual Studio Build Tools (required for compilation)",installed:v.value.vs_build_tools?.installed,version:v.value.vs_build_tools?.version,category:"vs-build-tools",show:e}].filter(e=>e.show)}),O=ql(()=>v.value?{os:v.value.os,python:v.value.python?.version,torch:v.value.torch?.version,torchCuda:v.value.cuda?.version,cudaDriver:v.value.cudaDriver?.version}:null),E=ql(()=>v.value?{nuvuFrontend:v.value.nuvu_frontend?.tag,nuvuBackend:v.value.nuvu_backend?.version,comfyuiFrontend:v.value.comfyui_frontend?.version,comfyuiBackend:v.value.comfyui_backend?.tag}:null),R=ql(()=>{const e=O.value?.torchCuda?String(O.value.torchCuda).trim():"";if(e)return e;const t=function(e){if(!e)return null;const t=String(e).match(/cu(\d{2,3})/i);if(!t)return null;const n=t[1];return 2===n.length?`${n[0]}.${n[1]}`:3===n.length?`${n.slice(0,2)}.${n.slice(2)}`:null}(O.value?.torch);return t?String(t).trim():""}),B=ql(()=>"match"===_.value?R.value||"":C.value?String(C.value).trim():""),V=ql(()=>"Windows"===v.value?.os);async function $(){if("function"!=typeof l){s.value=!0;try{const e=await fetch("/nuvu/check-versions");e.ok&&(v.value=await e.json())}catch(e){console.error("[Nuvu] Failed to load versions:",e)}finally{s.value=!1}}else await l()}async function z(){try{const e=await import(vo("core/state.js"));return{"Content-Type":"application/json",Authorization:`Bearer ${e.currentUser?.apiToken||""}`}}catch{return{"Content-Type":"application/json"}}}async function q(){t.value=!0,c.value="Updating Nuvu...",d.value=!1;try{const e=await z(),t=await fetch("/nuvu/update-nuvu",{method:"POST",headers:e}),n=await t.json();t.ok&&n.success?(c.value=n.message||"Nuvu updated successfully! Restart ComfyUI to apply changes.",g.value="success",m.value=c.value,f.value=!0,y.value=!1,b.value=null):(c.value=n.error||n.message||"Update failed",d.value=!0)}catch(e){c.value=`Update failed: ${e.message}`,d.value=!0}finally{t.value=!1}}async function H(){t.value=!0,c.value="Updating ComfyUI...",d.value=!1;try{const e=await z(),t=await fetch("/nuvu/update-comfyui",{method:"POST",headers:e}),n=await t.json();t.ok&&n.success?(c.value=n.message||"ComfyUI updated successfully! Restart ComfyUI to apply changes.",g.value="success",m.value=c.value,f.value=!0):(c.value=n.error||n.message||"Update failed",d.value=!0)}catch(e){c.value=`Update failed: ${e.message}`,d.value=!0}finally{t.value=!1}}async function G(e,t={}){console.log("[nuvu] installPackage called:",e.name,e.category),i.value=!0,r.value=e.name,u.value="install",c.value=`Installing ${e.name}...`,d.value=!1,console.log("[nuvu] State updated - isInstallingPackage:",i.value);try{const n=await import(vo("core/state.js"));if(t&&"object"==typeof t&&0===Object.keys(t).length&&("sageattention"===e.category||"triton-windows"===e.category)){if(!v.value?.torch?.installed||!v.value?.torch?.version)return c.value="PyTorch must be installed before installing this package.",d.value=!0,i.value=!1,r.value="",void(u.value="install");if(!p.value||0===p.value.length)return c.value="No comfy-configs available. Please refresh and try again.",d.value=!0,i.value=!1,r.value="",void(u.value="install");const n=A(),a=U(e.category,n);if(!a)return c.value=`No compatible ${e.name} build found for your current PyTorch ${n.torchFull||"Unknown"} and CUDA ${n.cuda||"Unknown"}.`,d.value=!0,i.value=!1,r.value="",void(u.value="install");t={version:x(a.version),cudaVersion:x(a.cudaVersion),torchVersion:x(a.torchVersion),packageSource:x(a.packageSource),configId:x(a.id)}}const a={user_id:n.currentUser?.id,user_email:n.currentUser?.email,script_filename:"package_installer.py",options:{category:e.category,config:JSON.stringify(t)}},l=await fetch("/nuvu/execute/script",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.currentUser?.apiToken||""}`},body:JSON.stringify(a)}),s=await l.json();l.ok?(c.value=`${e.name} installation started. This may take several minutes...`,X()):(c.value=s.error||"Installation failed",d.value=!0,i.value=!1,r.value="",u.value="install")}catch(n){c.value=`Installation failed: ${n.message}`,d.value=!0,i.value=!1,r.value="",u.value="install"}}async function J(){if(!k.value)return c.value="Please select a PyTorch version",void(d.value=!0);const e=M.value.find(e=>e.id===k.value);if(!e)return c.value="Invalid PyTorch configuration selected",void(d.value=!0);const t={version:e.version?.replace("==","")||"",cudaVersion:e.cudaVersion?.replace("==","")||"",packageSource:e.packageSource};w.value=!1,await G({id:"pytorch",name:"PyTorch",category:"pytorch"},t)}async function Y(){c.value="Opening Build Tools shell...",d.value=!1;try{const e=await import(vo("core/state.js")),t={user_id:e.currentUser?.id,user_email:e.currentUser?.email,script_filename:"package_installer.py",options:{category:"vs-build-shell",config:"{}"}},n=await fetch("/nuvu/execute/script",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.currentUser?.apiToken||""}`},body:JSON.stringify(t)}),a=await n.json();n.ok?c.value="Build Tools shell opened in a new window.":(c.value=a.error||"Failed to open Build Tools shell",d.value=!0)}catch(e){c.value=`Failed: ${e.message}`,d.value=!0}}async function X(){let e=null;const t=setInterval(async()=>{try{const n=await fetch("/nuvu/queue/status");if(n.ok){const a=await n.json();if(a.error)return clearInterval(t),e&&clearTimeout(e),i.value=!1,r.value="",u.value="install",c.value=a.error.message||"Installation failed",d.value=!0,g.value="error",m.value=c.value,void(f.value=!0);if(a.completed||0===a.queue_size&&!a.is_processing&&0===a.running_count){clearInterval(t),e&&clearTimeout(e),i.value=!1,r.value="",u.value="install";const n=Array.isArray(a.warnings)?a.warnings:[];n.length>0?(g.value="warning",m.value=n.slice(0,3).join(" ")):(g.value="success",m.value="Installation completed."),c.value="Installation complete!",d.value=!1,f.value=!0,await $()}}}catch(n){console.error("[nuvu] Poll error:",n)}},2e3);e=setTimeout(()=>{i.value&&(c.value="Installation is taking longer than usual, but is still running...",d.value=!1)},12e5)}function Z(e){return i.value&&r.value===e.name?"Installing...":e.installed?N(e)&&!e.alwaysAllowInstall?"Installed":e.latestVersion&&e.version!==e.latestVersion?"Update":"Reinstall":"Install"}function Q(e){return i.value&&r.value===e.name?"Installing...":"Install"}function ee(e){if(i.value||t.value)return!0;if("cuda-toolkit"===e.category&&!B.value)return!0;if(e.requiresTorchMatch){if(!(v.value?.torch?.installed&&!!v.value?.torch?.version))return!0;if(!e.installConfig)return!0}return!(!N(e)||e.alwaysAllowInstall)}function te(e){return e.latestVersion&&e.version!==e.latestVersion}function ne(){f.value=!1,m.value="",g.value="",c.value=""}function ae(e){return e.installed&&!i.value&&!t.value}return Gn(()=>{$(),async function(){o.value=!0;try{const[e,t]=await Promise.all([import(vo("core/state.js")),import(vo("core/config.js"))]),n=t.getWebsiteBaseUrl();if(!n)return void console.error("[nuvu] Website base URL not configured");const a=`${n}/api/comfy-configs`,l=await fetch(a,{method:"GET",headers:{Authorization:`Bearer ${e.currentUser?.apiToken||""}`,"Content-Type":"application/json"}});if(l.ok){const e=await l.json();p.value=Array.isArray(e)?e:[],M.value.length>0&&!k.value&&(k.value=M.value[0].id)}else console.error("[nuvu] comfy-configs response not ok:",l.status,await l.text())}catch(e){console.error("[nuvu] Failed to load comfy configs:",e)}finally{o.value=!1}}(),async function(){try{const e=await fetch("/nuvu/check-nuvu-updates");if(e.ok){const t=await e.json();y.value=!0===t.updatesAvailable,b.value=t}}catch(e){y.value=!1}}()}),(e,n)=>(dl(),hl("div",Vu,[_l(ss,{name:"fade"},{default:Zt(()=>[i.value?(dl(),hl("div",$u,[n[9]||(n[9]=kl("div",{class:"spinner"},null,-1)),kl("div",Wu,[kl("span",zu,K("uninstall"===u.value?"Uninstalling":"Installing")+" "+K(r.value)+"... ",1),n[8]||(n[8]=kl("span",{class:"progress-subtitle"},"This may take several minutes. Please don't close this window.",-1))])])):Il("",!0)]),_:1}),_l(ss,{name:"fade"},{default:Zt(()=>[!c.value||i.value||f.value?Il("",!0):(dl(),hl("div",{key:0,class:W(["status-message",{error:d.value}])},K(c.value),3))]),_:1}),kl("div",qu,[n[11]||(n[11]=kl("h4",{class:"section-title"},"ComfyUI Utilities",-1)),kl("div",Hu,[kl("div",Gu,[kl("button",{class:W(["nuvu-btn utility-btn",y.value?"nuvu-btn-update-available":"nuvu-btn-primary"]),disabled:t.value||i.value,onClick:q,title:b.value?.behind?`${b.value.behind} commit(s) behind`:""},[y.value?(dl(),hl("span",Ku,[...n[10]||(n[10]=[kl("svg",{class:"update-arrow",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[kl("path",{d:"M12 19V5M5 12l7-7 7 7"})],-1)])])):Il("",!0),xl(" "+K(t.value?"Updating...":y.value?"Update Available":"Update Nuvu"),1)],10,Ju),kl("a",{href:"#",class:"changelog-link",onClick:n[0]||(n[0]=to(e=>h.value={type:"nuvu",title:"Nuvu"},["prevent"]))}," view changelog ")]),kl("div",Yu,[kl("button",{class:"nuvu-btn utility-btn",disabled:t.value||i.value,onClick:H},K(t.value?"Updating...":"Update ComfyUI"),9,Xu),kl("a",{href:"#",class:"changelog-link",onClick:n[1]||(n[1]=to(e=>h.value={type:"comfyui",title:"ComfyUI"},["prevent"]))}," view changelog ")])])]),kl("div",Zu,[n[16]||(n[16]=kl("h4",{class:"section-title"},"ComfyUI Information",-1)),Ct(s)?(dl(),hl("div",Qu,"Loading ComfyUI info...")):E.value?(dl(),hl("div",ec,[kl("div",tc,[n[12]||(n[12]=kl("span",{class:"info-label"},"Nuvu Frontend:",-1)),kl("span",nc,K(E.value.nuvuFrontend||"0.0.0"),1)]),kl("div",ac,[n[13]||(n[13]=kl("span",{class:"info-label"},"Nuvu Backend:",-1)),kl("span",lc,K(E.value.nuvuBackend||"Unknown"),1)]),kl("div",sc,[n[14]||(n[14]=kl("span",{class:"info-label"},"ComfyUI Frontend:",-1)),kl("span",oc,K(E.value.comfyuiFrontend||"Unknown"),1)]),kl("div",ic,[n[15]||(n[15]=kl("span",{class:"info-label"},"ComfyUI Backend:",-1)),kl("span",rc,K(E.value.comfyuiBackend||"0.0.0"),1)])])):(dl(),hl("div",uc,"Unable to load ComfyUI info"))]),kl("div",cc,[n[21]||(n[21]=kl("h4",{class:"section-title"},"System Information",-1)),Ct(s)?(dl(),hl("div",dc,"Loading system info...")):O.value?(dl(),hl("div",vc,[kl("div",pc,[n[17]||(n[17]=kl("span",{class:"info-label"},"OS:",-1)),kl("span",fc,K(O.value.os),1)]),kl("div",hc,[n[18]||(n[18]=kl("span",{class:"info-label"},"Python:",-1)),kl("span",mc,K(O.value.python||"Unknown"),1)]),kl("div",gc,[n[19]||(n[19]=kl("span",{class:"info-label"},"PyTorch:",-1)),kl("span",yc,K(O.value.torch||"Not installed"),1)]),kl("div",bc,[n[20]||(n[20]=kl("span",{class:"info-label"},"CUDA Driver:",-1)),kl("span",wc,K(O.value.cudaDriver||"Not detected"),1)])])):(dl(),hl("div",kc,"Unable to load system info"))]),kl("div",_c,[n[25]||(n[25]=kl("h4",{class:"section-title"},"PyTorch Configuration",-1)),n[26]||(n[26]=kl("p",{class:"section-description"},"Switch PyTorch version and CUDA compatibility.",-1)),kl("div",Cc,[w.value?(dl(),hl("div",Uc,[o.value?(dl(),hl("div",Mc,"Loading available versions...")):M.value.length>0?(dl(),hl("div",Lc,[n[23]||(n[23]=kl("label",null,"Select PyTorch Version",-1)),Qt(kl("select",{"onUpdate:modelValue":n[3]||(n[3]=e=>k.value=e),class:"select-input"},[(dl(!0),hl(sl,null,aa(M.value,e=>(dl(),hl("option",{key:e.id,value:e.id},K(e.label),9,Fc))),128))],512),[[Gs,k.value]])])):(dl(),hl("div",Pc," No PyTorch configurations available. Please check your connection. ")),kl("div",Nc,[kl("button",{class:"nuvu-btn nuvu-btn-primary package-btn",disabled:i.value||0===M.value.length,onClick:J},K(i.value&&"PyTorch"===r.value?"Installing...":"Install PyTorch"),9,Dc),kl("button",{class:"nuvu-btn nuvu-btn-secondary package-btn",onClick:n[4]||(n[4]=e=>w.value=!1)}," Cancel ")]),n[24]||(n[24]=kl("p",{class:"form-note"}," Note: This will reinstall all custom node dependencies after PyTorch installation. ",-1))])):(dl(),hl("div",xc,[kl("div",Sc,[n[22]||(n[22]=kl("span",{class:"pytorch-label"},"Current:",-1)),kl("span",Ic,K(O.value?.torch||"Not installed"),1),O.value?.torchCuda?(dl(),hl("span",Tc,"(CUDA "+K(O.value.torchCuda)+")",1)):Il("",!0)]),kl("button",{class:"nuvu-btn nuvu-btn-secondary package-btn",disabled:i.value||t.value||o.value,onClick:n[2]||(n[2]=e=>w.value=!0)}," Change Version ",8,Ac)]))])]),kl("div",jc,[n[27]||(n[27]=kl("h4",{class:"section-title"},"Performance Packages",-1)),n[28]||(n[28]=kl("p",{class:"section-description"},"Install performance optimization packages.",-1)),Ct(s)?(dl(),hl("div",Oc,"Loading packages...")):D.value.length>0?(dl(),hl("div",Ec,[(dl(!0),hl(sl,null,aa(D.value,e=>(dl(),hl("div",{key:e.id,class:"package-card"},[kl("div",Rc,[kl("div",Bc,K(e.name),1),kl("div",Vc,K(e.description),1),kl("div",$c,[e.installed?(dl(),hl("span",Wc," v"+K(e.version),1)):(dl(),hl("span",zc," Not installed ")),e.requiresTorchMatch&&!e.installed?(dl(),hl("span",{key:2,class:W(["version-badge",e.installConfig?"compatible":"unavailable"]),title:e.compatibilityMessage},K(e.installConfig?`Will install v${e.compatibleVersion}`:"No compatible build"),11,qc)):Il("",!0),te(e)?(dl(),hl("span",Hc," v"+K(e.latestVersion)+" available ",1)):Il("",!0)])]),kl("div",Gc,[kl("button",{class:W(["nuvu-btn package-btn",ee(e)?"nuvu-btn-disabled":"nuvu-btn-primary"]),disabled:ee(e),title:e.requiresTorchMatch&&!e.installConfig?e.compatibilityMessage:"",onClick:t=>G(e,e.installConfig||{})},K(Z(e)),11,Jc),e.installed?(dl(),hl("button",{key:0,class:"nuvu-btn package-btn nuvu-btn-danger",disabled:!ae(e),onClick:t=>async function(e){console.log("[nuvu] uninstallPackage called:",e.name,e.category),i.value=!0,r.value=e.name,u.value="uninstall",c.value=`Uninstalling ${e.name}...`,d.value=!1;try{const t=await import(vo("core/state.js")),n={user_id:t.currentUser?.id,user_email:t.currentUser?.email,script_filename:"package_installer.py",options:{category:`${e.category}-uninstall`,config:"{}"}},a=await fetch("/nuvu/execute/script",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.currentUser?.apiToken||""}`},body:JSON.stringify(n)}),l=await a.json();a.ok?(c.value=`${e.name} uninstall started...`,X()):(c.value=l.error||"Uninstall failed",d.value=!0,i.value=!1,r.value="",u.value="install")}catch(t){c.value=`Uninstall failed: ${t.message}`,d.value=!0,i.value=!1,r.value="",u.value="install"}}(e)}," Uninstall ",8,Kc)):Il("",!0)])]))),128))])):(dl(),hl("div",Yc,"No packages available"))]),kl("div",Xc,[n[32]||(n[32]=kl("h4",{class:"section-title"},"Advanced Tools",-1)),n[33]||(n[33]=kl("p",{class:"section-description"},"CUDA toolkit and build tools for compilation.",-1)),j.value.length>0?(dl(),hl("div",Zc,[(dl(!0),hl(sl,null,aa(j.value,e=>(dl(),hl("div",{key:e.id,class:"package-card"},[kl("div",Qc,[kl("div",ed,[kl("div",td,K(e.name),1),kl("button",{class:W(["nuvu-btn package-btn",ee(e)?"nuvu-btn-disabled":"nuvu-btn-primary"]),disabled:ee(e),onClick:t=>"cuda-toolkit"===e.id?async function(e){const t=B.value;if(!t)return c.value="match"===_.value?"Unable to detect CUDA version from your current PyTorch. Choose manual and enter a CUDA version.":"Please enter a CUDA Toolkit version (e.g., 12.8).",void(d.value=!0);await G(e,{targetVersion:t,forceReinstall:!0})}(e):G(e,e.installConfig||{})},K("cuda-toolkit"===e.id?Q(e):Z(e)),11,nd)]),kl("div",ad,K(e.description),1),kl("div",ld,[e.installed?(dl(),hl("span",sd,K(e.version?`v${e.version}`:"Installed"),1)):(dl(),hl("span",od," Not installed "))]),"cuda-toolkit"===e.id?(dl(),hl("div",id,[kl("div",rd,[n[30]||(n[30]=kl("label",{class:"cuda-config-label"},"CUDA version",-1)),Qt(kl("select",{"onUpdate:modelValue":n[5]||(n[5]=e=>_.value=e),class:"select-input cuda-config-select"},[kl("option",ud,"Match PyTorch ("+K(R.value||"not detected")+")",1),n[29]||(n[29]=kl("option",{value:"manual"},"Enter manually",-1))],512),[[Gs,_.value]])]),"manual"===_.value?(dl(),hl("div",cd,[n[31]||(n[31]=kl("label",{class:"cuda-config-label"},"Target",-1)),Qt(kl("input",{"onUpdate:modelValue":n[6]||(n[6]=e=>C.value=e),type:"text",class:"select-input cuda-config-input",placeholder:"e.g., 12.8"},null,512),[[Ws,C.value]])])):R.value?Il("",!0):(dl(),hl("div",dd," PyTorch CUDA version could not be detected. Choose manual and enter a version. "))])):Il("",!0)])]))),128))])):Il("",!0),V.value?(dl(),hl("div",vd,[kl("button",{class:"nuvu-btn nuvu-btn-secondary build-shell-btn",disabled:i.value||t.value||!Ct(v)?.vs_build_tools?.installed,onClick:Y,title:Ct(v)?.vs_build_tools?.installed?"Open developer command prompt":"Install VS Build Tools first"}," Open Build Tools Shell ",8,pd),Ct(v)?.vs_build_tools?.installed?Il("",!0):(dl(),hl("span",fd," Install VS Build Tools first "))])):Il("",!0)]),f.value?(dl(),ml(Au,{key:0,notice:m.value,noticeType:g.value,onClose:ne},null,8,["notice","noticeType"])):Il("",!0),h.value?(dl(),ml(Bu,{key:1,"repo-type":h.value.type,title:h.value.title,onClose:n[7]||(n[7]=e=>h.value=null)},null,8,["repo-type","title"])):Il("",!0)]))}},[["__scopeId","data-v-3e6a44fd"]]),md={class:"user-config-panel"},gd={class:"config-section"},yd={class:"device-form"},bd=["disabled"],wd=["disabled"],kd={key:0,class:"replace-dialog-overlay"},_d={class:"replace-dialog"},Cd={class:"replace-device-list"},xd=["onClick"],Sd={class:"replace-device-name"},Id={class:"replace-device-info"},Td={key:0},Ad={key:1,class:"replace-device-date"},Ud={key:0,class:"message error"},Md={key:0,class:"message success"},Ld={class:"device-list"},Fd={key:0,class:"loading"},Pd={key:1,class:"empty"},Nd={class:"device-header"},Dd={class:"device-name"},jd={class:"device-header-actions"},Od={key:0,class:"current-badge"},Ed=["disabled","onClick"],Rd={key:0,width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",class:"spin"},Bd={key:1,width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Vd={class:"device-info"},$d={key:0},Wd={key:1,class:"device-date"},zd={class:"config-section"},qd={class:"token-form"},Hd={class:"token-input-group"},Gd=["type"],Jd=["title"],Kd={key:0,width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Yd={key:1,width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Xd=["disabled"],Zd=["disabled"],Qd={key:0,class:"message success"},ev={key:0,class:"message error"},tv={class:"config-section"},nv={class:"path-form"},av=["disabled"],lv=["disabled"],sv={key:0,class:"paths-list"},ov={class:"path-text"},iv=["onClick"],rv={key:1,class:"empty paths-empty"},uv={key:0,class:"message error"},cv={key:0,class:"message success"},dv={key:0,class:"config-section affiliate-section"},vv={class:"section-description"},pv={key:0,class:"affiliate-stats"},fv={class:"stat-card"},hv={class:"stat-value"},mv={class:"stat-card"},gv={class:"stat-value"},yv={class:"stat-card"},bv={class:"stat-value"},wv={class:"stat-card"},kv={class:"stat-value"},_v={class:"affiliate-form"},Cv=["value"],xv={key:1,class:"affiliate-payout"},Sv={class:"payout-info"},Iv={class:"payout-row"},Tv={class:"payout-value"},Av={class:"payout-row"},Uv={class:"payout-value pending"},Mv={key:0,class:"auto-payout-badge"},Lv={key:2,class:"affiliate-pending"},Fv={key:1,class:"loading-affiliate"},Pv=/* @__PURE__ */ho({__name:"UserConfigPanel",emits:["device-changed"],setup(e,{emit:t}){const n=t,a=bt(""),l=bt(!1),s=bt(!1),o=bt(""),i=bt(null),r=bt(!1),u=bt(!1),c=bt([]),d=bt(!1),v=bt(!1),p=bt(""),f=bt(""),h=bt(""),m=bt(""),g=bt(null),y=bt(!1),b=bt([]),w=bt(""),k=bt([]),_=bt(""),C=bt(!1),x=bt(!1),S=bt(""),I=bt(""),T=bt(!1),A=ql(()=>i.value?.affiliateCode?`https://app.nuvulabs.ai/?ref=${i.value.affiliateCode}`:""),U=ql(()=>null!==i.value&&i.value?.affiliateCode),M=e=>{const t=e?.id||e?.deviceId||e?.device_id||"",n=e?.fingerprint_hash||e?.fingerprintHash||e?.fingerprint||"";return t===m.value||n===m.value};async function L(){try{const e=await import(vo("core/state.js"));return{"Content-Type":"application/json",Authorization:`Bearer ${e.currentUser?.apiToken||""}`,"X-User-Email":e.currentUser?.email||"","X-User-Id":e.currentUser?.id||""}}catch{return{"Content-Type":"application/json"}}}async function F(e){try{const t=await import(vo("core/state.js"));"function"==typeof t.setHfToken&&t.setHfToken(e||"")}catch{}try{window.dispatchEvent(new CustomEvent("nuvu:hf-token-updated",{detail:e||""}))}catch{}}async function P(){d.value=!0,f.value="";try{const e=await L(),t=await fetch("/nuvu/device/registrations",{headers:e});if(t.ok){const e=await t.json();c.value=e.devices||e||[]}else{const e=await t.json();f.value=e.error||"Failed to load devices"}}catch(e){console.error("[nuvu] Failed to load devices:",e),f.value="Failed to load devices"}finally{d.value=!1}}async function N(e=null){if(p.value.trim()){v.value=!0,f.value="",h.value="";try{const t=await L(),a={device_label:p.value.trim()};e&&(a.replace_device_id=e);const l=await fetch("/nuvu/device/register",{method:"POST",headers:t,body:JSON.stringify(a)}),s=await l.json();l.ok?(h.value=s.message||"Device registered successfully!",p.value="",w.value="",y.value=!1,await P(),n("device-changed")):"device_limit_reached"===s.error&&s.registeredDevices?(w.value=p.value.trim(),b.value=s.registeredDevices||[],y.value=!0):f.value=s.error||"Failed to register device"}catch(t){f.value="Failed to register device"}finally{v.value=!1}}else f.value="Please enter a device label"}function D(){y.value=!1,w.value="",b.value=[]}async function j(){x.value=!0,S.value="",I.value="";try{const e=await L(),t=await fetch("/nuvu/user-config",{method:"POST",headers:e,body:JSON.stringify({extra_model_paths:k.value,huggingface_token:a.value.trim()})});if(t.ok)I.value="Configuration saved! Restart ComfyUI to apply extra model paths.",setTimeout(()=>{I.value=""},5e3);else{const e=await t.json();S.value=e.error||"Failed to save configuration"}}catch(e){console.error("[nuvu] Failed to save user config:",e),S.value="Failed to save configuration"}finally{x.value=!1}}async function O(){const e=_.value.trim();if(e){if(k.value.includes(e))return S.value="This path is already added",void setTimeout(()=>S.value="",3e3);k.value.push(e),_.value="",await j()}}async function E(){T.value=!0,o.value="",s.value=!1;try{const e=await L(),t=await fetch("/nuvu/user-config",{method:"POST",headers:e,body:JSON.stringify({extra_model_paths:k.value,huggingface_token:a.value.trim()})});if(t.ok){const e=a.value.trim();e?localStorage.setItem("nuvu_hf_token",e):localStorage.removeItem("nuvu_hf_token"),await F(e),s.value=!0,setTimeout(()=>{s.value=!1},3e3)}else{const e=await t.json();o.value=e.error||"Failed to save token"}}catch(e){console.error("[nuvu] Failed to save HF token:",e),o.value="Failed to save token"}finally{T.value=!1}}async function R(){a.value="",await E()}async function B(){if(A.value)try{await navigator.clipboard.writeText(A.value),r.value=!0,setTimeout(()=>{r.value=!1},2e3)}catch(e){console.error("[nuvu] Failed to copy:",e)}}return Gn(()=>{!async function(){C.value=!0,S.value="";try{const e=await L(),t=await fetch("/nuvu/user-config",{headers:e});if(t.ok){const e=await t.json();k.value=e.extra_model_paths||[],a.value=e.huggingface_token||localStorage.getItem("nuvu_hf_token")||"",await F(a.value.trim())}}catch(e){console.error("[nuvu] Failed to load user config:",e),S.value="Failed to load configuration"}finally{C.value=!1}}(),P(),async function(){try{const e=await fetch("/nuvu/device/identity");if(e.ok){const t=await e.json();m.value=t.fingerprint_hash||""}}catch(e){console.error("[nuvu] Failed to load user data:",e)}}(),async function(){u.value=!0;try{const e=await L(),t=await fetch("/nuvu/affiliates/me",{headers:e});if(t.ok){const e=await t.json();i.value=e.affiliate||null}else i.value=null}catch(e){console.error("[nuvu] Failed to load affiliate data:",e),i.value=null}finally{u.value=!1}}()}),(e,t)=>(dl(),hl("div",md,[t[27]||(t[27]=kl("h3",{class:"panel-title"},"User Configuration",-1)),kl("section",gd,[t[10]||(t[10]=kl("h4",{class:"section-title"},"Registered Devices",-1)),t[11]||(t[11]=kl("p",{class:"section-description"}," Register this device to enable downloads and installations. Your subscription allows a limited number of active devices. ",-1)),kl("div",yd,[Qt(kl("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>p.value=e),type:"text",class:"input device-input",placeholder:"Device label (e.g., My Desktop)",disabled:v.value,onKeyup:t[1]||(t[1]=ao(e=>N(),["enter"]))},null,40,bd),[[Ws,p.value]]),kl("button",{class:"nuvu-btn nuvu-btn-primary",disabled:v.value||!p.value.trim(),onClick:t[2]||(t[2]=e=>N())},K(v.value?"Registering...":"Register Device"),9,wd)]),y.value?(dl(),hl("div",kd,[kl("div",_d,[t[6]||(t[6]=kl("h4",{class:"replace-dialog-title"},"Device Limit Reached",-1)),t[7]||(t[7]=kl("p",{class:"replace-dialog-message"}," You have reached your device limit. Select a device to replace: ",-1)),kl("div",Cd,[(dl(!0),hl(sl,null,aa(b.value,e=>(dl(),hl("button",{key:e.deviceId,class:"replace-device-item",onClick:t=>{return n=e.deviceId,y.value=!1,p.value=w.value,void N(n);var n}},[kl("div",Sd,K(e.deviceLabel||e.machineName||"Unnamed Device"),1),kl("div",Id,[e.platform?(dl(),hl("span",Td,K(e.platform),1)):Il("",!0),e.lastSeenAt?(dl(),hl("span",Ad," Last seen: "+K(new Date(e.lastSeenAt).toLocaleDateString()),1)):Il("",!0)])],8,xd))),128))]),kl("button",{class:"nuvu-btn nuvu-btn-secondary replace-cancel-btn",onClick:D}," Cancel ")])])):Il("",!0),_l(ss,{name:"fade"},{default:Zt(()=>[f.value?(dl(),hl("div",Ud,K(f.value),1)):Il("",!0)]),_:1}),_l(ss,{name:"fade"},{default:Zt(()=>[h.value?(dl(),hl("div",Md,K(h.value),1)):Il("",!0)]),_:1}),kl("div",Ld,[d.value?(dl(),hl("div",Fd,"Loading devices...")):0===c.value.length?(dl(),hl("div",Pd," No devices registered. Register this device to continue. ")):(dl(!0),hl(sl,{key:2},aa(c.value,e=>(dl(),hl("div",{key:e.id||e.deviceId||e.device_id,class:W(["device-card",{current:M(e)}])},[kl("div",Nd,[kl("div",Dd,K(e.deviceLabel||e.label||e.name||e.machineName||"Unnamed Device"),1),kl("div",jd,[M(e)?(dl(),hl("span",Od,"This Device")):Il("",!0),kl("button",{class:"device-remove-btn",disabled:g.value===(e.id||e.deviceId||e.device_id),onClick:t=>async function(e){const t=e?.id||e?.deviceId||e?.device_id;if(!t)return void(f.value="Cannot remove device: missing device ID");const a=e.deviceLabel||e.label||e.name||"this device";if(confirm(`Are you sure you want to remove "${a}"? You can re-register it later.`)){g.value=t,f.value="",h.value="";try{const e=await L(),a=await fetch(`/nuvu/device/unregister/${t}`,{method:"DELETE",headers:e}),l=await a.json();a.ok?(h.value=l.message||"Device removed successfully!",await P(),n("device-changed")):f.value=l.error||"Failed to remove device"}catch(l){f.value="Failed to remove device"}finally{g.value=null}}}(e),title:"Remove this device"},[g.value===(e.id||e.deviceId||e.device_id)?(dl(),hl("svg",Rd,[...t[8]||(t[8]=[kl("circle",{cx:"12",cy:"12",r:"10","stroke-dasharray":"30","stroke-dashoffset":"10"},null,-1)])])):(dl(),hl("svg",Bd,[...t[9]||(t[9]=[kl("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),kl("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1)])]))],8,Ed)])]),kl("div",Vd,[e.platform?(dl(),hl("span",$d,K(e.platform),1)):Il("",!0),e.createdAt||e.created_at?(dl(),hl("span",Wd," Registered: "+K(new Date(e.createdAt||e.created_at).toLocaleDateString()),1)):Il("",!0)])],2))),128))])]),kl("section",zd,[t[14]||(t[14]=kl("h4",{class:"section-title"},"HuggingFace Token",-1)),t[15]||(t[15]=kl("p",{class:"section-description"}," Add your HuggingFace token for faster downloads and access to gated models. Your token is stored locally and never sent to our servers. ",-1)),kl("div",qd,[kl("div",Hd,[Qt(kl("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>a.value=e),type:l.value?"text":"password",class:"input",placeholder:"hf_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",onKeyup:ao(E,["enter"])},null,40,Gd),[[Xs,a.value]]),kl("button",{type:"button",class:"token-toggle",onClick:t[4]||(t[4]=e=>l.value=!l.value),title:l.value?"Hide token":"Show token"},[l.value?(dl(),hl("svg",Kd,[...t[12]||(t[12]=[kl("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},null,-1),kl("line",{x1:"1",y1:"1",x2:"23",y2:"23"},null,-1)])])):(dl(),hl("svg",Yd,[...t[13]||(t[13]=[kl("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},null,-1),kl("circle",{cx:"12",cy:"12",r:"3"},null,-1)])]))],8,Jd)]),kl("button",{class:"nuvu-btn nuvu-btn-primary",disabled:T.value,onClick:E},K(T.value?"Saving...":"Save Token"),9,Xd),a.value?(dl(),hl("button",{key:0,class:"nuvu-btn nuvu-btn-secondary",onClick:R,title:"Clear token",disabled:T.value}," Clear ",8,Zd)):Il("",!0)]),_l(ss,{name:"fade"},{default:Zt(()=>[s.value?(dl(),hl("div",Qd,"Token saved!")):Il("",!0)]),_:1}),_l(ss,{name:"fade"},{default:Zt(()=>[o.value?(dl(),hl("div",ev,K(o.value),1)):Il("",!0)]),_:1}),t[16]||(t[16]=kl("a",{href:"https://huggingface.co/settings/tokens",target:"_blank",rel:"noopener noreferrer",class:"help-link"}," Get a HuggingFace token ",-1))]),kl("section",tv,[t[18]||(t[18]=kl("h4",{class:"section-title"},"Extra Model Paths",-1)),t[19]||(t[19]=kl("p",{class:"section-description"}," Add paths to external model directories. ComfyUI will search these locations for models, LoRAs, embeddings, etc. This is useful for sharing models between multiple ComfyUI installations. ",-1)),kl("div",nv,[Qt(kl("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>_.value=e),type:"text",class:"input path-input",placeholder:"C:\\path\\to\\your\\models or /home/user/models",disabled:x.value,onKeyup:ao(O,["enter"])},null,40,av),[[Ws,_.value]]),kl("button",{class:"nuvu-btn nuvu-btn-secondary",disabled:x.value||!_.value.trim(),onClick:O},K(x.value?"Saving...":"Add Path"),9,lv)]),k.value.length>0?(dl(),hl("div",sv,[(dl(!0),hl(sl,null,aa(k.value,(e,n)=>(dl(),hl("div",{key:n,class:"path-item"},[kl("span",ov,K(e),1),kl("button",{class:"path-remove",onClick:e=>async function(e){k.value.splice(e,1),await j()}(n),title:"Remove path"},[...t[17]||(t[17]=[kl("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[kl("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),kl("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])],8,iv)]))),128))])):(dl(),hl("div",rv," No extra model paths configured. ")),_l(ss,{name:"fade"},{default:Zt(()=>[S.value?(dl(),hl("div",uv,K(S.value),1)):Il("",!0)]),_:1}),_l(ss,{name:"fade"},{default:Zt(()=>[I.value?(dl(),hl("div",cv,K(I.value),1)):Il("",!0)]),_:1})]),U.value?(dl(),hl("section",dv,[t[26]||(t[26]=kl("h4",{class:"section-title"},"Affiliate Program",-1)),kl("p",vv," Share your affiliate link to earn "+K(i.value?.commissionPercent||20)+"% commission when others subscribe. ",1),i.value?(dl(),hl("div",pv,[kl("div",fv,[kl("div",hv,K(i.value.visits||0),1),t[20]||(t[20]=kl("div",{class:"stat-label"},"Visits",-1))]),kl("div",mv,[kl("div",gv,K(i.value.conversions||0),1),t[21]||(t[21]=kl("div",{class:"stat-label"},"Conversions",-1))]),kl("div",yv,[kl("div",bv,K(i.value.conversionRate||0)+"%",1),t[22]||(t[22]=kl("div",{class:"stat-label"},"Rate",-1))]),kl("div",wv,[kl("div",kv,"$"+K(((i.value.revenue||0)/100).toFixed(2)),1),t[23]||(t[23]=kl("div",{class:"stat-label"},"Revenue",-1))])])):Il("",!0),kl("div",_v,[kl("input",{value:A.value,type:"text",class:"input affiliate-input",readonly:""},null,8,Cv),kl("button",{class:"nuvu-btn nuvu-btn-primary",onClick:B},K(r.value?"Copied!":"Copy Link"),1)]),"active"===i.value?.stripeConnectStatus?(dl(),hl("div",xv,[kl("div",Sv,[kl("div",Iv,[t[24]||(t[24]=kl("span",{class:"payout-label"},"Total Payouts:",-1)),kl("span",Tv,"$"+K(((i.value.totalPayouts||0)/100).toFixed(2)),1)]),kl("div",Av,[t[25]||(t[25]=kl("span",{class:"payout-label"},"Pending Payout:",-1)),kl("span",Uv,"$"+K(((i.value.pendingPayout||0)/100).toFixed(2)),1)])]),i.value.autoPayoutEnabled?(dl(),hl("div",Mv," Auto-payout enabled ")):Il("",!0)])):"pending"===i.value?.stripeConnectStatus?(dl(),hl("div",Lv," Your Stripe Connect account is pending verification. You'll be able to receive payouts once approved. ")):Il("",!0)])):Il("",!0),u.value?(dl(),hl("div",Fv," Loading affiliate status... ")):Il("",!0)]))}},[["__scopeId","data-v-4ee49759"]]),Nv={class:"help-panel"},Dv={class:"panel-content"},jv={class:"form-row"},Ov={class:"form-group"},Ev=["disabled"],Rv={class:"form-group"},Bv=["disabled"],Vv={class:"form-group"},$v=["disabled"],Wv={class:"form-group"},zv=["disabled"],qv=["disabled"],Hv=/* @__PURE__ */ho({__name:"HelpPanel",setup(e){const t=rt({name:"",email:"",subject:"",message:""}),n=bt(!1),a=bt(""),l=bt(!1);async function s(){if(!t.email||!t.message)return a.value="Please fill in all required fields.",void(l.value=!0);if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email))return a.value="Please enter a valid email address.",void(l.value=!0);n.value=!0,a.value="",l.value=!1;try{const e=await fetch("/nuvu/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.name.trim()||"Anonymous",email:t.email.trim(),subject:t.subject.trim()||"General Inquiry",message:t.message.trim()})});if(e.ok)a.value="Message sent successfully! We'll get back to you as soon as possible.",l.value=!1,t.subject="",t.message="";else{const t=await e.json().catch(()=>({}));a.value=t.error||t.message||"Failed to send message. Please try again.",l.value=!0}}catch(e){console.error("[nuvu] Contact form error:",e),a.value="Failed to send message. Please check your connection and try again.",l.value=!0}finally{n.value=!1}}function o(){a.value="",l.value=!1}Gn(async()=>{try{const e=await import(vo("core/state.js"));e.currentUser?.email&&(t.email=e.currentUser.email),e.currentUser?.name&&(t.name=e.currentUser.name)}catch(e){}});const i=ql(()=>t.email&&t.message);return(e,r)=>(dl(),hl("div",Nv,[kl("div",Dv,[r[8]||(r[8]=Sl('<h3 class="panel-title" data-v-06a1bd70>How can we help?</h3><p class="intro-text" data-v-06a1bd70> Nuvu is purpose-built to integrate ComfyUI seamlessly into modern production pipelines. Beyond ComfyUI-Nuvu, we deliver: </p><div class="value-props" data-v-06a1bd70><div class="prop-item" data-v-06a1bd70><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" data-v-06a1bd70><polyline points="20 6 9 17 4 12" data-v-06a1bd70></polyline></svg><span data-v-06a1bd70>Deep, production-proven expertise across film and VFX pipelines</span></div><div class="prop-item" data-v-06a1bd70><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" data-v-06a1bd70><polyline points="20 6 9 17 4 12" data-v-06a1bd70></polyline></svg><span data-v-06a1bd70>Secure, on-premise and air-gapped deployment solutions</span></div><div class="prop-item" data-v-06a1bd70><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" data-v-06a1bd70><polyline points="20 6 9 17 4 12" data-v-06a1bd70></polyline></svg><span data-v-06a1bd70>Custom model training and workflow optimization tailored to your needs</span></div><div class="prop-item" data-v-06a1bd70><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" data-v-06a1bd70><polyline points="20 6 9 17 4 12" data-v-06a1bd70></polyline></svg><span data-v-06a1bd70>Industry-leading best practices for scalable AI integration</span></div></div>',3)),kl("form",{class:"contact-form",onSubmit:to(s,["prevent"])},[kl("div",jv,[kl("div",Ov,[r[4]||(r[4]=kl("label",{for:"help-name"},"Name",-1)),Qt(kl("input",{id:"help-name","onUpdate:modelValue":r[0]||(r[0]=e=>t.name=e),type:"text",class:"input",placeholder:"Your name",disabled:n.value,onInput:o},null,40,Ev),[[Ws,t.name]])]),kl("div",Rv,[r[5]||(r[5]=kl("label",{for:"help-email"},"Email *",-1)),Qt(kl("input",{id:"help-email","onUpdate:modelValue":r[1]||(r[1]=e=>t.email=e),type:"email",class:"input",placeholder:"your@email.com",required:"",disabled:n.value,onInput:o},null,40,Bv),[[Ws,t.email]])])]),kl("div",Vv,[r[6]||(r[6]=kl("label",{for:"help-subject"},"Subject",-1)),Qt(kl("input",{id:"help-subject","onUpdate:modelValue":r[2]||(r[2]=e=>t.subject=e),type:"text",class:"input",placeholder:"What's this about?",disabled:n.value,onInput:o},null,40,$v),[[Ws,t.subject]])]),kl("div",Wv,[r[7]||(r[7]=kl("label",{for:"help-message"},"Message *",-1)),Qt(kl("textarea",{id:"help-message","onUpdate:modelValue":r[3]||(r[3]=e=>t.message=e),class:"textarea",placeholder:"Tell us how we can help...",rows:"6",required:"",disabled:n.value,onInput:o},null,40,zv),[[Ws,t.message]])]),_l(ss,{name:"fade"},{default:Zt(()=>[a.value?(dl(),hl("div",{key:0,class:W(["status-message",{error:l.value}])},K(a.value),3)):Il("",!0)]),_:1}),kl("button",{type:"submit",class:"submit-btn nuvu-btn nuvu-btn-primary",disabled:n.value||!i.value},K(n.value?"Sending...":"Send Message"),9,qv)],32),r[9]||(r[9]=Sl('<div class="alternative-contact" data-v-06a1bd70><p class="alt-title" data-v-06a1bd70>Other ways to reach us</p><div class="contact-links" data-v-06a1bd70><a href="https://discord.gg/nuvulabs" target="_blank" rel="noopener noreferrer" class="contact-link" data-v-06a1bd70><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" data-v-06a1bd70><path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z" data-v-06a1bd70></path></svg><span data-v-06a1bd70>Discord Community</span></a><a href="mailto:support@nuvulabs.ai" class="contact-link" data-v-06a1bd70><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-06a1bd70><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" data-v-06a1bd70></path><polyline points="22,6 12,13 2,6" data-v-06a1bd70></polyline></svg><span data-v-06a1bd70>support@nuvulabs.ai</span></a></div></div>',1))])]))}},[["__scopeId","data-v-06a1bd70"]]),Gv={class:"support-panel"},Jv={class:"panel-content"},Kv={class:"form-row"},Yv={class:"form-group"},Xv=["disabled"],Zv={class:"form-group"},Qv=["disabled"],ep={class:"form-row"},tp={class:"form-group"},np=["disabled"],ap=["value"],lp={class:"form-group"},sp=["disabled"],op=["value"],ip={class:"form-group"},rp=["disabled"],up={class:"form-group"},cp=["disabled"],dp={class:"form-group"},vp=["disabled"],pp={class:"form-row"},fp={class:"form-group"},hp=["disabled"],mp={class:"form-group"},gp=["disabled"],yp={class:"form-group"},bp=["disabled"],wp=["disabled"],kp=/* @__PURE__ */ho({__name:"SupportPanel",setup(e){const t=nn("nuvuVersions",null),n=nn("loadnuvuVersions",null),a=rt({name:"",email:"",issueType:"bug",severity:"medium",summary:"",description:"",stepsToReproduce:"",expectedBehavior:"",actualBehavior:"",systemInfo:""}),l=bt(!1),s=bt(""),o=bt(!1);function i(){const e=function(e){if(!e)return"";const t=[];t.push("ComfyUI Information:"),t.push(`Nuvu Frontend: ${e.nuvu_frontend?.tag||"0.0.0"}`),t.push(`Nuvu Backend: ${e.nuvu_backend?.version||"Unknown"}`),t.push(`ComfyUI Frontend: ${e.comfyui_frontend?.version||"Unknown"}`),t.push(`ComfyUI Backend: ${e.comfyui_backend?.tag||"0.0.0"}`);const n=[];return n.push("System Information:"),n.push(`OS: ${e.os||"Unknown"}`),n.push(`Python: ${e.python?.version||"Unknown"}`),n.push(`PyTorch: ${e.torch?.version||"Not installed"}`),n.push(`CUDA Driver: ${e.cudaDriver?.version||"Not detected"}`),[...t,"",...n].join("\n")}(t?.value||null);e&&(a.systemInfo=e)}const r=[{value:"bug",label:"Bug Report"},{value:"feature",label:"Feature Request"},{value:"installation",label:"Installation Issue"},{value:"performance",label:"Performance Problem"},{value:"crash",label:"Crash / Error"},{value:"other",label:"Other"}],u=[{value:"low",label:"Low - Minor inconvenience"},{value:"medium",label:"Medium - Affects workflow"},{value:"high",label:"High - Major blocker"},{value:"critical",label:"Critical - Cannot use at all"}];async function c(){if(!a.email||!a.summary||!a.description)return s.value="Please fill in all required fields.",void(o.value=!0);if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email))return s.value="Please enter a valid email address.",void(o.value=!0);l.value=!0,s.value="",o.value=!1;try{const e=await fetch("/nuvu/support",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a.name.trim()||"Anonymous",email:a.email.trim(),issueType:a.issueType,severity:a.severity,summary:a.summary.trim(),description:a.description.trim(),stepsToReproduce:a.stepsToReproduce.trim(),expectedBehavior:a.expectedBehavior.trim(),actualBehavior:a.actualBehavior.trim(),systemInfo:a.systemInfo.trim()})});if(e.ok){const t=await e.json().catch(()=>({}));s.value=`Support ticket created successfully! Ticket ID: ${t.ticketId||"N/A"}. We'll get back to you as soon as possible.`,o.value=!1,a.issueType="bug",a.severity="medium",a.summary="",a.description="",a.stepsToReproduce="",a.expectedBehavior="",a.actualBehavior=""}else{const t=await e.json().catch(()=>({}));s.value=t.error||t.message||"Failed to submit ticket. Please try again.",o.value=!0}}catch(e){console.error("[nuvu] Support form error:",e),s.value="Failed to submit ticket. Please check your connection and try again.",o.value=!0}finally{l.value=!1}}function d(){s.value="",o.value=!1}Gn(async()=>{try{const e=await import(vo("core/state.js"));e.currentUser?.email&&(a.email=e.currentUser.email),e.currentUser?.name&&(a.name=e.currentUser.name)}catch(e){}try{t?.value||"function"!=typeof n||await n(),i()}catch{}}),ln(()=>t?.value,e=>{e&&i()});const v=ql(()=>a.email&&a.summary&&a.description);return(e,t)=>(dl(),hl("div",Gv,[kl("div",Jv,[t[21]||(t[21]=kl("h3",{class:"panel-title"},"Support",-1)),t[22]||(t[22]=kl("p",{class:"intro-text"}," Found a bug or having technical issues? Submit a support ticket and we'll help you resolve it. ",-1)),kl("form",{class:"support-form",onSubmit:to(c,["prevent"])},[kl("div",Kv,[kl("div",Yv,[t[10]||(t[10]=kl("label",{for:"support-name"},"Name",-1)),Qt(kl("input",{id:"support-name","onUpdate:modelValue":t[0]||(t[0]=e=>a.name=e),type:"text",class:"input",placeholder:"Your name",disabled:l.value,onInput:d},null,40,Xv),[[Ws,a.name]])]),kl("div",Zv,[t[11]||(t[11]=kl("label",{for:"support-email"},"Email *",-1)),Qt(kl("input",{id:"support-email","onUpdate:modelValue":t[1]||(t[1]=e=>a.email=e),type:"email",class:"input",placeholder:"your@email.com",required:"",disabled:l.value,onInput:d},null,40,Qv),[[Ws,a.email]])])]),kl("div",ep,[kl("div",tp,[t[12]||(t[12]=kl("label",{for:"support-type"},"Issue Type *",-1)),Qt(kl("select",{id:"support-type","onUpdate:modelValue":t[2]||(t[2]=e=>a.issueType=e),class:"select",disabled:l.value,onChange:d},[(dl(),hl(sl,null,aa(r,e=>kl("option",{key:e.value,value:e.value},K(e.label),9,ap)),64))],40,np),[[Gs,a.issueType]])]),kl("div",lp,[t[13]||(t[13]=kl("label",{for:"support-severity"},"Severity *",-1)),Qt(kl("select",{id:"support-severity","onUpdate:modelValue":t[3]||(t[3]=e=>a.severity=e),class:"select",disabled:l.value,onChange:d},[(dl(),hl(sl,null,aa(u,e=>kl("option",{key:e.value,value:e.value},K(e.label),9,op)),64))],40,sp),[[Gs,a.severity]])])]),kl("div",ip,[t[14]||(t[14]=kl("label",{for:"support-summary"},"Summary *",-1)),Qt(kl("input",{id:"support-summary","onUpdate:modelValue":t[4]||(t[4]=e=>a.summary=e),type:"text",class:"input",placeholder:"Brief description of the issue",required:"",disabled:l.value,onInput:d},null,40,rp),[[Ws,a.summary]])]),kl("div",up,[t[15]||(t[15]=kl("label",{for:"support-description"},"Description *",-1)),Qt(kl("textarea",{id:"support-description","onUpdate:modelValue":t[5]||(t[5]=e=>a.description=e),class:"textarea",placeholder:"Detailed description of what happened...",rows:"3",required:"",disabled:l.value,onInput:d},null,40,cp),[[Ws,a.description]])]),kl("div",dp,[t[16]||(t[16]=kl("label",{for:"support-steps"},"Steps to Reproduce",-1)),Qt(kl("textarea",{id:"support-steps","onUpdate:modelValue":t[6]||(t[6]=e=>a.stepsToReproduce=e),class:"textarea",placeholder:"1. Open workflow...\n2. Click on...\n3. Error appears...",rows:"3",disabled:l.value,onInput:d},null,40,vp),[[Ws,a.stepsToReproduce]])]),kl("div",pp,[kl("div",fp,[t[17]||(t[17]=kl("label",{for:"support-expected"},"Expected Behavior",-1)),Qt(kl("textarea",{id:"support-expected","onUpdate:modelValue":t[7]||(t[7]=e=>a.expectedBehavior=e),class:"textarea textarea-sm",placeholder:"What should happen?",rows:"2",disabled:l.value,onInput:d},null,40,hp),[[Ws,a.expectedBehavior]])]),kl("div",mp,[t[18]||(t[18]=kl("label",{for:"support-actual"},"Actual Behavior",-1)),Qt(kl("textarea",{id:"support-actual","onUpdate:modelValue":t[8]||(t[8]=e=>a.actualBehavior=e),class:"textarea textarea-sm",placeholder:"What happened instead?",rows:"2",disabled:l.value,onInput:d},null,40,gp),[[Ws,a.actualBehavior]])])]),kl("div",yp,[t[19]||(t[19]=kl("label",{for:"support-system"},"System Information",-1)),Qt(kl("textarea",{id:"support-system","onUpdate:modelValue":t[9]||(t[9]=e=>a.systemInfo=e),class:"textarea textarea-mono",placeholder:"Auto-populated system info...",rows:"10",readonly:"",spellcheck:"false",disabled:l.value},null,8,bp),[[Ws,a.systemInfo]]),t[20]||(t[20]=kl("span",{class:"form-hint"},"This information helps us debug your issue faster",-1))]),_l(ss,{name:"fade"},{default:Zt(()=>[s.value?(dl(),hl("div",{key:0,class:W(["status-message",{error:o.value}])},K(s.value),3)):Il("",!0)]),_:1}),kl("button",{type:"submit",class:"submit-btn nuvu-btn nuvu-btn-primary",disabled:l.value||!v.value},K(l.value?"Submitting...":"Submit Support Ticket"),9,wp)],32),t[23]||(t[23]=Sl('<div class="alternative-contact" data-v-67c7152c><p class="alt-title" data-v-67c7152c>Other ways to get help</p><div class="contact-links" data-v-67c7152c><a href="https://discord.gg/nuvulabs" target="_blank" rel="noopener noreferrer" class="contact-link" data-v-67c7152c><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" data-v-67c7152c><path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z" data-v-67c7152c></path></svg><span data-v-67c7152c>Discord Community</span></a><a href="mailto:support@nuvulabs.ai" class="contact-link" data-v-67c7152c><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-67c7152c><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" data-v-67c7152c></path><polyline points="22,6 12,13 2,6" data-v-67c7152c></polyline></svg><span data-v-67c7152c>support@nuvulabs.ai</span></a></div></div>',1))])]))}},[["__scopeId","data-v-67c7152c"]]),_p={class:"documentation-panel"},Cp={class:"links-grid"},xp=["href"],Sp={class:"doc-icon"},Ip={key:0,width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},Tp={key:1,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Ap={key:2,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Up={key:3,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Mp={key:4,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Lp={key:5,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Fp={key:6,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Pp={key:7,width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},Np={class:"doc-content"},Dp={class:"doc-title"},jp={class:"doc-description"},Op={key:0,class:"version-info"},Ep=/* @__PURE__ */ho({__name:"DocumentationPanel",setup(e){const t=bt("");Gn(async()=>{try{const e=await fetch("/nuvu/config");if(e.ok){const n=await e.json();t.value=n.version||""}}catch{}});const n=[{title:"GitHub Repository",description:"Source code, issues, and contributions",url:"https://github.com/nuvulabs/ComfyUI-nuvu",iconType:"github"},{title:"Getting Started",description:"Installation and setup guide",url:"https://github.com/nuvulabs/ComfyUI-nuvu#getting-started",iconType:"book"},{title:"Workflow Documentation",description:"Learn how to use Nuvu workflows",url:"https://github.com/nuvulabs/ComfyUI-nuvu/wiki/Workflows",iconType:"workflow"},{title:"Model Reference",description:"Supported models and configuration",url:"https://github.com/nuvulabs/ComfyUI-nuvu/wiki/Models",iconType:"model"},{title:"FAQ & Troubleshooting",description:"Common issues and solutions",url:"https://github.com/nuvulabs/ComfyUI-nuvu/wiki/FAQ",iconType:"help"},{title:"Report an Issue",description:"Found a bug? Let us know on GitHub",url:"https://github.com/nuvulabs/ComfyUI-nuvu/issues/new",iconType:"bug"},{title:"Changelog",description:"See what's new in each release",url:"https://github.com/nuvulabs/ComfyUI-nuvu/releases",iconType:"changelog"},{title:"Community Discord",description:"Join our community for help and discussions",url:"https://discord.gg/nuvulabs",iconType:"discord"}];return(e,a)=>(dl(),hl("div",_p,[a[9]||(a[9]=kl("h3",{class:"panel-title"},"Documentation",-1)),a[10]||(a[10]=kl("p",{class:"intro-text"}," Access our documentation, report issues, and connect with the community on GitHub. ",-1)),kl("div",Cp,[(dl(),hl(sl,null,aa(n,e=>kl("a",{key:e.url,href:e.url,target:"_blank",rel:"noopener noreferrer",class:"doc-card"},[kl("div",Sp,["github"===e.iconType?(dl(),hl("svg",Ip,[...a[0]||(a[0]=[kl("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"},null,-1)])])):"book"===e.iconType?(dl(),hl("svg",Tp,[...a[1]||(a[1]=[kl("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},null,-1),kl("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},null,-1)])])):"workflow"===e.iconType?(dl(),hl("svg",Ap,[...a[2]||(a[2]=[Sl('<polyline points="16 3 21 3 21 8" data-v-d85ce9cc></polyline><line x1="4" y1="20" x2="21" y2="3" data-v-d85ce9cc></line><polyline points="21 16 21 21 16 21" data-v-d85ce9cc></polyline><line x1="15" y1="15" x2="21" y2="21" data-v-d85ce9cc></line><line x1="4" y1="4" x2="9" y2="9" data-v-d85ce9cc></line>',5)])])):"model"===e.iconType?(dl(),hl("svg",Up,[...a[3]||(a[3]=[kl("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"},null,-1),kl("line",{x1:"8",y1:"21",x2:"16",y2:"21"},null,-1),kl("line",{x1:"12",y1:"17",x2:"12",y2:"21"},null,-1)])])):"help"===e.iconType?(dl(),hl("svg",Mp,[...a[4]||(a[4]=[kl("circle",{cx:"12",cy:"12",r:"10"},null,-1),kl("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},null,-1),kl("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"},null,-1)])])):"bug"===e.iconType?(dl(),hl("svg",Lp,[...a[5]||(a[5]=[Sl('<rect x="8" y="6" width="8" height="14" rx="4" data-v-d85ce9cc></rect><path d="M6 12H2" data-v-d85ce9cc></path><path d="M22 12h-4" data-v-d85ce9cc></path><path d="M9 6V3" data-v-d85ce9cc></path><path d="M15 6V3" data-v-d85ce9cc></path><path d="M6 18l-2 2" data-v-d85ce9cc></path><path d="M18 18l2 2" data-v-d85ce9cc></path><path d="M6 6L4 4" data-v-d85ce9cc></path><path d="M18 6l2-2" data-v-d85ce9cc></path>',9)])])):"changelog"===e.iconType?(dl(),hl("svg",Fp,[...a[6]||(a[6]=[Sl('<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" data-v-d85ce9cc></path><polyline points="14 2 14 8 20 8" data-v-d85ce9cc></polyline><line x1="16" y1="13" x2="8" y2="13" data-v-d85ce9cc></line><line x1="16" y1="17" x2="8" y2="17" data-v-d85ce9cc></line><polyline points="10 9 9 9 8 9" data-v-d85ce9cc></polyline>',5)])])):"discord"===e.iconType?(dl(),hl("svg",Pp,[...a[7]||(a[7]=[kl("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"},null,-1)])])):Il("",!0)]),kl("div",Np,[kl("h4",Dp,K(e.title),1),kl("p",jp,K(e.description),1)]),a[8]||(a[8]=kl("svg",{class:"doc-arrow",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[kl("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),kl("polyline",{points:"12 5 19 12 12 19"})],-1))],8,xp)),64))]),t.value?(dl(),hl("div",Op," ComfyUI-Nuvu v"+K(t.value),1)):Il("",!0)]))}},[["__scopeId","data-v-d85ce9cc"]]),Rp={class:"modal-content"},Bp={class:"modal-title"},Vp={class:"summary-box"},$p={class:"summary-header"},Wp={class:"summary-rows"},zp={key:0,class:"summary-row"},qp={class:"summary-value"},Hp={key:1,class:"summary-row"},Gp={class:"summary-value"},Jp={key:2,class:"summary-row"},Kp={class:"summary-value"},Yp={class:"summary-row"},Xp={class:"summary-value"},Zp={key:0,class:"failed-section"},Qp={key:0,class:"failed-group"},ef={key:1,class:"failed-group"},tf={key:2,class:"failed-group"},nf={key:3,class:"failed-group"},af={key:1,class:"failed-section warnings-section"},lf={key:0,class:"status-spinner"},sf={key:3,class:"restart-notice"},of={key:4,class:"restart-notice"},rf={class:"modal-actions"},uf=/* @__PURE__ */ho({__name:"InstallationSummaryModal",props:{summary:{type:Object,required:!0},warnings:{type:Array,default:()=>[]},modelsOnly:{type:Boolean,default:!1}},emits:["close","restart"],setup(e,{emit:t}){const n=e,a=t,l=bt("ready"),s=bt("");let o=null;const i=ql(()=>n.summary?.all_success??!1),r=ql(()=>n.summary?.total_success??0),u=ql(()=>n.summary?.total_count??0),c=ql(()=>n.summary?.failed_items??{}),d=ql(()=>{const e=c.value;return e.workflows?.length>0||e.subgraphs?.length>0||e.custom_nodes?.length>0||e.models?.length>0}),v=ql(()=>Array.isArray(n.warnings)&&n.warnings.length>0),p=ql(()=>n.modelsOnly?i.value?`All ${r.value} model${1!==r.value?"s":""} downloaded successfully!`:`${r.value}/${u.value} models downloaded`:i.value?`All ${r.value} components installed successfully!`:`${r.value}/${u.value} components installed successfully`),f=ql(()=>n.modelsOnly?"Download Complete":"Installation Complete"),h=ql(()=>n.modelsOnly?"DOWNLOAD SUMMARY":"INSTALLATION SUMMARY"),m=ql(()=>{try{const e=window.localStorage.getItem("nuvu_pending_model_name_fixes");if(!e)return!1;const t=JSON.parse(e);return Array.isArray(t?.fixes)&&t.fixes.length>0}catch{return!1}});function g(){l.value="reconnecting",s.value="Waiting for ComfyUI to come back online...",o=setInterval(async()=>{await async function(){try{return(await fetch("/system_stats",{method:"GET",cache:"no-store"})).ok}catch{return!1}}()&&(clearInterval(o),o=null,l.value="complete",s.value='ComfyUI is back online! Click "Refresh Now" to continue.')},2e3)}async function y(){l.value="restarting",s.value="Restarting ComfyUI. Keep this tab open...";try{await fetch("/nuvu/restart",{method:"GET"})}catch(e){console.log("[nuvu] Restart request sent")}a("restart"),setTimeout(()=>{g()},3e3)}async function b(){try{await fetch("/nuvu/queue/clear-summary",{method:"POST"})}catch{}try{window.localStorage.setItem("nuvu_show_splash_after_refresh","true")}catch{}window.location.reload()}function w(){"restarting"!==l.value&&"reconnecting"!==l.value&&a("close")}return Xn(()=>{o&&clearInterval(o)}),(t,n)=>(dl(),ml(yn,{to:"body"},[kl("div",{class:"modal-overlay",onClick:to(w,["self"])},[kl("div",Rp,[kl("h2",Bp,K(f.value),1),kl("div",Vp,[kl("div",$p,K(h.value),1),n[4]||(n[4]=kl("div",{class:"summary-divider"},null,-1)),kl("div",Wp,[e.modelsOnly?Il("",!0):(dl(),hl("div",zp,[n[0]||(n[0]=kl("span",{class:"summary-label"},"Workflows:",-1)),kl("span",qp,K(e.summary.workflows?.current??0)+"/"+K(e.summary.workflows?.total??0),1)])),e.modelsOnly?Il("",!0):(dl(),hl("div",Hp,[n[1]||(n[1]=kl("span",{class:"summary-label"},"Subgraphs:",-1)),kl("span",Gp,K(e.summary.subgraphs?.current??0)+"/"+K(e.summary.subgraphs?.total??0),1)])),e.modelsOnly?Il("",!0):(dl(),hl("div",Jp,[n[2]||(n[2]=kl("span",{class:"summary-label"},"Custom Nodes:",-1)),kl("span",Kp,K(e.summary.custom_nodes?.current??0)+"/"+K(e.summary.custom_nodes?.total??0),1)])),kl("div",Yp,[n[3]||(n[3]=kl("span",{class:"summary-label"},"Models:",-1)),kl("span",Xp,K(e.summary.models?.current??0)+"/"+K(e.summary.models?.total??0),1)])]),n[5]||(n[5]=kl("div",{class:"summary-divider"},null,-1)),kl("div",{class:W(["summary-result",{success:i.value,partial:!i.value}])},K(p.value),3)]),d.value?(dl(),hl("div",Zp,[n[10]||(n[10]=kl("div",{class:"failed-header"},"Failed Components",-1)),c.value.workflows?.length?(dl(),hl("div",Qp,[n[6]||(n[6]=kl("div",{class:"failed-category"},"Workflows:",-1)),(dl(!0),hl(sl,null,aa(c.value.workflows,e=>(dl(),hl("div",{key:"wf-"+e,class:"failed-item"},K(e),1))),128))])):Il("",!0),c.value.subgraphs?.length?(dl(),hl("div",ef,[n[7]||(n[7]=kl("div",{class:"failed-category"},"Subgraphs:",-1)),(dl(!0),hl(sl,null,aa(c.value.subgraphs,e=>(dl(),hl("div",{key:"sg-"+e,class:"failed-item"},K(e),1))),128))])):Il("",!0),c.value.custom_nodes?.length?(dl(),hl("div",tf,[n[8]||(n[8]=kl("div",{class:"failed-category"},"Custom Nodes:",-1)),(dl(!0),hl(sl,null,aa(c.value.custom_nodes,e=>(dl(),hl("div",{key:"cn-"+e,class:"failed-item"},K(e),1))),128))])):Il("",!0),c.value.models?.length?(dl(),hl("div",nf,[n[9]||(n[9]=kl("div",{class:"failed-category"},"Models:",-1)),(dl(!0),hl(sl,null,aa(c.value.models,e=>(dl(),hl("div",{key:"m-"+e,class:"failed-item"},K(e),1))),128))])):Il("",!0)])):Il("",!0),v.value?(dl(),hl("div",af,[n[11]||(n[11]=kl("div",{class:"failed-header"},"Warnings",-1)),(dl(!0),hl(sl,null,aa(e.warnings,(e,t)=>(dl(),hl("div",{key:"warn-"+t,class:"failed-item"},K(e),1))),128))])):Il("",!0),"ready"===l.value||e.modelsOnly?Il("",!0):(dl(),hl("div",{key:2,class:W(["status-message",l.value])},["restarting"===l.value||"reconnecting"===l.value?(dl(),hl("div",lf)):Il("",!0),xl(" "+K(s.value),1)],2)),"ready"!==l.value||e.modelsOnly?Il("",!0):(dl(),hl("p",sf," A restart is recommended to apply custom node changes. ")),"ready"===l.value&&m.value?(dl(),hl("p",of," After restarting and refreshing, Nuvu will automatically fix workflow model name references. ")):Il("",!0),kl("div",rf,[e.modelsOnly?(dl(),hl(sl,{key:0},[kl("button",{class:"modal-btn later-btn",onClick:w}," Close "),kl("button",{class:"modal-btn refresh-btn",onClick:b}," Refresh ")],64)):(dl(),hl(sl,{key:1},["ready"===l.value?(dl(),hl("button",{key:0,class:"modal-btn later-btn",onClick:w}," Later ")):Il("",!0),"ready"===l.value?(dl(),hl("button",{key:1,class:"modal-btn restart-btn",onClick:y}," Restart ComfyUI ")):Il("",!0),"complete"===l.value?(dl(),hl("button",{key:2,class:"modal-btn refresh-btn",onClick:b}," Refresh Now ")):Il("",!0)],64))])])])]))}},[["__scopeId","data-v-a9a4a2e0"]]),cf={__name:"QueueProgressProvider",setup(e){const t=bt(null),n=bt(null),a=ql(()=>{const e=t.value;return!!e&&Boolean(e.is_processing||(e.running_count||0)>0||(e.queue_size||0)>0||(e.in_progress_count||0)>0)}),l=ql(()=>t.value?.download_progress||null),s=ql(()=>t.value?.installation_summary||null),o=ql(()=>t.value?.warnings||[]),i=ql(()=>t.value?.error||null),r=bt(!1),u=bt(!1),c=bt(0),d=ql(()=>{const e=s.value;if(!e)return!1;const t=e.workflows?.total??0,n=e.subgraphs?.total??0,a=e.custom_nodes?.total??0,l=e.models?.total??0;return 0===t&&0===n&&0===a&&l>0});async function v(){try{const e=await fetch("/nuvu/queue/status",{cache:"no-store"});if(!e.ok)return void(n.value=`Queue status failed: ${e.status}`);t.value=await e.json(),n.value=null,u.value&&(a.value?c.value=0:(c.value+=1,c.value>=2&&y()))}catch(Nf){n.value=Nf?.message||String(Nf)}}async function p(){try{await fetch("/nuvu/queue/clear-summary",{method:"POST"})}catch{}t.value&&(t.value={...t.value,installation_summary:null})}function f(){r.value=!1,p()}function h(){}let m=null;function g(){u.value||(u.value=!0,c.value=0,v(),m&&(clearInterval(m),m=null),m=setInterval(()=>{v()},1e3))}function y(){u.value=!1,c.value=0,m&&(clearInterval(m),m=null)}async function b(){await v(),(a.value||s.value)&&g()}return Gn(async()=>{await v(),(a.value||s.value)&&g(),window.addEventListener("nuvu-vue-open",b)}),Xn(()=>{m&&(clearInterval(m),m=null),window.removeEventListener("nuvu-vue-open",b)}),ln(()=>s.value,e=>{e&&(r.value=!0)}),tn(Qo,{status:t,isActive:a,downloadProgress:l,installationSummary:s,warnings:o,backendError:i,lastError:n,pollOnce:v,startPolling:g,stopPolling:y,pollingEnabled:u,clearSummary:p,clearError:async function(){try{await fetch("/nuvu/queue/clear-error",{method:"POST"})}catch{}t.value&&(t.value={...t.value,error:null,completed:!1})}}),(e,t)=>(dl(),hl(sl,null,[la(e.$slots,"default"),r.value&&s.value?(dl(),ml(uf,{key:0,summary:s.value,"models-only":d.value,warnings:o.value,onClose:f,onRestart:h},null,8,["summary","models-only","warnings"])):Il("",!0)],64))}},df={class:"dashboard"},vf={class:"main-content"},pf=/* @__PURE__ */ho({__name:"Dashboard",props:{user:{type:Object,default:()=>({name:"User"})},licenseStatus:{type:Object,default:null}},emits:["logout","close"],setup(e,{emit:t}){const n=e,a=t,l=bt("workflows"),s=bt(!1),o=bt(!1),i=bt(!1),r=bt(!0),u=bt(null),c=bt(!1),d=[{id:"workflows",label:"Workflows"},{id:"install-missing",label:"Install Missing (Beta)"},{id:"models",label:"Models"},{id:"optimizer",label:"ComfyUI Optimizer"},{id:"user-config",label:"User Configuration"},{id:"help",label:"How can we help?"},{id:"support",label:"Support"},{id:"documentation",label:"Documentation"}];async function v(){if(!c.value){c.value=!0;try{const e=await fetch("/nuvu/check-versions",{cache:"no-store"});e.ok&&(u.value=await e.json())}catch{}finally{c.value=!1}}}async function p(){try{const e=await fetch("/nuvu/device/identity");if(!e.ok)return void(r.value=!1);const t=await e.json();t.fingerprint_hash;if(t.has_stored_token&&t.stored_device?.device_id)return void(r.value=!0);r.value=!1}catch(e){r.value=!1}}function f(e){l.value=e}async function h(){try{const{logout:e}=await import("./auth-D2wmH69l.js");await e(),a("logout")}catch(e){console.error("[nuvu] Logout failed:",e)}}function m(){s.value=!0}async function g(){s.value=!1;try{await fetch("/nuvu/restart",{method:"GET"}),console.log("[nuvu] Restart request sent")}catch(e){console.log("[nuvu] Restart request sent (connection closed as expected)")}}function y(){s.value=!1}function b(){o.value=!0}function w(){o.value=!1,window.location.reload()}function k(){o.value=!1}function _(){a("close")}return tn("activeTab",l),tn("user",n.user),tn("licenseStatus",n.licenseStatus),tn("nuvuUpdateAvailable",i),tn("nuvuVersions",u),tn("isLoadingnuvuVersions",c),tn("loadnuvuVersions",v),Gn(()=>{!async function(){try{const e=await fetch("/nuvu/check-nuvu-updates");if(e.ok){const t=await e.json();i.value=!0===t.updatesAvailable}}catch(e){i.value=!1}}(),p(),async function(){let e=null;try{const t=window.localStorage.getItem("nuvu_pending_model_name_fixes");if(!t)return;e=JSON.parse(t)}catch{return}const t=Array.isArray(e?.fixes)?e.fixes:[];if(0===t.length){try{window.localStorage.removeItem("nuvu_pending_model_name_fixes")}catch{}return}try{const{app:e}=await import("/scripts/app.js");if(!e?.graph?._nodes)return;let n=0;for(const a of t){const t=a?.searchPath,l=a?.newName;if("string"!=typeof t||"string"!=typeof l||!t||!l)continue;const s=t.split(/[/\\]/).pop();for(const a of e.graph._nodes)if(a?.widgets)for(const e of a.widgets){if("string"!=typeof e?.value)continue;const a=e.value.split(/[/\\]/).pop();if((e.value===t||a===s)&&(e.value=l,n++,e.callback))try{e.callback(l)}catch{}}}n>0&&e.graph.change();try{window.localStorage.removeItem("nuvu_pending_model_name_fixes")}catch{}}catch{}}(),v()}),(t,n)=>(dl(),hl("div",df,[_l(Fo,{tabs:d,"active-tab":l.value,user:e.user,"license-status":e.licenseStatus,"nuvu-update-available":i.value,"device-registered":r.value,onTabChange:f,onLogout:h,onRestart:m,onRefresh:b},null,8,["active-tab","user","license-status","nuvu-update-available","device-registered"]),kl("main",vf,[kl("button",{class:"close-btn",onClick:_,title:"Close"},[...n[0]||(n[0]=[kl("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[kl("path",{d:"M18 6L6 18M6 6l12 12"})],-1)])]),_l(cf,null,{default:Zt(()=>[Qt(_l(Ii,null,null,512),[[bs,"workflows"===l.value]]),Qt(_l(Rr,null,null,512),[[bs,"install-missing"===l.value]]),Qt(_l(hu,null,null,512),[[bs,"models"===l.value]]),Qt(_l(hd,null,null,512),[[bs,"optimizer"===l.value]]),Qt(_l(Pv,{onDeviceChanged:p},null,512),[[bs,"user-config"===l.value]]),Qt(_l(Hv,null,null,512),[[bs,"help"===l.value]]),Qt(_l(kp,null,null,512),[[bs,"support"===l.value]]),Qt(_l(Ep,null,null,512),[[bs,"documentation"===l.value]])]),_:1})]),s.value?(dl(),ml(Wi,{key:0,title:"Restart ComfyUI",message:"Are you sure you want to restart ComfyUI? Any unsaved work may be lost.","confirm-text":"Restart","cancel-text":"Cancel",onConfirm:g,onCancel:y})):Il("",!0),o.value?(dl(),ml(Wi,{key:1,title:"Refresh Page",message:"Are you sure you want to refresh the page?","confirm-text":"Refresh","cancel-text":"Cancel",onConfirm:w,onCancel:k})):Il("",!0)]))}},[["__scopeId","data-v-6d4acbd5"]]),ff={class:"nuvu-app"},hf={key:0,class:"loading-screen"},mf={class:"loading-content"},gf={class:"loading-logo-container"},yf=["src"],bf={class:"loading-message"},wf={class:"progress-container"},kf={class:"progress-track"},_f=/* @__PURE__ */ho({__name:"App",setup(e,{expose:t}){const n=bt("loading"),a=bt(!1),l=wt(null),s=wt(null),o=bt(!0),i=bt("Powering up ComfyUI with Nuvu..."),r=bt(0),u=()=>{a.value=!1,n.value="login",l.value=null,s.value=null,o.value=!1};let c=null;const d=ql(()=>o.value||a.value&&null===s.value);tn("isAuthenticated",a),tn("currentView",n),tn("user",l);const v=co("images/nuvuLogo.png");async function p(e={}){const{useCache:t=!0,trackProgress:n=!1}=e;n&&(r.value=10);const[{fetchLicenseStatus:a},{loadWorkflows:l},{loadModels:s},{getExistingModels:o}]=await Promise.all([import(vo("license/status.js")),import(vo("workflows/api.js")),import(vo("models/api.js")),import(vo("workflows/api.js"))]);n&&(r.value=20);try{(await import(vo("core/state.js"))).currentLicenseStatus?t&&a({useCache:!0,backgroundRefresh:!0}).catch(()=>{}):await a({useCache:t,backgroundRefresh:t})}catch(Nf){console.warn("[nuvu] License fetch failed:",Nf)}let i=0;const u=80/3,c=()=>{i++,n&&(r.value=20+i*u)};await Promise.all([o().catch(e=>console.warn("[nuvu] Existing models check failed:",e)).finally(c),l({backgroundRefresh:!1,force:!1}).catch(e=>console.warn("[nuvu] Workflows fetch failed:",e)).finally(c),s({backgroundRefresh:!1,force:!1}).catch(e=>console.warn("[nuvu] Models fetch failed:",e)).finally(c)]),n&&(r.value=100)}async function f(){if(a.value&&!o.value)try{const e=await import(vo("core/state.js")),t=Array.isArray(e.workflowsData)&&e.workflowsData.length>0,a=Array.isArray(e.modelsData)&&e.modelsData.length>0;if(!t||!a){o.value=!0,i.value="Loading your workflows...",r.value=0,await p({useCache:!0,trackProgress:!0});try{const{formatLicenseStatus:t}=await import(vo("license/status.js"));s.value=t(e.currentLicenseStatus)}catch{}n.value="dashboard"}}catch{}finally{o.value=!1}}function h(){console.log("[nuvu Vue] Login initiated successfully")}function m(e){console.error("[nuvu Vue] Login error:",e)}function g(){a.value=!1,n.value="login",l.value=null,s.value=null}function y(){window.dispatchEvent(new CustomEvent("nuvu-vue-close"))}return Gn(async()=>{try{const e=await import(vo("core/state.js")),{formatLicenseStatus:t}=await import(vo("license/status.js")),u=await import(vo("core/preload.js"));if(await u.waitForInit(),e.isAuthenticated)try{const{checkWebsiteSession:e}=await import(vo("auth/session.js"));if(!(await e({allowRefreshRetry:!0,skipApiCall:!1})))return a.value=!1,n.value="login",l.value=null,s.value=null,void(o.value=!1)}catch{}if(!e.isAuthenticated)return n.value="login",void(o.value=!1);a.value=!0,l.value=e.currentUser;const c=Array.isArray(e.workflowsData)&&e.workflowsData.length>0,d=Array.isArray(e.modelsData)&&e.modelsData.length>0;c&&d&&e.currentLicenseStatus?(s.value=t(e.currentLicenseStatus),n.value="dashboard",o.value=!1,p().then(()=>{s.value=t(e.currentLicenseStatus)}).catch(()=>{})):(i.value="Powering up ComfyUI with Nuvu...",r.value=0,await p({trackProgress:!0}),s.value=t(e.currentLicenseStatus),n.value="dashboard",o.value=!1)}catch(e){console.error("[nuvu] App initialization error:",e),n.value="login",o.value=!1}window.addEventListener("nuvu-vue-open",f),window.addEventListener("nuvu:auth-invalidated",u)}),Xn(()=>{window.removeEventListener("nuvu-vue-open",f),window.removeEventListener("nuvu:auth-invalidated",u)}),t({setAuthenticated:function(e,t=null,u=null){if(a.value=e,l.value=t,s.value=u,!e)return o.value=!1,void(n.value="login");(async function({useCache:e=!0,trackProgress:t=!0}={}){return c||(o.value=!0,i.value="Loading your workflows...",r.value=0,c=(async()=>{try{await p({useCache:e,trackProgress:t});try{const e=await import(vo("core/state.js")),{formatLicenseStatus:t}=await import(vo("license/status.js"));s.value=t(e.currentLicenseStatus)}catch{}n.value="dashboard"}finally{o.value=!1,c=null}})(),c)})({useCache:!0,trackProgress:!0}).catch(()=>{})},setView:function(e){n.value=e},currentView:n,isAuthenticated:a,user:l,licenseStatus:s}),(e,t)=>(dl(),hl("div",ff,[_l(ss,{name:"fade"},{default:Zt(()=>[d.value?(dl(),hl("div",hf,[kl("div",mf,[kl("div",gf,[t[0]||(t[0]=kl("div",{class:"loading-logo-glow"},null,-1)),kl("img",{src:Ct(v),alt:"Nuvu",class:"loading-logo"},null,8,yf)]),kl("p",bf,K(i.value),1),kl("div",wf,[kl("div",kf,[kl("div",{class:"progress-bar",style:E({width:r.value+"%"})},null,4)])])])])):Il("",!0)]),_:1}),d.value||"login"!==n.value?d.value||"dashboard"!==n.value?Il("",!0):(dl(),ml(pf,{key:1,user:l.value,"license-status":s.value,onLogout:g,onClose:y},null,8,["user","license-status"])):(dl(),ml(wo,{key:0,onLoginSuccess:h,onLoginError:m}))]))}},[["__scopeId","data-v-2bbd4bec"]]);function Cf(e,t){e-=126;const n=xf();let a=n[e];if(void 0===Cf.FppJKW){Cf.gvRALQ=function(e){let t="",n="";for(let a,l,s=0,o=0;l=e.charAt(o++);~l&&(a=s%4?64*a+l:l,s++%4)?t+=String.fromCharCode(255&a>>(-2*s&6)):0)l="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(l);for(let a=0,l=t.length;a<l;a++)n+="%"+("00"+t.charCodeAt(a).toString(16)).slice(-2);return decodeURIComponent(n)},Cf.bveFcq={},Cf.FppJKW=!0}const l=e+n[0],s=Cf.bveFcq[l];return s?a=s:(a=Cf.gvRALQ(a),Cf.bveFcq[l]=a),a}function xf(){const e=["Egjhv3a","C2v0qxv0AgvUDa","Dw5TB3vUDa","DxnLCG","nte0nJGYmfDTvNn1ua","Dg9Y","Bw91BNq","qLfWs0W","otbct3jmzvy","mtv6AufkC2i","mZG2mZblrLrrA1u","mtqZntK0nLDTAeDNrq","whzXEgG","nJC5mdy2mMrbvwTgyq","CxvLCNLtzwXLyW","ndyWnwHNEMvKzq","r3zUBhC","AwnHDgvK","DhvZ","DMLLDW","AfPoBgu","otm2nZqWohbyAwz0DW","nJCYq2L0BgnW","BgLJzw5Zzvn0yq","otq3ndC2D0TAr3DT","BeLurum","C2v0vMLLDW"];return(xf=function(){return e})()}!function(){const e=551,t=571,n=553,a=231,l=560,s=550,o=564,i=xf();function r(e,t,n,a){return Cf(n- -377)}function u(e,t,n,a){return Cf(t-423)}for(;;)try{if(945358===parseInt(u(0,567))/1+parseInt(u(0,e))/2*(-parseInt(u(0,t))/3)+parseInt(u(0,n))/4*(-parseInt(r(0,0,-235))/5)+-parseInt(r(0,0,-a))/6+parseInt(u(0,l))/7+parseInt(u(0,s))/8+parseInt(u(0,o))/9*(-parseInt(u(0,566))/10))break;i.push(i.shift())}catch(c){i.push(i.shift())}}();let Sf=null,If=null,Tf=null;function Af(e,t={}){function n(e,t,n,a){return Cf(n- -356)}const a={geqVr:function(e,t){return e(t)},FyxXy:function(e,t){return e===t},xbGWp:"string",BQpKL:function(e,t){return e===t},tuJCe:n(0,0,-230),Lxvsu:function(e,t){return e===t},Xvqxh:n(0,0,-225)};function l(e,t,n,a){return Cf(t- -362)}if(Sf&&Sf[n(0,0,-221)](),Sf=a.geqVr(oo,_f),a.FyxXy(typeof e,a[n(0,0,-223)])?a[l(-221,-222)](a.tuJCe,a.tuJCe)?If=document[l(-214,-215)+l(-232,-224)](e):(_0x5903fb[n(0,0,-221)](),_0x24b851=null,_0x440f29=null,_0x1063be=null):a.Lxvsu(l(-233,-231),a[l(-229,-217)])?If=e:_0x9e8a9f[n(0,0,-224)](_0x1a9e9f[n(0,0,-204)]),If){const e=Sf[l(0,-223)](If);Tf=e,t[n(0,0,-204)]&&e[n(0,0,-224)](t[l(0,-210)]),(t.user||t["licenseSta"+l(0,-211)])&&e[n(0,0,-222)+l(0,-212)](!0,t[n(0,0,-220)],t[l(0,-233)+"tus"])}return Sf}function Uf(){var e;Sf&&(Sf[(e=910,Cf(e-775))](),Sf=null,If=null,Tf=null)}function Mf(){const e={};e[t(-657,-681,-681,-670)]=function(e,t){return e!==t};function t(e,t,n,a){return Cf(a- -819)}return e[t(0,0,0,-670)](Sf,null)&&null!==If}function Lf(){return Tf}function Ff(e,t=null,n=null){Tf&&Tf.setAuthenticated(e,t,n)}function Pf(e){Tf&&Tf.setView(e)}export{Pf as a,oo as c,vo as e,Lf as g,Hl as h,Mf as i,Af as m,Ff as s,Uf as u};
